module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=85)}([function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("events")},function(e,t,n){const{TimeoutError:r}=n(15),i=n(18)("puppeteer:error");class o{static evaluationString(e,...t){return o.isString(e)?(s(0===t.length,"Cannot evaluate a string with arguments"),e):`(${e})(${t.map(function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)}).join(",")})`}static getExceptionMessage(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace)for(const n of e.stackTrace.callFrames){const e=n.url+":"+n.lineNumber+":"+n.columnNumber;t+=`\n    at ${n.functionName||"<anonymous>"} (${e})`}return t}static valueFromRemoteObject(e){if(s(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue)switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}return e.value}static async releaseObject(e,t){t.objectId&&await e.send("Runtime.releaseObject",{objectId:t.objectId}).catch(e=>{i(e)})}static installAsyncStackHooks(e){for(const t of Reflect.ownKeys(e.prototype)){const n=Reflect.get(e.prototype,t);"constructor"===t||"string"!=typeof t||t.startsWith("_")||"function"!=typeof n||"AsyncFunction"!==n.constructor.name||Reflect.set(e.prototype,t,function(...e){const t=new Error;return n.call(this,...e).catch(e=>{const n=t.stack.substring(t.stack.indexOf("\n")+1),r=n.substring(n.indexOf("\n"));throw e instanceof Error&&e.stack&&!e.stack.includes(r)&&(e.stack+="\n  -- ASYNC --\n"+n),e})})}}static addEventListener(e,t,n){return e.on(t,n),{emitter:e,eventName:t,handler:n}}static removeEventListeners(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.splice(0,e.length)}static isString(e){return"string"==typeof e||e instanceof String}static isNumber(e){return"number"==typeof e||e instanceof Number}static promisify(e){return function(...t){return new Promise((n,r)=>{e.call(null,...t,function(e,...t){return e?r(e):1===t.length?n(t[0]):n(t)})})}}static waitForEvent(e,t,n,i){let s,a,c;const l=new Promise((e,t)=>{a=e,c=t}),u=o.addEventListener(e,t,e=>{n(e)&&(d(),a(e))});function d(){o.removeEventListeners([u]),clearTimeout(s)}return i&&(s=setTimeout(()=>{d(),c(new r("Timeout exceeded while waiting for event"))},i)),l}static async waitWithTimeout(e,t,n){let i;const o=new r(`waiting for ${t} failed: timeout ${n}ms exceeded`),s=new Promise((e,t)=>i=t),a=setTimeout(()=>i(o),n);try{return await Promise.race([e,s])}finally{clearTimeout(a)}}}function s(e,t){if(!e)throw new Error(t)}e.exports={helper:o,assert:s,debugError:i}},function(e,t){e.exports=require("path")},function(e,t,n){const{TimeoutError:r}=n(28),i=n(18)("puppeteer:error");class o{static evaluationString(e,...t){return o.isString(e)?(s(0===t.length,"Cannot evaluate a string with arguments"),e):`(${e})(${t.map(function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)}).join(",")})`}static getExceptionMessage(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace)for(const n of e.stackTrace.callFrames){const e=n.url+":"+n.lineNumber+":"+n.columnNumber;t+=`\n    at ${n.functionName||"<anonymous>"} (${e})`}return t}static valueFromRemoteObject(e){if(s(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue)switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}return e.value}static releaseObject(e,t){return(n=>{const r=function*(){if(!t.objectId)return;yield e.send("Runtime.releaseObject",{objectId:t.objectId}).catch(e=>{i(e)})}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}static installAsyncStackHooks(e){for(const t of Reflect.ownKeys(e.prototype)){const n=Reflect.get(e.prototype,t);"constructor"===t||"string"!=typeof t||t.startsWith("_")||"function"!=typeof n||"AsyncFunction"!==n.constructor.name||Reflect.set(e.prototype,t,function(...e){const t=new Error;return n.call(this,...e).catch(e=>{const n=t.stack.substring(t.stack.indexOf("\n")+1),r=n.substring(n.indexOf("\n"));throw e instanceof Error&&e.stack&&!e.stack.includes(r)&&(e.stack+="\n  -- ASYNC --\n"+n),e})})}}static addEventListener(e,t,n){return e.on(t,n),{emitter:e,eventName:t,handler:n}}static removeEventListeners(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.splice(0,e.length)}static isString(e){return"string"==typeof e||e instanceof String}static isNumber(e){return"number"==typeof e||e instanceof Number}static promisify(e){return function(...t){return new Promise((n,r)=>{e.call(null,...t,function(e,...t){return e?r(e):1===t.length?n(t[0]):n(t)})})}}static waitForEvent(e,t,n,i){let s,a,c;const l=new Promise((e,t)=>{a=e,c=t}),u=o.addEventListener(e,t,e=>{n(e)&&(d(),a(e))});function d(){o.removeEventListeners([u]),clearTimeout(s)}return i&&(s=setTimeout(()=>{d(),c(new r("Timeout exceeded while waiting for event"))},i)),l}static waitWithTimeout(e,t,n){return(i=>{const o=function*(){let i;const o=new r(`waiting for ${t} failed: timeout ${n}ms exceeded`),s=new Promise((e,t)=>i=t),a=setTimeout(()=>i(o),n);try{return yield Promise.race([e,s])}finally{clearTimeout(a)}}.call(this);return new Promise((e,t)=>{return function n(r,i){let s,a;try{a=(s=o[r](i)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}}function s(e,t){if(!e)throw new Error(t)}e.exports={helper:o,assert:s,debugError:i}},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("os")},function(e,t){const n={Page:{Close:"close",Console:"console",Dialog:"dialog",DOMContentLoaded:"domcontentloaded",Error:"error",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",FrameAttached:"frameattached",FrameDetached:"framedetached",FrameNavigated:"framenavigated",Load:"load",Metrics:"metrics",Popup:"popup",WorkerCreated:"workercreated",WorkerDestroyed:"workerdestroyed"},Browser:{TargetCreated:"targetcreated",TargetDestroyed:"targetdestroyed",TargetChanged:"targetchanged",Disconnected:"disconnected"},BrowserContext:{TargetCreated:"targetcreated",TargetDestroyed:"targetdestroyed",TargetChanged:"targetchanged"},NetworkManager:{Request:Symbol("Events.NetworkManager.Request"),Response:Symbol("Events.NetworkManager.Response"),RequestFailed:Symbol("Events.NetworkManager.RequestFailed"),RequestFinished:Symbol("Events.NetworkManager.RequestFinished")},FrameManager:{FrameAttached:Symbol("Events.FrameManager.FrameAttached"),FrameNavigated:Symbol("Events.FrameManager.FrameNavigated"),FrameDetached:Symbol("Events.FrameManager.FrameDetached"),LifecycleEvent:Symbol("Events.FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("Events.FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("Events.FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("Events.FrameManager.ExecutionContextDestroyed")},Connection:{Disconnected:Symbol("Events.Connection.Disconnected")},CDPSession:{Disconnected:Symbol("Events.CDPSession.Disconnected")}};e.exports={Events:n}},function(e,t){e.exports=require("stream")},function(e,t,n){try{var r=n(5);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(106)}},function(e,t){const n={Page:{Close:"close",Console:"console",Dialog:"dialog",DOMContentLoaded:"domcontentloaded",Error:"error",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",FrameAttached:"frameattached",FrameDetached:"framedetached",FrameNavigated:"framenavigated",Load:"load",Metrics:"metrics",Popup:"popup",WorkerCreated:"workercreated",WorkerDestroyed:"workerdestroyed"},Browser:{TargetCreated:"targetcreated",TargetDestroyed:"targetdestroyed",TargetChanged:"targetchanged",Disconnected:"disconnected"},BrowserContext:{TargetCreated:"targetcreated",TargetDestroyed:"targetdestroyed",TargetChanged:"targetchanged"},NetworkManager:{Request:Symbol("Events.NetworkManager.Request"),Response:Symbol("Events.NetworkManager.Response"),RequestFailed:Symbol("Events.NetworkManager.RequestFailed"),RequestFinished:Symbol("Events.NetworkManager.RequestFinished")},FrameManager:{FrameAttached:Symbol("Events.FrameManager.FrameAttached"),FrameNavigated:Symbol("Events.FrameManager.FrameNavigated"),FrameDetached:Symbol("Events.FrameManager.FrameDetached"),LifecycleEvent:Symbol("Events.FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("Events.FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("Events.FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("Events.FrameManager.ExecutionContextDestroyed")},Connection:{Disconnected:Symbol("Events.Connection.Disconnected")},CDPSession:{Disconnected:Symbol("Events.CDPSession.Disconnected")}};e.exports={Events:n}},function(e,t,n){"use strict";var r=n(22),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=n(17);o.inherits=n(10);var s=n(56),a=n(59);o.inherits(d,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t){class n extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}e.exports={TimeoutError:class extends n{}}},function(e,t,n){const{helper:r,assert:i,debugError:o}=n(2),s=n(3);function a(e,t){const n=e.frame();if("node"===t.subtype&&n){const r=n._frameManager;return new l(e,e._client,t,r.page(),r)}return new c(e,e._client,t)}class c{constructor(e,t,n){this._context=e,this._client=t,this._remoteObject=n,this._disposed=!1}executionContext(){return this._context}async getProperty(e){const t=await this._context.evaluateHandle((e,t)=>{const n={__proto__:null};return n[t]=e[t],n},this,e),n=(await t.getProperties()).get(e)||null;return await t.dispose(),n}async getProperties(){const e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),t=new Map;for(const n of e.result)n.enumerable&&t.set(n.name,a(this._context,n.value));return t}async jsonValue(){if(this._remoteObject.objectId){const e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return r.valueFromRemoteObject(e.result)}return r.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await r.releaseObject(this._client,this._remoteObject))}toString(){if(this._remoteObject.objectId){return"JSHandle@"+(this._remoteObject.subtype||this._remoteObject.type)}return"JSHandle:"+r.valueFromRemoteObject(this._remoteObject)}}class l extends c{constructor(e,t,n,r,i){super(e,t,n),this._client=t,this._remoteObject=n,this._page=r,this._frameManager=i,this._disposed=!1}asElement(){return this}async contentFrame(){const e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return"string"!=typeof e.node.frameId?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){const e=await this.executionContext().evaluate(async(e,t)=>{if(!e.isConnected)return"Node is detached from document";if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";if(!t)return e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1;return 1!==await new Promise(t=>{const n=new IntersectionObserver(e=>{t(e[0].intersectionRatio),n.disconnect()});n.observe(e)})&&e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1},this,this._page._javascriptEnabled);if(e)throw new Error(e)}async _clickablePoint(){const e=await this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(o);if(!e||!e.quads.length)throw new Error("Node is either not visible or not an HTMLElement");const t=e.quads.map(e=>this._fromProtocolQuad(e)).filter(e=>(function(e){let t=0;for(let n=0;n<e.length;++n){const r=e[n],i=e[(n+1)%e.length];t+=(r.x*i.y-i.x*r.y)/2}return Math.abs(t)})(e)>1);if(!t.length)throw new Error("Node is either not visible or not an HTMLElement");const n=t[0];let r=0,i=0;for(const e of n)r+=e.x,i+=e.y;return{x:r/4,y:i/4}}_getBoxModel(){return this._client.send("DOM.getBoxModel",{objectId:this._remoteObject.objectId}).catch(e=>o(e))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}async hover(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.mouse.move(e,t)}async click(e){await this._scrollIntoViewIfNeeded();const{x:t,y:n}=await this._clickablePoint();await this._page.mouse.click(t,n,e)}async uploadFile(...e){const t=e.map(e=>s.resolve(e)),n=this._remoteObject.objectId;await this._client.send("DOM.setFileInputFiles",{objectId:n,files:t})}async tap(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.touchscreen.tap(e,t)}async focus(){await this.executionContext().evaluate(e=>e.focus(),this)}async type(e,t){await this.focus(),await this._page.keyboard.type(e,t)}async press(e,t){await this.focus(),await this._page.keyboard.press(e,t)}async boundingBox(){const e=await this._getBoxModel();if(!e)return null;const t=e.model.border,n=Math.min(t[0],t[2],t[4],t[6]),r=Math.min(t[1],t[3],t[5],t[7]);return{x:n,y:r,width:Math.max(t[0],t[2],t[4],t[6])-n,height:Math.max(t[1],t[3],t[5],t[7])-r}}async boxModel(){const e=await this._getBoxModel();if(!e)return null;const{content:t,padding:n,border:r,margin:i,width:o,height:s}=e.model;return{content:this._fromProtocolQuad(t),padding:this._fromProtocolQuad(n),border:this._fromProtocolQuad(r),margin:this._fromProtocolQuad(i),width:o,height:s}}async screenshot(e={}){let t=!1,n=await this.boundingBox();i(n,"Node is either not visible or not an HTMLElement");const r=this._page.viewport();if(r&&(n.width>r.width||n.height>r.height)){const e={width:Math.max(r.width,Math.ceil(n.width)),height:Math.max(r.height,Math.ceil(n.height))};await this._page.setViewport(Object.assign({},r,e)),t=!0}await this._scrollIntoViewIfNeeded(),n=await this.boundingBox(),i(n,"Node is either not visible or not an HTMLElement"),i(0!==n.width,"Node has 0 width."),i(0!==n.height,"Node has 0 height.");const{layoutViewport:{pageX:o,pageY:s}}=await this._client.send("Page.getLayoutMetrics"),a=Object.assign({},n);a.x+=o,a.y+=s;const c=await this._page.screenshot(Object.assign({},{clip:a},e));return t&&await this._page.setViewport(r),c}async $(e){const t=await this.executionContext().evaluateHandle((e,t)=>e.querySelector(t),this,e),n=t.asElement();return n||(await t.dispose(),null)}async $$(e){const t=await this.executionContext().evaluateHandle((e,t)=>e.querySelectorAll(t),this,e),n=await t.getProperties();await t.dispose();const r=[];for(const e of n.values()){const t=e.asElement();t&&r.push(t)}return r}async $eval(e,t,...n){const r=await this.$(e);if(!r)throw new Error(`Error: failed to find element matching selector "${e}"`);const i=await this.executionContext().evaluate(t,r,...n);return await r.dispose(),i}async $$eval(e,t,...n){const r=await this.executionContext().evaluateHandle((e,t)=>Array.from(e.querySelectorAll(t)),this,e),i=await this.executionContext().evaluate(t,r,...n);return await r.dispose(),i}async $x(e){const t=await this.executionContext().evaluateHandle((e,t)=>{const n=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),r=[];let i;for(;i=n.iterateNext();)r.push(i);return r},this,e),n=await t.getProperties();await t.dispose();const r=[];for(const e of n.values()){const t=e.asElement();t&&r.push(t)}return r}isIntersectingViewport(){return this.executionContext().evaluate(async e=>{return await new Promise(t=>{const n=new IntersectionObserver(e=>{t(e[0].intersectionRatio),n.disconnect()});n.observe(e)})>0},this)}}e.exports={createJSHandle:a,JSHandle:c,ElementHandle:l}},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(88):e.exports=n(89)},function(e,t,n){const r=n(1),{helper:i,assert:o,debugError:s}=n(2),{Events:a}=n(8),c=n(92);class l{constructor(e,t,n,r,i,o){this._client=e,this._requestId=i.requestId,this._isNavigationRequest=i.requestId===i.loaderId&&"Document"===i.type,this._interceptionId=n,this._allowInterception=r,this._interceptionHandled=!1,this._response=null,this._failureText=null,this._url=i.request.url,this._resourceType=i.type.toLowerCase(),this._method=i.request.method,this._postData=i.request.postData,this._headers={},this._frame=t,this._redirectChain=o;for(const e of Object.keys(i.request.headers))this._headers[e.toLowerCase()]=i.request.headers[e];this._fromMemoryCache=!1}url(){return this._url}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={}){if(this._url.startsWith("data:"))return;o(this._allowInterception,"Request Interception is not enabled!"),o(!this._interceptionHandled,"Request is already handled!");const{url:t,method:n,postData:r,headers:i}=e;this._interceptionHandled=!0,await this._client.send("Network.continueInterceptedRequest",{interceptionId:this._interceptionId,url:t,method:n,postData:r,headers:i}).catch(e=>{s(e)})}async respond(e){if(this._url.startsWith("data:"))return;o(this._allowInterception,"Request Interception is not enabled!"),o(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0;const t=e.body&&i.isString(e.body)?Buffer.from(e.body):e.body||null,n={};if(e.headers)for(const t of Object.keys(e.headers))n[t.toLowerCase()]=e.headers[t];e.contentType&&(n["content-type"]=e.contentType),!t||"content-length"in n||(n["content-length"]=Buffer.byteLength(t));const r=e.status||200;let a=`HTTP/1.1 ${r} ${m[r]||""}`+"\r\n";for(const e of Object.keys(n))a+=e+": "+n[e]+"\r\n";a+="\r\n";let c=Buffer.from(a,"utf8");t&&(c=Buffer.concat([c,t])),await this._client.send("Network.continueInterceptedRequest",{interceptionId:this._interceptionId,rawResponse:c.toString("base64")}).catch(e=>{s(e)})}async abort(e="failed"){if(this._url.startsWith("data:"))return;const t=u[e];o(t,"Unknown error code: "+e),o(this._allowInterception,"Request Interception is not enabled!"),o(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0,await this._client.send("Network.continueInterceptedRequest",{interceptionId:this._interceptionId,errorReason:t}).catch(e=>{s(e)})}}const u={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};class d{constructor(e,t,n){this._client=e,this._request=t,this._contentPromise=null,this._bodyLoadedPromise=new Promise(e=>{this._bodyLoadedPromiseFulfill=e}),this._remoteAddress={ip:n.remoteIPAddress,port:n.remotePort},this._status=n.status,this._statusText=n.statusText,this._url=t.url(),this._fromDiskCache=!!n.fromDiskCache,this._fromServiceWorker=!!n.fromServiceWorker,this._headers={};for(const e of Object.keys(n.headers))this._headers[e.toLowerCase()]=n.headers[e];this._securityDetails=n.securityDetails?new p(n.securityDetails):null}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return 0===this._status||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;const t=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(t.body,t.base64Encoded?"base64":"utf8")})),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}const h=new Set(["accept","referer","x-devtools-emulate-network-conditions-client-id","cookie","origin","content-type","intervention"]);function f(e){let t=e.url;try{t=decodeURI(e.url)}catch(e){}const n={url:t,method:e.method,postData:e.postData,headers:{}};if(!t.startsWith("data:")){const t=Object.keys(e.headers);t.sort();for(let r of t){const t=e.headers[r];r=r.toLowerCase(),h.has(r)||(n.headers[r]=t)}}return JSON.stringify(n)}class p{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol}subjectName(){return this._subjectName}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}}const m={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",209:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};e.exports={Request:l,Response:d,NetworkManager:class extends r{constructor(e){super(),this._client=e,this._frameManager=null,this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._extraHTTPHeaders={},this._offline=!1,this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._requestHashToRequestIds=new c,this._requestHashToInterceptionIds=new c,this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestIntercepted",this._onRequestIntercepted.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}setFrameManager(e){this._frameManager=e}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(const t of Object.keys(e)){const n=e[t];o(i.isString(n),`Expected value of header "${t}" to be String, but "${typeof n}" is found.`),this._extraHTTPHeaders[t.toLowerCase()]=n}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}async setOfflineMode(e){this._offline!==e&&(this._offline=e,await this._client.send("Network.emulateNetworkConditions",{offline:this._offline,latency:0,downloadThroughput:-1,uploadThroughput:-1}))}async setUserAgent(e){await this._client.send("Network.setUserAgentOverride",{userAgent:e})}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const e=this._userRequestInterceptionEnabled||!!this._credentials;if(e===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=e;const t=e?[{urlPattern:"*"}]:[];await Promise.all([this._client.send("Network.setCacheDisabled",{cacheDisabled:e}),this._client.send("Network.setRequestInterception",{patterns:t})])}_onRequestWillBeSent(e){if(!this._protocolRequestInterceptionEnabled||e.request.url.startsWith("data:"))this._onRequest(e,null);else{const t=f(e.request),n=this._requestHashToInterceptionIds.firstValue(t);n?(this._onRequest(e,n),this._requestHashToInterceptionIds.delete(t,n)):(this._requestHashToRequestIds.set(t,e.requestId),this._requestIdToRequestWillBeSentEvent.set(e.requestId,e))}}_onRequestIntercepted(e){if(e.authChallenge){let t="Default";this._attemptedAuthentications.has(e.interceptionId)?t="CancelAuth":this._credentials&&(t="ProvideCredentials",this._attemptedAuthentications.add(e.interceptionId));const{username:n,password:r}=this._credentials||{username:void 0,password:void 0};return void this._client.send("Network.continueInterceptedRequest",{interceptionId:e.interceptionId,authChallengeResponse:{response:t,username:n,password:r}}).catch(s)}!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Network.continueInterceptedRequest",{interceptionId:e.interceptionId}).catch(s);const t=f(e.request),n=this._requestHashToRequestIds.firstValue(t);if(n){const r=this._requestIdToRequestWillBeSentEvent.get(n);this._onRequest(r,e.interceptionId),this._requestHashToRequestIds.delete(t,n),this._requestIdToRequestWillBeSentEvent.delete(n)}else this._requestHashToInterceptionIds.set(t,e.interceptionId)}_onRequest(e,t){let n=[];if(e.redirectResponse){const t=this._requestIdToRequest.get(e.requestId);t&&(this._handleRequestRedirect(t,e.redirectResponse),n=t._redirectChain)}const r=e.frameId&&this._frameManager?this._frameManager.frame(e.frameId):null,i=new l(this._client,r,t,this._userRequestInterceptionEnabled,e,n);this._requestIdToRequest.set(e.requestId,i),this.emit(a.NetworkManager.Request,i)}_onRequestServedFromCache(e){const t=this._requestIdToRequest.get(e.requestId);t&&(t._fromMemoryCache=!0)}_handleRequestRedirect(e,t){const n=new d(this._client,e,t);e._response=n,e._redirectChain.push(e),n._bodyLoadedPromiseFulfill.call(null,new Error("Response body is unavailable for redirect responses")),this._requestIdToRequest.delete(e._requestId),this._attemptedAuthentications.delete(e._interceptionId),this.emit(a.NetworkManager.Response,n),this.emit(a.NetworkManager.RequestFinished,e)}_onResponseReceived(e){const t=this._requestIdToRequest.get(e.requestId);if(!t)return;const n=new d(this._client,t,e.response);t._response=n,this.emit(a.NetworkManager.Response,n)}_onLoadingFinished(e){const t=this._requestIdToRequest.get(e.requestId);t&&(t.response()&&t.response()._bodyLoadedPromiseFulfill.call(null),this._requestIdToRequest.delete(t._requestId),this._attemptedAuthentications.delete(t._interceptionId),this.emit(a.NetworkManager.RequestFinished,t))}_onLoadingFailed(e){const t=this._requestIdToRequest.get(e.requestId);if(!t)return;t._failureText=e.errorText;const n=t.response();n&&n._bodyLoadedPromiseFulfill.call(null),this._requestIdToRequest.delete(t._requestId),this._attemptedAuthentications.delete(t._interceptionId),this.emit(a.NetworkManager.RequestFailed,t)}},SecurityDetails:p}},function(e,t,n){const{helper:r,assert:i}=n(2),{createJSHandle:o,JSHandle:s}=n(16),a="__puppeteer_evaluation_script__",c=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;e.exports={ExecutionContext:class{constructor(e,t,n){this._client=e,this._world=n,this._contextId=t.id}frame(){return this._world?this._world.frame():null}async evaluate(e,...t){const n=await this.evaluateHandle(e,...t),r=await n.jsonValue().catch(e=>{if(!e.message.includes("Object reference chain is too long")&&!e.message.includes("Object couldn't be returned by value"))throw e});return await n.dispose(),r}async evaluateHandle(e,...t){const n=`//# sourceURL=${a}`;if(r.isString(e)){const t=this._contextId,i=e,s=c.test(i)?i:i+"\n"+n,{exceptionDetails:a,result:l}=await this._client.send("Runtime.evaluate",{expression:s,contextId:t,returnByValue:!1,awaitPromise:!0,userGesture:!0}).catch(h);if(a)throw new Error("Evaluation failed: "+r.getExceptionMessage(a));return o(this,l)}if("function"!=typeof e)throw new Error(`Expected to get |string| or |function| as the first argument, but got "${e}" instead.`);let i,l=e.toString();try{new Function("("+l+")")}catch(e){l=l.startsWith("async ")?"async function "+l.substring("async ".length):"function "+l;try{new Function("("+l+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}try{i=this._client.send("Runtime.callFunctionOn",{functionDeclaration:l+"\n"+n+"\n",executionContextId:this._contextId,arguments:t.map(function(e){if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};const t=e&&e instanceof s?e:null;if(t){if(t._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw new Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}}.bind(this)),returnByValue:!1,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&"Converting circular structure to JSON"===e.message&&(e.message+=" Are you passing a nested JSHandle?"),e}const{exceptionDetails:u,result:d}=await i.catch(h);if(u)throw new Error("Evaluation failed: "+r.getExceptionMessage(u));return o(this,d);function h(e){if(e.message.endsWith("Cannot find context with specified id"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}}async queryObjects(e){i(!e._disposed,"Prototype JSHandle is disposed!"),i(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");const t=await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return o(this,t.objects)}async _adoptElementHandle(e){i(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),i(this._world,"Cannot adopt handle without DOMWorld");const t=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId}),{object:n}=await this._client.send("DOM.resolveNode",{backendNodeId:t.node.backendNodeId,executionContextId:this._contextId});return o(this,n)}},EVALUATION_SCRIPT_URL:a}},function(e,t,n){const{assert:r}=n(2),i=n(95);e.exports={Keyboard:class{constructor(e){this._client=e,this._modifiers=0,this._pressedKeys=new Set}async down(e,t={text:void 0}){const n=this._keyDescriptionForString(e),r=this._pressedKeys.has(n.code);this._pressedKeys.add(n.code),this._modifiers|=this._modifierBit(n.key);const i=void 0===t.text?n.text:t.text;await this._client.send("Input.dispatchKeyEvent",{type:i?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:n.keyCode,code:n.code,key:n.key,text:i,unmodifiedText:i,autoRepeat:r,location:n.location,isKeypad:3===n.location})}_modifierBit(e){return"Alt"===e?1:"Control"===e?2:"Meta"===e?4:"Shift"===e?8:0}_keyDescriptionForString(e){const t=8&this._modifiers,n={key:"",keyCode:0,code:"",text:"",location:0},o=i[e];return r(o,`Unknown key: "${e}"`),o.key&&(n.key=o.key),t&&o.shiftKey&&(n.key=o.shiftKey),o.keyCode&&(n.keyCode=o.keyCode),t&&o.shiftKeyCode&&(n.keyCode=o.shiftKeyCode),o.code&&(n.code=o.code),o.location&&(n.location=o.location),1===n.key.length&&(n.text=n.key),o.text&&(n.text=o.text),t&&o.shiftText&&(n.text=o.shiftText),-9&this._modifiers&&(n.text=""),n}async up(e){const t=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(t.key),this._pressedKeys.delete(t.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}async type(e,t){let n=0;t&&t.delay&&(n=t.delay);for(const t of e)i[t]?await this.press(t,{delay:n}):await this.sendCharacter(t),n&&await new Promise(e=>setTimeout(e,n))}async press(e,t={}){const{delay:n=null}=t;await this.down(e,t),null!==n&&await new Promise(e=>setTimeout(e,t.delay)),await this.up(e)}},Mouse:class{constructor(e,t){this._client=e,this._keyboard=t,this._x=0,this._y=0,this._button="none"}async move(e,t,n={}){const{steps:r=1}=n,i=this._x,o=this._y;this._x=e,this._y=t;for(let e=1;e<=r;e++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:i+(this._x-i)*(e/r),y:o+(this._y-o)*(e/r),modifiers:this._keyboard._modifiers})}async click(e,t,n={}){const{delay:r=null}=n;this.move(e,t),this.down(n),null!==r&&await new Promise(e=>setTimeout(e,r)),await this.up(n)}async down(e={}){const{button:t="left",clickCount:n=1}=e;this._button=t,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:n})}async up(e={}){const{button:t="left",clickCount:n=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:n})}},Touchscreen:class{constructor(e,t){this._client=e,this._keyboard=t}async tap(e,t){await this._client.send("Runtime.evaluate",{expression:"new Promise(x => requestAnimationFrame(() => requestAnimationFrame(x)))",awaitPromise:!0});const n=[{x:Math.round(e),y:Math.round(t)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:n,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}}}},function(e,t,n){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,r)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process},function(e,t,n){var r=n(105),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){e.exports=h,h.sync=g;var r=n(35),i=n(3),o=n(0),s=n(63),a=parseInt("666",8),c={nosort:!0,silent:!0},l=0,u="win32"===process.platform;function d(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(function(t){e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),e.disableGlob=e.disableGlob||!1,e.glob=e.glob||c}function h(e,t,n){"function"==typeof t&&(n=t,t={}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r.equal(typeof n,"function","rimraf: callback function required"),r(t,"rimraf: invalid options argument provided"),r.equal(typeof t,"object","rimraf: options should be object"),d(t);var i=0,o=null,a=0;if(t.disableGlob||!s.hasMagic(e))return c(null,[e]);function c(e,r){return e?n(e):0===(a=r.length)?n():void r.forEach(function(e){f(e,t,function r(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<t.maxBusyTries)return i++,setTimeout(function(){f(e,t,r)},100*i);if("EMFILE"===s.code&&l<t.emfileWait)return setTimeout(function(){f(e,t,r)},l++);"ENOENT"===s.code&&(s=null)}l=0,function(e){o=o||e,0==--a&&n(o)}(s)})})}t.lstat(e,function(n,r){if(!n)return c(null,[e]);s(e,t.glob,c)})}function f(e,t,n){r(e),r(t),r("function"==typeof n),t.lstat(e,function(r,i){return r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&u&&p(e,t,r,n),i&&i.isDirectory()?y(e,t,r,n):void t.unlink(e,function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return u?p(e,t,r,n):y(e,t,r,n);if("EISDIR"===r.code)return y(e,t,r,n)}return n(r)}))})}function p(e,t,n,i){r(e),r(t),r("function"==typeof i),n&&r(n instanceof Error),t.chmod(e,a,function(r){r?i("ENOENT"===r.code?null:n):t.stat(e,function(r,o){r?i("ENOENT"===r.code?null:n):o.isDirectory()?y(e,t,n,i):t.unlink(e,i)})})}function m(e,t,n){r(e),r(t),n&&r(n instanceof Error);try{t.chmodSync(e,a)}catch(e){if("ENOENT"===e.code)return;throw n}try{var i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?_(e,t,n):t.unlinkSync(e)}function y(e,t,n,o){r(e),r(t),n&&r(n instanceof Error),r("function"==typeof o),t.rmdir(e,function(s){!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?o(n):o(s):function(e,t,n){r(e),r(t),r("function"==typeof n),t.readdir(e,function(r,o){if(r)return n(r);var s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(function(r){h(i.join(e,r),t,function(r){if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))})})})}(e,t,o)})}function g(e,t){var n;if(d(t=t||{}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r(t,"rimraf: missing options"),r.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch(r){n=s.sync(e,t.glob)}if(n.length)for(var i=0;i<n.length;i++){e=n[i];try{var o=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&u&&m(e,t,n)}try{o&&o.isDirectory()?_(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return u?m(e,t,n):_(e,t,n);if("EISDIR"!==n.code)throw n;_(e,t,n)}}}function _(e,t,n){r(e),r(t),n&&r(n instanceof Error);try{t.rmdirSync(e)}catch(o){if("ENOENT"===o.code)return;if("ENOTDIR"===o.code)throw n;"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code||function(e,t){r(e),r(t),t.readdirSync(e).forEach(function(n){g(i.join(e,n),t)});var n=u?100:1,o=0;for(;;){var s=!0;try{var a=t.rmdirSync(e,t);return s=!1,a}finally{if(++o<n&&s)continue}}}(e,t)}}},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";const r=n(132),i=n(55),o=n(38),{kStatusCode:s,NOOP:a}=n(14),c=Buffer.from([0,0,255,255]),l=Buffer.from([0]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),f=Symbol("buffers"),p=Symbol("error");let m;function y(e){this[f].push(e),this[d]+=e.length}function g(e){this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload?this[f].push(e):(this[p]=new RangeError("Max payload size exceeded"),this[p][s]=1009,this.removeListener("data",g),this.reset())}function _(e){this[u]._inflate=null,e[s]=1007,this[h](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!m){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;m=new r({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate.close(),this._deflate=null)}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{var n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){m.push(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){m.push(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:t})),this._inflate[u]=this,this._inflate[d]=0,this._inflate[f]=[],this._inflate.on("error",_),this._inflate.on("data",g)}this._inflate[h]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[p];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=o.concat(this._inflate[f],this._inflate[d]);t&&this.params[`${r}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[f]=[]),n(null,i)})}_compress(e,t,n){if(!e||0===e.length)return void process.nextTick(n,null,l);const r=this._isServer?"server":"client";if(!this._deflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw(Object.assign({},this._options.zlibDeflateOptions,{windowBits:t})),this._deflate[d]=0,this._deflate[f]=[],this._deflate.on("error",a),this._deflate.on("data",y)}this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(this._deflate){var e=o.concat(this._deflate[f],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),t&&this.params[`${r}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[d]=0,this._deflate[f]=[]),n(null,e)}})}}},function(e,t){class n extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}e.exports={TimeoutError:class extends n{}}},function(e,t){e.exports=require("tty")},function(e,t,n){const{helper:r,assert:i}=n(2),{Target:o}=n(46),s=n(1),{TaskQueue:a}=n(97),{Events:c}=n(8);class l extends s{static async create(e,t,n,r,i,o){const s=new l(e,t,n,r,i,o);return await e.send("Target.setDiscoverTargets",{discover:!0}),s}constructor(e,t,n,r,i,o){super(),this._ignoreHTTPSErrors=n,this._defaultViewport=r,this._process=i,this._screenshotTaskQueue=new a,this._connection=e,this._closeCallback=o||new Function,this._defaultContext=new u(this._connection,this,null),this._contexts=new Map;for(const e of t)this._contexts.set(e,new u(this._connection,this,e));this._targets=new Map,this._connection.on(c.Connection.Disconnected,()=>this.emit(c.Browser.Disconnected)),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}process(){return this._process}async createIncognitoBrowserContext(){const{browserContextId:e}=await this._connection.send("Target.createBrowserContext"),t=new u(this._connection,this,e);return this._contexts.set(e,t),t}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}async _targetCreated(e){const t=e.targetInfo,{browserContextId:n}=t,r=n&&this._contexts.has(n)?this._contexts.get(n):this._defaultContext,s=new o(t,r,()=>this._connection.createSession(t),this._ignoreHTTPSErrors,this._defaultViewport,this._screenshotTaskQueue);i(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,s),await s._initializedPromise&&(this.emit(c.Browser.TargetCreated,s),r.emit(c.BrowserContext.TargetCreated,s))}async _targetDestroyed(e){const t=this._targets.get(e.targetId);t._initializedCallback(!1),this._targets.delete(e.targetId),t._closedCallback(),await t._initializedPromise&&(this.emit(c.Browser.TargetDestroyed,t),t.browserContext().emit(c.BrowserContext.TargetDestroyed,t))}_targetInfoChanged(e){const t=this._targets.get(e.targetInfo.targetId);i(t,"target should exist before targetInfoChanged");const n=t.url(),r=t._isInitialized;t._targetInfoChanged(e.targetInfo),r&&n!==t.url()&&(this.emit(c.Browser.TargetChanged,t),t.browserContext().emit(c.BrowserContext.TargetChanged,t))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){const{targetId:t}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),n=await this._targets.get(t);return i(await n._initializedPromise,"Failed to create target for page"),await n.page()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>"browser"===e.type())}async waitForTarget(e,t={}){const{timeout:n=3e4}=t,i=this.targets().find(e);if(i)return i;let o;const s=new Promise(e=>o=e);this.on(c.Browser.TargetCreated,a),this.on(c.Browser.TargetChanged,a);try{return n?await r.waitWithTimeout(s,"target",n):await s}finally{this.removeListener(c.Browser.TargetCreated,a),this.removeListener(c.Browser.TargetChanged,a)}function a(t){e(t)&&o(t)}}async pages(){return(await Promise.all(this.browserContexts().map(e=>e.pages()))).reduce((e,t)=>e.concat(t),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}_getVersion(){return this._connection.send("Browser.getVersion")}}class u extends s{constructor(e,t,n){super(),this._connection=e,this._browser=t,this._id=n}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t){return this._browser.waitForTarget(t=>t.browserContext()===this&&e(t),t)}async pages(){return(await Promise.all(this.targets().filter(e=>"page"===e.type()).map(e=>e.page()))).filter(e=>!!e)}isIncognito(){return!!this._id}async overridePermissions(e,t){const n=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["push","push"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardRead"],["clipboard-write","clipboardWrite"],["payment-handler","paymentHandler"],["midi-sysex","midiSysex"]]);t=t.map(e=>{const t=n.get(e);if(!t)throw new Error("Unknown permission: "+e);return t}),await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:t})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){i(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}}e.exports={Browser:l,BrowserContext:u}},function(e,t,n){const r=n(0),i=n(1),o=n(47),{Events:s}=n(8),{Connection:a}=n(32),{NetworkManager:c}=n(19),{Dialog:l}=n(48),{EmulationManager:u}=n(93),{FrameManager:d}=n(49),{Keyboard:h,Mouse:f,Touchscreen:p}=n(21),m=n(51),{helper:y,debugError:g,assert:_}=n(2),{Coverage:w}=n(52),{Worker:v}=n(53),{createJSHandle:b}=n(16),{Accessibility:k}=n(45),{TimeoutSettings:x}=n(96),C=y.promisify(r.writeFile);class E extends i{static async create(e,t,n,r,i){await e.send("Page.enable");const{frameTree:o}=await e.send("Page.getFrameTree"),s=new E(e,t,o,n,i);return await Promise.all([e.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),e.send("Page.setLifecycleEventsEnabled",{enabled:!0}),e.send("Network.enable",{}),e.send("Runtime.enable",{}).then(()=>s._frameManager.ensureSecondaryDOMWorld()),e.send("Security.enable",{}),e.send("Performance.enable",{}),e.send("Log.enable",{})]),n&&await e.send("Security.setOverrideCertificateErrors",{override:!0}),r&&await s.setViewport(r),s}constructor(e,t,n,r,i){super(),this._closed=!1,this._client=e,this._target=t,this._keyboard=new h(e),this._mouse=new f(e,this._keyboard),this._timeoutSettings=new x,this._touchscreen=new p(e,this._keyboard),this._accessibility=new k(e),this._networkManager=new c(e),this._frameManager=new d(e,n,this,this._networkManager,this._timeoutSettings),this._networkManager.setFrameManager(this._frameManager),this._emulationManager=new u(e),this._tracing=new m(e),this._pageBindings=new Map,this._ignoreHTTPSErrors=r,this._coverage=new w(e),this._javascriptEnabled=!0,this._viewport=null,this._screenshotTaskQueue=i,this._workers=new Map,e.on("Target.attachedToTarget",t=>{if("worker"!==t.targetInfo.type)return void e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(g);const n=a.fromSession(e).session(t.sessionId),r=new v(n,t.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(t.sessionId,r),this.emit(s.Page.WorkerCreated,r)}),e.on("Target.detachedFromTarget",e=>{const t=this._workers.get(e.sessionId);t&&(this.emit(s.Page.WorkerDestroyed,t),this._workers.delete(e.sessionId))}),this._frameManager.on(s.FrameManager.FrameAttached,e=>this.emit(s.Page.FrameAttached,e)),this._frameManager.on(s.FrameManager.FrameDetached,e=>this.emit(s.Page.FrameDetached,e)),this._frameManager.on(s.FrameManager.FrameNavigated,e=>this.emit(s.Page.FrameNavigated,e)),this._networkManager.on(s.NetworkManager.Request,e=>this.emit(s.Page.Request,e)),this._networkManager.on(s.NetworkManager.Response,e=>this.emit(s.Page.Response,e)),this._networkManager.on(s.NetworkManager.RequestFailed,e=>this.emit(s.Page.RequestFailed,e)),this._networkManager.on(s.NetworkManager.RequestFinished,e=>this.emit(s.Page.RequestFinished,e)),e.on("Page.domContentEventFired",e=>this.emit(s.Page.DOMContentLoaded)),e.on("Page.loadEventFired",e=>this.emit(s.Page.Load)),e.on("Runtime.consoleAPICalled",e=>this._onConsoleAPI(e)),e.on("Runtime.bindingCalled",e=>this._onBindingCalled(e)),e.on("Page.javascriptDialogOpening",e=>this._onDialog(e)),e.on("Runtime.exceptionThrown",e=>this._handleException(e.exceptionDetails)),e.on("Security.certificateError",e=>this._onCertificateError(e)),e.on("Inspector.targetCrashed",e=>this._onTargetCrashed()),e.on("Performance.metrics",e=>this._emitMetrics(e)),e.on("Log.entryAdded",e=>this._onLogEntryAdded(e)),this._target._isClosedPromise.then(()=>{this.emit(s.Page.Close),this._closed=!0})}async setGeolocation(e){const{longitude:t,latitude:n,accuracy:r=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(n<-90||n>90)throw new Error(`Invalid latitude "${n}": precondition -90 <= LATITUDE <= 90 failed.`);if(r<0)throw new Error(`Invalid accuracy "${r}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:t,latitude:n,accuracy:r})}target(){return this._target}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:t,text:n,args:r,source:i,url:o,lineNumber:a}=e.entry;r&&r.map(e=>y.releaseObject(this._client,e)),"worker"!==i&&this.emit(s.Page.Console,new F(t,n,[],{url:o,lineNumber:a}))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._networkManager.setRequestInterception(e)}setOfflineMode(e){return this._networkManager.setOfflineMode(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}_onCertificateError(e){this._ignoreHTTPSErrors&&this._client.send("Security.handleCertificateError",{eventId:e.eventId,action:"continue"}).catch(g)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...t){return(await this.mainFrame().executionContext()).evaluateHandle(e,...t)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,t,...n){return this.mainFrame().$eval(e,t,...n)}async $$eval(e,t,...n){return this.mainFrame().$$eval(e,t,...n)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){return(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies}async deleteCookie(...e){const t=this.url();for(const n of e){const e=Object.assign({},n);!n.url&&t.startsWith("http")&&(e.url=t),await this._client.send("Network.deleteCookies",e)}}async setCookie(...e){const t=this.url(),n=t.startsWith("http"),r=e.map(e=>{const r=Object.assign({},e);return!r.url&&n&&(r.url=t),_("about:blank"!==r.url,`Blank page can not have cookie "${r.name}"`),_(!String.prototype.startsWith.call(r.url||"","data:"),`Data URL page can not have cookie "${r.name}"`),r});await this.deleteCookie(...r),r.length&&await this._client.send("Network.setCookies",{cookies:r})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,t){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,t);const n=y.evaluationString(function(e){const t=window[e];window[e]=((...n)=>{const r=window[e];let i=r.callbacks;i||(i=new Map,r.callbacks=i);const o=(r.lastSeq||0)+1;r.lastSeq=o;const s=new Promise((e,t)=>i.set(o,{resolve:e,reject:t}));return t(JSON.stringify({name:e,seq:o,args:n})),s})},e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:n}),await Promise.all(this.frames().map(e=>e.evaluate(n).catch(g)))}async authenticate(e){return this._networkManager.authenticate(e)}async setExtraHTTPHeaders(e){return this._networkManager.setExtraHTTPHeaders(e)}async setUserAgent(e){return this._networkManager.setUserAgent(e)}async metrics(){const e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit(s.Page.Metrics,{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const t={};for(const n of e||[])P.has(n.name)&&(t[n.name]=n.value);return t}_handleException(e){const t=y.getExceptionMessage(e),n=new Error(t);n.stack="",this.emit(s.Page.PageError,n)}async _onConsoleAPI(e){if(0===e.executionContextId)return;const t=this._frameManager.executionContextById(e.executionContextId),n=e.args.map(e=>b(t,e));this._addConsoleMessage(e.type,n,e.stackTrace)}async _onBindingCalled(e){const{name:t,seq:n,args:r}=JSON.parse(e.payload);let i=null;try{const e=await this._pageBindings.get(t)(...r);i=y.evaluationString(function(e,t,n){window[e].callbacks.get(t).resolve(n),window[e].callbacks.delete(t)},t,n,e)}catch(e){i=e instanceof Error?y.evaluationString(function(e,t,n,r){const i=new Error(n);i.stack=r,window[e].callbacks.get(t).reject(i),window[e].callbacks.delete(t)},t,n,e.message,e.stack):y.evaluationString(function(e,t,n){window[e].callbacks.get(t).reject(n),window[e].callbacks.delete(t)},t,n,e)}this._client.send("Runtime.evaluate",{expression:i,contextId:e.executionContextId}).catch(g)}_addConsoleMessage(e,t,n){if(!this.listenerCount(s.Page.Console))return void t.forEach(e=>e.dispose());const r=[];for(const e of t){const t=e._remoteObject;t.objectId?r.push(e.toString()):r.push(y.valueFromRemoteObject(t))}const i=n&&n.callFrames.length?{url:n.callFrames[0].url,lineNumber:n.callFrames[0].lineNumber,columnNumber:n.callFrames[0].columnNumber}:{},o=new F(e,r.join(" "),t,i);this.emit(s.Page.Console,o)}_onDialog(e){let t=null;"alert"===e.type?t=l.Type.Alert:"confirm"===e.type?t=l.Type.Confirm:"prompt"===e.type?t=l.Type.Prompt:"beforeunload"===e.type&&(t=l.Type.BeforeUnload),_(t,"Unknown javascript dialog type: "+e.type);const n=new l(this._client,t,e.message,e.defaultPrompt);this.emit(s.Page.Dialog,n)}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,t){await this._frameManager.mainFrame().setContent(e,t)}async goto(e,t){return await this._frameManager.mainFrame().goto(e,t)}async reload(e){const[t]=await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]);return t}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}async waitForRequest(e,t={}){const{timeout:n=this._timeoutSettings.timeout()}=t;return y.waitForEvent(this._networkManager,s.NetworkManager.Request,t=>y.isString(e)?e===t.url():"function"==typeof e&&!!e(t),n)}async waitForResponse(e,t={}){const{timeout:n=this._timeoutSettings.timeout()}=t;return y.waitForEvent(this._networkManager,s.NetworkManager.Response,t=>y.isString(e)?e===t.url():"function"==typeof e&&!!e(t),n)}async goBack(e){return this._go(-1,e)}async goForward(e){return this._go(1,e)}async _go(e,t){const n=await this._client.send("Page.getNavigationHistory"),r=n.entries[n.currentIndex+e];if(!r)return null;const[i]=await Promise.all([this.waitForNavigation(t),this._client.send("Page.navigateToHistoryEntry",{entryId:r.id})]);return i}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMedia(e){_("screen"===e||"print"===e||null===e,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async setViewport(e){const t=await this._emulationManager.emulateViewport(e);this._viewport=e,t&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...t){return this._frameManager.mainFrame().evaluate(e,...t)}async evaluateOnNewDocument(e,...t){const n=y.evaluationString(e,...t);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:n})}async setCacheEnabled(e=!0){await this._client.send("Network.setCacheDisabled",{cacheDisabled:!e})}async screenshot(e={}){let t=null;if(e.type)_("png"===e.type||"jpeg"===e.type,"Unknown options.type value: "+e.type),t=e.type;else if(e.path){const n=o.getType(e.path);"image/png"===n?t="png":"image/jpeg"===n&&(t="jpeg"),_(t,"Unsupported screenshot mime type: "+n)}return t||(t="png"),e.quality&&(_("jpeg"===t,"options.quality is unsupported for the "+t+" screenshots"),_("number"==typeof e.quality,"Expected options.quality to be a number but found "+typeof e.quality),_(Number.isInteger(e.quality),"Expected options.quality to be an integer"),_(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),_(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(_("number"==typeof e.clip.x,"Expected options.clip.x to be a number but found "+typeof e.clip.x),_("number"==typeof e.clip.y,"Expected options.clip.y to be a number but found "+typeof e.clip.y),_("number"==typeof e.clip.width,"Expected options.clip.width to be a number but found "+typeof e.clip.width),_("number"==typeof e.clip.height,"Expected options.clip.height to be a number but found "+typeof e.clip.height),_(0!==e.clip.width,"Expected options.clip.width not to be 0."),_(0!==e.clip.height,"Expected options.clip.width not to be 0.")),this._screenshotTaskQueue.postTask(this._screenshotTask.bind(this,t,e))}async _screenshotTask(e,t){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let n=t.clip?function(e){const t=Math.round(e.x),n=Math.round(e.y),r=Math.round(e.width+e.x-t),i=Math.round(e.height+e.y-n);return{x:t,y:n,width:r,height:i,scale:1}}(t.clip):void 0;if(t.fullPage){const e=await this._client.send("Page.getLayoutMetrics"),t=Math.ceil(e.contentSize.width),r=Math.ceil(e.contentSize.height);n={x:0,y:0,width:t,height:r,scale:1};const{isMobile:i=!1,deviceScaleFactor:o=1,isLandscape:s=!1}=this._viewport||{},a=s?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};await this._client.send("Emulation.setDeviceMetricsOverride",{mobile:i,width:t,height:r,deviceScaleFactor:o,screenOrientation:a})}const r=t.omitBackground&&"png"===e;r&&await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});const i=await this._client.send("Page.captureScreenshot",{format:e,quality:t.quality,clip:n});r&&await this._client.send("Emulation.setDefaultBackgroundColorOverride"),t.fullPage&&this._viewport&&await this.setViewport(this._viewport);const o="base64"===t.encoding?i.data:Buffer.from(i.data,"base64");return t.path&&await C(t.path,o),o}async pdf(e={}){const{scale:t=1,displayHeaderFooter:n=!1,headerTemplate:r="",footerTemplate:i="",printBackground:o=!1,landscape:s=!1,pageRanges:a="",preferCSSPageSize:c=!1,margin:l={},path:u=null}=e;let d=8.5,h=11;if(e.format){const t=E.PaperFormats[e.format.toLowerCase()];_(t,"Unknown paper format: "+e.format),d=t.width,h=t.height}else d=T(e.width)||d,h=T(e.height)||h;const f=T(l.top)||0,p=T(l.left)||0,m=T(l.bottom)||0,y=T(l.right)||0,g=await this._client.send("Page.printToPDF",{landscape:s,displayHeaderFooter:n,headerTemplate:r,footerTemplate:i,printBackground:o,scale:t,paperWidth:d,paperHeight:h,marginTop:f,marginBottom:m,marginLeft:p,marginRight:y,pageRanges:a,preferCSSPageSize:c}),w=Buffer.from(g.data,"base64");return null!==u&&await C(u,w),w}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){_(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed."),!!e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,t={}){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,n){return this.mainFrame().type(e,t,n)}waitFor(e,t={},...n){return this.mainFrame().waitFor(e,t,...n)}waitForSelector(e,t={}){return this.mainFrame().waitForSelector(e,t)}waitForXPath(e,t={}){return this.mainFrame().waitForXPath(e,t)}waitForFunction(e,t={},...n){return this.mainFrame().waitForFunction(e,t,...n)}}const P=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]);E.PaperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.5,height:23.4},a3:{width:11.7,height:16.5},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const S={px:1,in:96,cm:37.8,mm:3.78};function T(e){if(void 0===e)return;let t;if(y.isNumber(e))t=e;else{if(!y.isString(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const n=e;let r=n.substring(n.length-2).toLowerCase(),i="";S.hasOwnProperty(r)?i=n.substring(0,n.length-2):(r="px",i=n);const o=Number(i);_(!isNaN(o),"Failed to parse parameter value: "+n),t=o*S[r]}}return t/96}class F{constructor(e,t,n,r={}){this._type=e,this._text=t,this._args=n,this._location=r}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._location}}e.exports={Page:E,ConsoleMessage:F}},function(e,t,n){const{assert:r}=n(2),{Events:i}=n(8),o=n(18)("puppeteer:protocol"),s=n(1);class a extends s{constructor(e,t,n){super(),this._callbacks=new Map,this._connection=e,this._targetType=t,this._sessionId=n}send(e,t={}){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));const n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:t});return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?t.reject(c(t.error,t.method,e)):t.resolve(e.result)}else r(!e.id),this.emit(e.method,e.params)}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(const e of this._callbacks.values())e.reject(l(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(i.CDPSession.Disconnected)}}function c(e,t,n){let r=`Protocol error (${t}): ${n.error.message}`;return"data"in n.error&&(r+=` ${n.error.data}`),l(e,r)}function l(e,t){return e.message=t,e}e.exports={Connection:class extends s{constructor(e,t,n=0){super(),this._url=e,this._lastId=0,this._callbacks=new Map,this._delay=n,this._transport=t,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this),this._sessions=new Map,this._closed=!1}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,t={}){const n=this._rawSend({method:e,params:t});return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new Error,method:e})})}_rawSend(e){const t=++this._lastId;return e=JSON.stringify(Object.assign({},e,{id:t})),o("SEND ► "+e),this._transport.send(e),t}async _onMessage(e){this._delay&&await new Promise(e=>setTimeout(e,this._delay)),o("◀ RECV "+e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,n=new a(this,t.params.targetInfo.type,e);this._sessions.set(e,n)}else if("Target.detachedFromTarget"===t.method){const e=this._sessions.get(t.params.sessionId);e&&(e._onClosed(),this._sessions.delete(t.params.sessionId))}if(t.sessionId){const e=this._sessions.get(t.sessionId);e&&e._onMessage(t)}else if(t.id){const e=this._callbacks.get(t.id);e&&(this._callbacks.delete(t.id),t.error?e.reject(c(e.error,e.method,t)):e.resolve(t.result))}else this.emit(t.method,t.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(const e of this._callbacks.values())e.reject(l(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(const e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(i.Connection.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(e){const{sessionId:t}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});return this._sessions.get(t)}},CDPSession:a}},function(e,t,n){const r=n(7),i=n(0),o=n(3),s=n(54),a=n(5),c=n(6),{helper:l,assert:u}=n(2),d=n(24),h=n(68),f=n(71).getProxyForUrl,p="https://storage.googleapis.com",m=["mac","linux","win32","win64"],y={linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"};function g(e,t){return"linux"===e?"chrome-linux":"mac"===e?"chrome-mac":"win32"===e||"win64"===e?parseInt(t,10)>591479?"chrome-win":"chrome-win32":null}function _(e,t,n){return a.format(y[e],t,n,g(e,n))}const w=l.promisify(i.readdir.bind(i)),v=l.promisify(i.mkdir.bind(i)),b=l.promisify(i.unlink.bind(i)),k=l.promisify(i.chmod.bind(i));function x(e){let t=null;const n=new Promise(e=>t=e);return i.access(e,e=>t(!e)),n}function C(e,t,r){const i=c.parse(e);i.method=t;const o=f(e);if(o){const e=c.parse(o);e.secureProxy="https:"===e.protocol,i.agent=new h(e),i.rejectUnauthorized=!1}const s=e=>{e.statusCode>=300&&e.statusCode<400&&e.headers.location?C(e.headers.location,t,r):r(e)},a="https:"===i.protocol?n(25).request(i,s):n(13).request(i,s);return a.end(),a}e.exports=class{constructor(e,t={}){if(this._downloadsFolder=t.path||o.join(e,".local-chromium"),this._downloadHost=t.host||p,this._platform=t.platform||"",!this._platform){const e=r.platform();"darwin"===e?this._platform="mac":"linux"===e?this._platform="linux":"win32"===e&&(this._platform="x64"===r.arch()?"win64":"win32"),u(this._platform,"Unsupported platform: "+r.platform())}u(m.includes(this._platform),"Unsupported platform: "+this._platform)}platform(){return this._platform}canDownload(e){const t=_(this._platform,this._downloadHost,e);let n;const r=new Promise(e=>n=e);return C(t,"HEAD",e=>{n(200===e.statusCode)}).on("error",e=>{console.error(e),n(!1)}),r}async download(e,t){const n=_(this._platform,this._downloadHost,e),r=o.join(this._downloadsFolder,`download-${this._platform}-${e}.zip`),a=this._getFolderPath(e);if(await x(a))return this.revisionInfo(e);await x(this._downloadsFolder)||await v(this._downloadsFolder);try{await function(e,t,n){let r,o,s=0,a=0;const c=new Promise((e,t)=>{r=e,o=t});return C(e,"GET",s=>{if(200!==s.statusCode){const t=new Error(`Download failed: server returned code ${s.statusCode}. URL: ${e}`);return s.resume(),void o(t)}const c=i.createWriteStream(t);c.on("finish",()=>r()),c.on("error",e=>o(e)),s.pipe(c),a=parseInt(s.headers["content-length"],10),n&&s.on("data",l)}).on("error",e=>o(e)),c;function l(e){s+=e.length,n(s,a)}}(n,r,t),await function(e,t){return new Promise((n,r)=>s(e,{dir:t},e=>{e?r(e):n()}))}(r,a)}finally{await x(r)&&await b(r)}const c=this.revisionInfo(e);return c&&await k(c.executablePath,493),c}async localRevisions(){return await x(this._downloadsFolder)?(await w(this._downloadsFolder)).map(e=>(function(e){const t=o.basename(e).split("-");if(2!==t.length)return null;const[n,r]=t;return m.includes(n)?{platform:n,revision:r}:null})(e)).filter(e=>e&&e.platform===this._platform).map(e=>e.revision):[]}async remove(e){const t=this._getFolderPath(e);u(await x(t),`Failed to remove: revision ${e} is not downloaded`),await new Promise(e=>d(t,e))}revisionInfo(e){const t=this._getFolderPath(e);let n="";if("mac"===this._platform)n=o.join(t,g(this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if("linux"===this._platform)n=o.join(t,g(this._platform,e),"chrome");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);n=o.join(t,g(this._platform,e),"chrome.exe")}const r=_(this._platform,this._downloadHost,e);return{revision:e,executablePath:n,folderPath:t,local:i.existsSync(t),url:r}}_getFolderPath(e){return o.join(this._downloadsFolder,this._platform+"-"+e)}}},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("assert")},function(e,t,n){e.exports=p,p.Minimatch=m;var r={sep:"/"};try{r=n(3)}catch(e){}var i=p.GLOBSTAR=m.GLOBSTAR={},o=n(117),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",d="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var h=/\/+/;function f(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function p(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function y(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(n,r,i){return p(n,e,t)}},p.defaults=function(e){if(!e||!Object.keys(e).length)return p;var t=p,n=function(n,r,i){return t.minimatch(n,r,f(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,f(e,r))},n},m.defaults=function(e){return e&&Object.keys(e).length?p.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(h)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},p.braceExpand=function(e,t){return y(e,t)},m.prototype.braceExpand=y,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",l=!!n.nocase,u=!1,h=[],f=[],p=!1,m=-1,y=-1,_="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function v(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var b,k=0,x=e.length;k<x&&(b=e.charAt(k));k++)if(this.debug("%s\t%s %s %j",e,k,o,b),u&&d[b])o+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":v(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,k,o,b),p){this.debug("  in class"),"!"===b&&k===y+1&&(b="^"),o+=b;continue}w.debug("call clearStateChar %j",r),v(),r=b,n.noext&&v();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}h.push({type:r,start:k-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!h.length){o+="\\)";continue}v(),l=!0;var C=h.pop();o+=C.close,"!"===C.type&&f.push(C),C.reEnd=o.length;continue;case"|":if(p||!h.length||u){o+="\\|",u=!1;continue}v(),o+="|";continue;case"[":if(v(),p){o+="\\"+b;continue}p=!0,y=k,m=o.length,o+=b;continue;case"]":if(k===y+1||!p){o+="\\"+b,u=!1;continue}if(p){var E=e.substring(y+1,k);try{RegExp("["+E+"]")}catch(e){var P=this.parse(E,g);o=o.substr(0,m)+"\\["+P[0]+"\\]",l=l||P[1],p=!1;continue}}l=!0,p=!1,o+=b;continue;default:v(),u?u=!1:!d[b]||"^"===b&&p||(o+="\\"),o+=b}p&&(E=e.substr(y+1),P=this.parse(E,g),o=o.substr(0,m)+"\\["+P[0],l=l||P[1]);for(C=h.pop();C;C=h.pop()){var S=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",S,S,C,o);var T="*"===C.type?c:"?"===C.type?a:"\\"+C.type;l=!0,o=o.slice(0,C.reStart)+T+"\\("+S}v(),u&&(o+="\\\\");var F=!1;switch(o.charAt(0)){case".":case"[":case"(":F=!0}for(var I=f.length-1;I>-1;I--){var N=f[I],R=o.slice(0,N.reStart),M=o.slice(N.reStart,N.reEnd-8),O=o.slice(N.reEnd-8,N.reEnd),L=o.slice(N.reEnd);O+=L;var D=R.split("(").length-1,A=L;for(k=0;k<D;k++)A=A.replace(/\)[+*?]?/,"");var j="";""===(L=A)&&t!==g&&(j="$");var q=R+M+L+j+O;o=q}""!==o&&l&&(o="(?=.)"+o);F&&(o=_+o);if(t===g)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var B=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",B)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=o,U};var g={};p.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?l:u,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,n){var r=new m(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(h),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;n.matchBase&&1===a.length&&(c=[i]);var l=this.matchOne(c,a,t);if(l)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,u=t[s],d=e[o];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var h=o,f=s+1;if(f===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,f,p),this.matchOne(e.slice(h),t.slice(f),n))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}if("string"==typeof u?(l=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(14);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);for(var i=0,o=0;o<e.length;o++){const t=e[o];t.copy(n,i),i+=t.length}return n}function o(e,t,n,r,i){for(var o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function s(e,t){const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){return c.readOnly=!0,Buffer.isBuffer(e)?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=function(e){const t=Buffer.from(e.buffer);if(e.byteLength!==e.buffer.byteLength)return t.slice(e.byteOffset,e.byteOffset+e.byteLength);return t}(e):(t=Buffer.from(e),c.readOnly=!1),t);var t}try{const t=n(133),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,n,i,s){s<48?o(e,t,n,i,s):r.mask(e,t,n,i,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s}}},function(e,t,n){const{helper:r,assert:i}=n(4),{createJSHandle:o,JSHandle:s}=n(40),a="__puppeteer_evaluation_script__",c=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;e.exports={ExecutionContext:class{constructor(e,t,n){this._client=e,this._world=n,this._contextId=t.id}frame(){return this._world?this._world.frame():null}evaluate(e,...t){return(n=>{const r=function*(){const n=yield this.evaluateHandle(e,...t),r=yield n.jsonValue().catch(e=>{if(!e.message.includes("Object reference chain is too long")&&!e.message.includes("Object couldn't be returned by value"))throw e});return yield n.dispose(),r}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}evaluateHandle(e,...t){return(n=>{const i=function*(){const n=`//# sourceURL=${a}`;if(r.isString(e)){const t=this._contextId,i=e,s=c.test(i)?i:i+"\n"+n,{exceptionDetails:a,result:l}=yield this._client.send("Runtime.evaluate",{expression:s,contextId:t,returnByValue:!1,awaitPromise:!0,userGesture:!0}).catch(h);if(a)throw new Error("Evaluation failed: "+r.getExceptionMessage(a));return o(this,l)}if("function"!=typeof e)throw new Error(`Expected to get |string| or |function| as the first argument, but got "${e}" instead.`);let i,l=e.toString();try{new Function("("+l+")")}catch(e){l=l.startsWith("async ")?"async function "+l.substring("async ".length):"function "+l;try{new Function("("+l+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}try{i=this._client.send("Runtime.callFunctionOn",{functionDeclaration:l+"\n"+n+"\n",executionContextId:this._contextId,arguments:t.map(function(e){if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};const t=e&&e instanceof s?e:null;if(t){if(t._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw new Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}}.bind(this)),returnByValue:!1,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&"Converting circular structure to JSON"===e.message&&(e.message+=" Are you passing a nested JSHandle?"),e}const{exceptionDetails:u,result:d}=yield i.catch(h);if(u)throw new Error("Evaluation failed: "+r.getExceptionMessage(u));return o(this,d);function h(e){if(e.message.endsWith("Cannot find context with specified id"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}queryObjects(e){return(t=>{const n=function*(){i(!e._disposed,"Prototype JSHandle is disposed!"),i(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");const t=yield this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return o(this,t.objects)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_adoptElementHandle(e){return(t=>{const n=function*(){i(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),i(this._world,"Cannot adopt handle without DOMWorld");const t=yield this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId}),{object:n}=yield this._client.send("DOM.resolveNode",{backendNodeId:t.node.backendNodeId,executionContextId:this._contextId});return o(this,n)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}},EVALUATION_SCRIPT_URL:a}},function(e,t,n){const{helper:r,assert:i,debugError:o}=n(4),s=n(3);function a(e,t){const n=e.frame();if("node"===t.subtype&&n){const r=n._frameManager;return new l(e,e._client,t,r.page(),r)}return new c(e,e._client,t)}class c{constructor(e,t,n){this._context=e,this._client=t,this._remoteObject=n,this._disposed=!1}executionContext(){return this._context}getProperty(e){return(t=>{const n=function*(){const t=yield this._context.evaluateHandle((e,t)=>{const n={__proto__:null};return n[t]=e[t],n},this,e),n=(yield t.getProperties()).get(e)||null;return yield t.dispose(),n}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}getProperties(){return(e=>{const t=function*(){const e=yield this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),t=new Map;for(const n of e.result)n.enumerable&&t.set(n.name,a(this._context,n.value));return t}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}jsonValue(){return(e=>{const t=function*(){if(this._remoteObject.objectId){const e=yield this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return r.valueFromRemoteObject(e.result)}return r.valueFromRemoteObject(this._remoteObject)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}asElement(){return null}dispose(){return(e=>{const t=function*(){if(this._disposed)return;this._disposed=!0,yield r.releaseObject(this._client,this._remoteObject)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}toString(){if(this._remoteObject.objectId){return"JSHandle@"+(this._remoteObject.subtype||this._remoteObject.type)}return"JSHandle:"+r.valueFromRemoteObject(this._remoteObject)}}class l extends c{constructor(e,t,n,r,i){super(e,t,n),this._client=t,this._remoteObject=n,this._page=r,this._frameManager=i,this._disposed=!1}asElement(){return this}contentFrame(){return(e=>{const t=function*(){const e=yield this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return"string"!=typeof e.node.frameId?null:this._frameManager.frame(e.node.frameId)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_scrollIntoViewIfNeeded(){return(e=>{const t=function*(){const e=yield this.executionContext().evaluate((e,t)=>(n=>{const r=function*(){if(!e.isConnected)return"Node is detached from document";if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";if(!t)return e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1;1!==(yield new Promise(t=>{const n=new IntersectionObserver(e=>{t(e[0].intersectionRatio),n.disconnect()});n.observe(e)}))&&e.scrollIntoView({block:"center",inline:"center",behavior:"instant"});return!1}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{s=r[i](o),a=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})(),this,this._page._javascriptEnabled);if(e)throw new Error(e)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_clickablePoint(){return(e=>{const t=function*(){const e=yield this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(o);if(!e||!e.quads.length)throw new Error("Node is either not visible or not an HTMLElement");const t=e.quads.map(e=>this._fromProtocolQuad(e)).filter(e=>(function(e){let t=0;for(let n=0;n<e.length;++n){const r=e[n],i=e[(n+1)%e.length];t+=(r.x*i.y-i.x*r.y)/2}return Math.abs(t)})(e)>1);if(!t.length)throw new Error("Node is either not visible or not an HTMLElement");const n=t[0];let r=0,i=0;for(const e of n)r+=e.x,i+=e.y;return{x:r/4,y:i/4}}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_getBoxModel(){return this._client.send("DOM.getBoxModel",{objectId:this._remoteObject.objectId}).catch(e=>o(e))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}hover(){return(e=>{const t=function*(){yield this._scrollIntoViewIfNeeded();const{x:e,y:t}=yield this._clickablePoint();yield this._page.mouse.move(e,t)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}click(e){return(t=>{const n=function*(){yield this._scrollIntoViewIfNeeded();const{x:t,y:n}=yield this._clickablePoint();yield this._page.mouse.click(t,n,e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}uploadFile(...e){return(t=>{const n=function*(){const t=e.map(e=>s.resolve(e)),n=this._remoteObject.objectId;yield this._client.send("DOM.setFileInputFiles",{objectId:n,files:t})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}tap(){return(e=>{const t=function*(){yield this._scrollIntoViewIfNeeded();const{x:e,y:t}=yield this._clickablePoint();yield this._page.touchscreen.tap(e,t)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}focus(){return(e=>{const t=function*(){yield this.executionContext().evaluate(e=>e.focus(),this)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}type(e,t){return(n=>{const r=function*(){yield this.focus(),yield this._page.keyboard.type(e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}press(e,t){return(n=>{const r=function*(){yield this.focus(),yield this._page.keyboard.press(e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}boundingBox(){return(e=>{const t=function*(){const e=yield this._getBoxModel();if(!e)return null;const t=e.model.border,n=Math.min(t[0],t[2],t[4],t[6]),r=Math.min(t[1],t[3],t[5],t[7]),i=Math.max(t[0],t[2],t[4],t[6])-n,o=Math.max(t[1],t[3],t[5],t[7])-r;return{x:n,y:r,width:i,height:o}}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}boxModel(){return(e=>{const t=function*(){const e=yield this._getBoxModel();if(!e)return null;const{content:t,padding:n,border:r,margin:i,width:o,height:s}=e.model;return{content:this._fromProtocolQuad(t),padding:this._fromProtocolQuad(n),border:this._fromProtocolQuad(r),margin:this._fromProtocolQuad(i),width:o,height:s}}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}screenshot(e={}){return(t=>{const n=function*(){let t=!1,n=yield this.boundingBox();i(n,"Node is either not visible or not an HTMLElement");const r=this._page.viewport();if(r&&(n.width>r.width||n.height>r.height)){const e={width:Math.max(r.width,Math.ceil(n.width)),height:Math.max(r.height,Math.ceil(n.height))};yield this._page.setViewport(Object.assign({},r,e)),t=!0}yield this._scrollIntoViewIfNeeded(),n=yield this.boundingBox(),i(n,"Node is either not visible or not an HTMLElement"),i(0!==n.width,"Node has 0 width."),i(0!==n.height,"Node has 0 height.");const{layoutViewport:{pageX:o,pageY:s}}=yield this._client.send("Page.getLayoutMetrics"),a=Object.assign({},n);a.x+=o,a.y+=s;const c=yield this._page.screenshot(Object.assign({},{clip:a},e));t&&(yield this._page.setViewport(r));return c}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$(e){return(t=>{const n=function*(){const t=yield this.executionContext().evaluateHandle((e,t)=>e.querySelector(t),this,e),n=t.asElement();return n||(yield t.dispose(),null)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$$(e){return(t=>{const n=function*(){const t=yield this.executionContext().evaluateHandle((e,t)=>e.querySelectorAll(t),this,e),n=yield t.getProperties();yield t.dispose();const r=[];for(const e of n.values()){const t=e.asElement();t&&r.push(t)}return r}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$eval(e,t,...n){return(r=>{const i=function*(){const r=yield this.$(e);if(!r)throw new Error(`Error: failed to find element matching selector "${e}"`);const i=yield this.executionContext().evaluate(t,r,...n);return yield r.dispose(),i}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$$eval(e,t,...n){return(r=>{const i=function*(){const r=yield this.executionContext().evaluateHandle((e,t)=>Array.from(e.querySelectorAll(t)),this,e),i=yield this.executionContext().evaluate(t,r,...n);return yield r.dispose(),i}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$x(e){return(t=>{const n=function*(){const t=yield this.executionContext().evaluateHandle((e,t)=>{const n=e.ownerDocument||e,r=n.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),i=[];let o;for(;o=r.iterateNext();)i.push(o);return i},this,e),n=yield t.getProperties();yield t.dispose();const r=[];for(const e of n.values()){const t=e.asElement();t&&r.push(t)}return r}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}isIntersectingViewport(){return this.executionContext().evaluate(e=>(t=>{const n=function*(){return(yield new Promise(t=>{const n=new IntersectionObserver(e=>{t(e[0].intersectionRatio),n.disconnect()});n.observe(e)}))>0}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})(),this)}}e.exports={createJSHandle:a,JSHandle:c,ElementHandle:l}},function(e,t){e.exports=require("vscode")},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(43),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const r=n(7),i=n(90),o=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t){function n(e,t){const r=[];for(const i of e._children)r.push(...n(i,t));if(t&&!t.has(e))return r;const i=e.serialize();return r.length&&(i.children=r),[i]}class r{constructor(e){this._payload=e,this._children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._expanded=!1,this._name=this._payload.name?this._payload.name.value:"",this._role=this._payload.role?this._payload.role.value:"Unknown",this._cachedHasFocusableChild;for(const e of this._payload.properties||[])"editable"===e.name&&(this._richlyEditable="richtext"===e.value.value,this._editable=!0),"focusable"===e.name&&(this._focusable=e.value.value),"expanded"===e.name&&(this._expanded=e.value.value)}_isPlainTextField(){return!this._richlyEditable&&(!!this._editable||("textbox"===this._role||"ComboBox"===this._role||"searchbox"===this._role))}_isTextOnlyObject(){const e=this._role;return"LineBreak"===e||"text"===e||"InlineTextBox"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this._children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}isLeafNode(){if(!this._children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!this._hasFocusableChild()&&(!(!this._focusable||!this._name)||!("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this._role&&(!(!this._focusable&&!this._richlyEditable)||(!!this.isControl()||!e&&(this.isLeafNode()&&!!this._name)))}serialize(){const e=new Map;for(const t of this._payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this._payload.name&&e.set("name",this._payload.name.value),this._payload.value&&e.set("value",this._payload.value.value),this._payload.description&&e.set("description",this._payload.description.value);const t={role:this._role},n=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const r of n)e.has(r)&&(t[r]=e.get(r));const r=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const n of r){if("focused"===n&&"WebArea"===this._role)continue;const r=e.get(n);r&&(t[n]=r)}const i=["checked","pressed"];for(const n of i){if(!e.has(n))continue;const r=e.get(n);t[n]="mixed"===r?"mixed":"true"===r}const o=["level","valuemax","valuemin"];for(const n of o)e.has(n)&&(t[n]=e.get(n));const s=["autocomplete","haspopup","invalid","orientation"];for(const n of s){const r=e.get(n);r&&"false"!==r&&(t[n]=r)}return t}static createTree(e){const t=new Map;for(const n of e)t.set(n.nodeId,new r(n));for(const e of t.values())for(const n of e._payload.childIds||[])e._children.push(t.get(n));return t.values().next().value}}e.exports={Accessibility:class{constructor(e){this._client=e}async snapshot(e={}){const{interestingOnly:t=!0}=e,{nodes:i}=await this._client.send("Accessibility.getFullAXTree"),o=r.createTree(i);if(!t)return n(o)[0];const s=new Set;return function e(t,n,r){if(n.isInteresting(r)&&t.add(n),!n.isLeafNode()){r=r||n.isControl();for(const i of n._children)e(t,i,r)}}(s,o,!1),n(o,s)[0]}}}},function(e,t,n){const{Events:r}=n(8),{Page:i}=n(31);e.exports={Target:class{constructor(e,t,n,i,o,s){this._targetInfo=e,this._browserContext=t,this._targetId=e.targetId,this._sessionFactory=n,this._ignoreHTTPSErrors=i,this._defaultViewport=o,this._screenshotTaskQueue=s,this._pagePromise=null,this._initializedPromise=new Promise(e=>this._initializedCallback=e).then(async e=>{if(!e)return!1;const t=this.opener();if(!t||!t._pagePromise||"page"!==this.type())return!0;const n=await t._pagePromise;if(!n.listenerCount(r.Page.Popup))return!0;const i=await this.page();return n.emit(r.Page.Popup,i),!0}),this._isClosedPromise=new Promise(e=>this._closedCallback=e),this._isInitialized="page"!==this._targetInfo.type||""!==this._targetInfo.url,this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return"page"!==this._targetInfo.type&&"background_page"!==this._targetInfo.type||this._pagePromise||(this._pagePromise=this._sessionFactory().then(e=>i.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport,this._screenshotTaskQueue))),this._pagePromise}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;return"page"===e||"background_page"===e||"service_worker"===e||"browser"===e?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&("page"!==this._targetInfo.type||""!==this._targetInfo.url))return this._isInitialized=!0,void this._initializedCallback(!0)}}}},function(e,t){e.exports=require("mime")},function(e,t,n){const{assert:r}=n(2);class i{constructor(e,t,n,r=""){this._client=e,this._type=t,this._message=n,this._handled=!1,this._defaultValue=r}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){r(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){r(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}}i.Type={Alert:"alert",BeforeUnload:"beforeunload",Confirm:"confirm",Prompt:"prompt"},e.exports={Dialog:i}},function(e,t,n){const r=n(1),{helper:i,assert:o}=n(2),{Events:s}=n(8),{ExecutionContext:a,EVALUATION_SCRIPT_URL:c}=n(20),{LifecycleWatcher:l}=n(50),{DOMWorld:u}=n(94),d="__puppeteer_utility_world__";class h{constructor(e,t,n,r){this._frameManager=e,this._client=t,this._parentFrame=n,this._url="",this._id=r,this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._mainWorld=new u(e,this,e._timeoutSettings),this._secondaryWorld=new u(e,this,e._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}async goto(e,t){return await this._frameManager.navigateFrame(this,e,t)}async waitForNavigation(e){return await this._frameManager.waitForFrameNavigation(this,e)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...t){return this._mainWorld.evaluateHandle(e,...t)}async evaluate(e,...t){return this._mainWorld.evaluate(e,...t)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,t,...n){return this._mainWorld.$eval(e,t,...n)}async $$eval(e,t,...n){return this._mainWorld.$$eval(e,t,...n)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,t={}){return this._secondaryWorld.setContent(e,t)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,t){return this._secondaryWorld.click(e,t)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...t){return this._secondaryWorld.select(e,...t)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,t,n){return this._mainWorld.type(e,t,n)}waitFor(e,t={},...n){if(i.isString(e)){const n=e;return n.startsWith("//")?this.waitForXPath(n,t):this.waitForSelector(n,t)}return i.isNumber(e)?new Promise(t=>setTimeout(t,e)):"function"==typeof e?this.waitForFunction(e,t,...n):Promise.reject(new Error("Unsupported target type: "+typeof e))}async waitForSelector(e,t){const n=await this._secondaryWorld.waitForSelector(e,t);if(!n)return null;const r=await this._mainWorld.executionContext(),i=await r._adoptElementHandle(n);return await n.dispose(),i}async waitForXPath(e,t){const n=await this._secondaryWorld.waitForXPath(e,t);if(!n)return null;const r=await this._mainWorld.executionContext(),i=await r._adoptElementHandle(n);return await n.dispose(),i}waitForFunction(e,t={},...n){return this._mainWorld.waitForFunction(e,t,...n)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name,this._navigationURL=e.url,this._url=e.url}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}}function f(e){o(void 0===e.networkIdleTimeout,"ERROR: networkIdleTimeout option is no longer supported."),o(void 0===e.networkIdleInflight,"ERROR: networkIdleInflight option is no longer supported."),o("networkidle"!==e.waitUntil,'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}e.exports={FrameManager:class extends r{constructor(e,t,n,r,i){super(),this._client=e,this._page=n,this._networkManager=r,this._timeoutSettings=i,this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client.on("Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId)),this._client.on("Page.frameNavigated",e=>this._onFrameNavigated(e.frame)),this._client.on("Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url)),this._client.on("Page.frameDetached",e=>this._onFrameDetached(e.frameId)),this._client.on("Page.frameStoppedLoading",e=>this._onFrameStoppedLoading(e.frameId)),this._client.on("Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context)),this._client.on("Runtime.executionContextDestroyed",e=>this._onExecutionContextDestroyed(e.executionContextId)),this._client.on("Runtime.executionContextsCleared",e=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",e=>this._onLifecycleEvent(e)),this._handleFrameTree(t)}async navigateFrame(e,t,n={}){f(n);const{referer:r=this._networkManager.extraHTTPHeaders().referer,waitUntil:i=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=n,s=new l(this,e,i,o);let a=!1,c=await Promise.race([async function(e,t,n,r){try{const i=await e.send("Page.navigate",{url:t,referrer:n,frameId:r});return a=!!i.loaderId,i.errorText?new Error(`${i.errorText} at ${t}`):null}catch(e){return e}}(this._client,t,r,e._id),s.timeoutOrTerminationPromise()]);if(c||(c=await Promise.race([s.timeoutOrTerminationPromise(),a?s.newDocumentNavigationPromise():s.sameDocumentNavigationPromise()])),s.dispose(),c)throw c;return s.navigationResponse()}async waitForFrameNavigation(e,t={}){f(t);const{waitUntil:n=["load"],timeout:r=this._timeoutSettings.navigationTimeout()}=t,i=new l(this,e,n,r),o=await Promise.race([i.timeoutOrTerminationPromise(),i.sameDocumentNavigationPromise(),i.newDocumentNavigationPromise()]);if(i.dispose(),o)throw o;return i.navigationResponse()}_onLifecycleEvent(e){const t=this._frames.get(e.frameId);t&&(t._onLifecycleEvent(e.loaderId,e.name),this.emit(s.FrameManager.LifecycleEvent,t))}_onFrameStoppedLoading(e){const t=this._frames.get(e);t&&(t._onLoadingStopped(),this.emit(s.FrameManager.LifecycleEvent,t))}_handleFrameTree(e){if(e.frame.parentId&&this._onFrameAttached(e.frame.id,e.frame.parentId),this._onFrameNavigated(e.frame),e.childFrames)for(const t of e.childFrames)this._handleFrameTree(t)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,t){if(this._frames.has(e))return;o(t);const n=this._frames.get(t),r=new h(this,this._client,n,e);this._frames.set(r._id,r),this.emit(s.FrameManager.FrameAttached,r)}_onFrameNavigated(e){const t=!e.parentId;let n=t?this._mainFrame:this._frames.get(e.id);if(o(t||n,"We either navigate top level or have old version of the navigated frame"),n)for(const e of n.childFrames())this._removeFramesRecursively(e);t&&(n?(this._frames.delete(n._id),n._id=e.id):n=new h(this,this._client,null,e.id),this._frames.set(e.id,n),this._mainFrame=n),n._navigated(e),this.emit(s.FrameManager.FrameNavigated,n)}async ensureSecondaryDOMWorld(){await this._ensureIsolatedWorld(d)}async _ensureIsolatedWorld(e){this._isolatedWorlds.has(e)||(this._isolatedWorlds.add(e),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${c}`,worldName:e}),await Promise.all(this.frames().map(t=>this._client.send("Page.createIsolatedWorld",{frameId:t._id,grantUniveralAccess:!0,worldName:e}))))}_onFrameNavigatedWithinDocument(e,t){const n=this._frames.get(e);n&&(n._navigatedWithinDocument(t),this.emit(s.FrameManager.FrameNavigatedWithinDocument,n),this.emit(s.FrameManager.FrameNavigated,n))}_onFrameDetached(e){const t=this._frames.get(e);t&&this._removeFramesRecursively(t)}_onExecutionContextCreated(e){const t=e.auxData?e.auxData.frameId:null,n=this._frames.get(t)||null;let r=null;n&&(e.auxData&&e.auxData.isDefault?r=n._mainWorld:e.name===d&&(r=n._secondaryWorld)),e.auxData&&"isolated"===e.auxData.type&&this._isolatedWorlds.add(e.name);const i=new a(this._client,e,r);r&&r._setContext(i),this._contextIdToContext.set(e.id,i)}_onExecutionContextDestroyed(e){const t=this._contextIdToContext.get(e);t&&(this._contextIdToContext.delete(e),t._world&&t._world._setContext(null))}_onExecutionContextsCleared(){for(const e of this._contextIdToContext.values())e._world&&e._world._setContext(null);this._contextIdToContext.clear()}executionContextById(e){const t=this._contextIdToContext.get(e);return o(t,"INTERNAL ERROR: missing context with id = "+e),t}_removeFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t);e._detach(),this._frames.delete(e._id),this.emit(s.FrameManager.FrameDetached,e)}},Frame:h}},function(e,t,n){const{helper:r,assert:i}=n(2),{Events:o}=n(8),{TimeoutError:s}=n(15);const a={load:"load",domcontentloaded:"DOMContentLoaded",networkidle0:"networkIdle",networkidle2:"networkAlmostIdle"};e.exports={LifecycleWatcher:class{constructor(e,t,n,s){Array.isArray(n)?n=n.slice():"string"==typeof n&&(n=[n]),this._expectedLifecycle=n.map(e=>{const t=a[e];return i(t,"Unknown value for options.waitUntil: "+e),t}),this._frameManager=e,this._networkManager=e._networkManager,this._frame=t,this._initialLoaderId=t._loaderId,this._timeout=s,this._navigationRequest=null,this._eventListeners=[r.addEventListener(e._client,o.CDPSession.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),r.addEventListener(this._frameManager,o.FrameManager.LifecycleEvent,this._checkLifecycleComplete.bind(this)),r.addEventListener(this._frameManager,o.FrameManager.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),r.addEventListener(this._frameManager,o.FrameManager.FrameDetached,this._onFrameDetached.bind(this)),r.addEventListener(this._networkManager,o.NetworkManager.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(e=>{this._sameDocumentNavigationCompleteCallback=e}),this._lifecyclePromise=new Promise(e=>{this._lifecycleCallback=e}),this._newDocumentNavigationPromise=new Promise(e=>{this._newDocumentNavigationCompleteCallback=e}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(e=>{this._terminationCallback=e}),this._checkLifecycleComplete()}_onRequest(e){e.frame()===this._frame&&e.isNavigationRequest()&&(this._navigationRequest=e)}_onFrameDetached(e){this._frame!==e?this._checkLifecycleComplete():this._terminationCallback.call(null,new Error("Navigating frame was detached"))}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});const e="Navigation Timeout Exceeded: "+this._timeout+"ms exceeded";return new Promise(e=>this._maximumTimer=setTimeout(e,this._timeout)).then(()=>new s(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){(function e(t,n){for(const e of n)if(!t._lifecycleEvents.has(e))return!1;for(const r of t.childFrames())if(!e(r,n))return!1;return!0})(this._frame,this._expectedLifecycle)&&(this._lifecycleCallback(),(this._frame._loaderId!==this._initialLoaderId||this._hasSameDocumentNavigation)&&(this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback()))}dispose(){r.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}}}},function(e,t,n){const{helper:r,assert:i}=n(2),o=n(0),s=r.promisify(o.open),a=r.promisify(o.write),c=r.promisify(o.close);e.exports=class{constructor(e){this._client=e,this._recording=!1,this._path=""}async start(e){i(!this._recording,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"],{path:n=null,screenshots:r=!1,categories:o=t}=e;r&&o.push("disabled-by-default-devtools.screenshot"),this._path=n,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",categories:o.join(",")})}async stop(){let e;const t=new Promise(t=>e=t);return this._client.once("Tracing.tracingComplete",t=>{this._readStream(t.stream,this._path).then(e)}),await this._client.send("Tracing.end"),this._recording=!1,t}async _readStream(e,t){let n,r=!1;t&&(n=await s(t,"w"));const i=[];for(;!r;){const o=await this._client.send("IO.read",{handle:e});r=o.eof,i.push(Buffer.from(o.data)),t&&await a(n,o.data)}t&&await c(n),await this._client.send("IO.close",{handle:e});let o=null;try{o=Buffer.concat(i)}finally{return o}}}},function(e,t,n){const{helper:r,debugError:i,assert:o}=n(2),{EVALUATION_SCRIPT_URL:s}=n(20);e.exports={Coverage:class{constructor(e){this._jsCoverage=new a(e),this._cssCoverage=new c(e)}async startJSCoverage(e){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}}};class a{constructor(e){this._client=e,this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1}async start(e={}){o(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:n=!1}=e;this._resetOnNavigation=t,this._reportAnonymousScripts=n,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[r.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),r.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:!1,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==s&&(e.url||this._reportAnonymousScripts))try{const t=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,t.scriptSource)}catch(e){i(e)}}async stop(){o(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;const[e]=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);r.removeEventListeners(this._eventListeners);const t=[];for(const n of e.result){let e=this._scriptURLs.get(n.scriptId);!e&&this._reportAnonymousScripts&&(e="debugger://VM"+n.scriptId);const r=this._scriptSources.get(n.scriptId);if(void 0===r||void 0===e)continue;const i=[];for(const e of n.functions)i.push(...e.ranges);const o=l(i);t.push({url:e,ranges:o,text:r})}return t}}class c{constructor(e){this._client=e,this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1}async start(e={}){o(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this._resetOnNavigation=t,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[r.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),r.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){const t=e.header;if(t.sourceURL)try{const e=await this._client.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this._stylesheetURLs.set(t.styleSheetId,t.sourceURL),this._stylesheetSources.set(t.styleSheetId,e.text)}catch(e){i(e)}}async stop(){o(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),r.removeEventListeners(this._eventListeners);const t=new Map;for(const n of e.ruleUsage){let e=t.get(n.styleSheetId);e||(e=[],t.set(n.styleSheetId,e)),e.push({startOffset:n.startOffset,endOffset:n.endOffset,count:n.used?1:0})}const n=[];for(const e of this._stylesheetURLs.keys()){const r=this._stylesheetURLs.get(e),i=this._stylesheetSources.get(e),o=l(t.get(e)||[]);n.push({url:r,ranges:o,text:i})}return n}}function l(e){const t=[];for(const n of e)t.push({offset:n.startOffset,type:0,range:n}),t.push({offset:n.endOffset,type:1,range:n});t.sort((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const n=e.range.endOffset-e.range.startOffset,r=t.range.endOffset-t.range.startOffset;return 0===e.type?r-n:n-r});const n=[],r=[];let i=0;for(const e of t){if(n.length&&i<e.offset&&n[n.length-1]>0){const t=r.length?r[r.length-1]:null;t&&t.end===i?t.end=e.offset:r.push({start:i,end:e.offset})}i=e.offset,0===e.type?n.push(e.range.count):n.pop()}return r.filter(e=>e.end-e.start>1)}},function(e,t,n){const r=n(1),{debugError:i}=n(2),{ExecutionContext:o}=n(20),{JSHandle:s}=n(16);e.exports={Worker:class extends r{constructor(e,t,n,r){let a;super(),this._client=e,this._url=t,this._executionContextPromise=new Promise(e=>this._executionContextCallback=e),this._client.once("Runtime.executionContextCreated",async t=>{a=(t=>new s(n,e,t));const n=new o(e,t.context,null);this._executionContextCallback(n)}),this._client.send("Runtime.enable",{}).catch(i),this._client.on("Runtime.consoleAPICalled",e=>n(e.type,e.args.map(a),e.stackTrace)),this._client.on("Runtime.exceptionThrown",e=>r(e.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...t){return(await this._executionContextPromise).evaluate(e,...t)}async evaluateHandle(e,...t){return(await this._executionContextPromise).evaluateHandle(e,...t)}}}},function(e,t,n){var r=n(0),i=n(3),o=n(98),s=n(101),a=n(102),c=n(112)("extract-zip");e.exports=function(e,t,n){if(c("creating target directory",t.dir),!1===i.isAbsolute(t.dir))return n(new Error("Target directory is expected to be absolute"));s(t.dir,function(l){if(l)return n(l);r.realpath(t.dir,function(l,u){if(l)return n(l);t.dir=u,c("opening",e,"with opts",t),o.open(e,{lazyEntries:!0},function(e,o){if(e)return n(e);var l=!1;o.readEntry(),o.on("close",function(){l||(c("zip extraction complete"),n())}),o.on("entry",function(e){if(l)c("skipping entry",e.fileName,{cancelled:l});else if(c("zipfile entry",e.fileName),/^__MACOSX\//.test(e.fileName))o.readEntry();else{var u=i.dirname(i.join(t.dir,e.fileName));s(u,function(d){if(d)return l=!0,o.close(),n(d);r.realpath(u,function(u,d){if(u)return l=!0,o.close(),n(u);var h=i.relative(t.dir,d);if(-1!==h.split(i.sep).indexOf(".."))return l=!0,o.close(),n(new Error('Out of bound path "'+d+'" found while processing file '+e.fileName));!function(e,n){if(l)return c("skipping entry extraction",e.fileName,{cancelled:l}),setImmediate(n);t.onEntry&&t.onEntry(e,o);var u=i.join(t.dir,e.fileName),d=e.externalFileAttributes>>16&65535,h=40960==(61440&d),f=16384==(61440&d);f||"/"!==e.fileName.slice(-1)||(f=!0);var p=e.versionMadeBy>>8;f||(f=0===p&&16===e.externalFileAttributes),0===d&&(f?(t.defaultDirMode&&(d=parseInt(t.defaultDirMode,10)),d||(d=493)):(t.defaultFileMode&&(d=parseInt(t.defaultFileMode,10)),d||(d=420))),c("extracting entry",{filename:e.fileName,isDir:f,isSymlink:h});var m=~process.umask(),y=d&m,g=u;f||(g=i.dirname(u)),c("mkdirp",{dir:g}),s(g,function(t){return t?(c("mkdirp error",g,{error:t}),l=!0,n(t)):f?n():(c("opening read stream",u),void o.openReadStream(e,function(e,t){if(e)return c("openReadStream error",e),l=!0,n(e);t.on("error",function(e){console.log("read err",e)}),h?t.pipe(a(function(e){var t=e.toString();c("creating symlink",t,u),r.symlink(t,u,function(e){e&&(l=!0),n(e)})})):function(){var e=r.createWriteStream(u,{mode:y});t.pipe(e),e.on("finish",function(){n()}),e.on("error",function(e){return c("write error",{error:e}),l=!0,n(e)})}()}))})}(e,function(t){if(t)return l=!0,o.close(),n(t);c("finished processing",e.fileName),o.readEntry()})})})}})})})})}},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";var r=n(22);e.exports=_;var i,o=n(104);_.ReadableState=g;n(1).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(57),c=n(23).Buffer,l=global.Uint8Array||function(){};var u=n(17);u.inherits=n(10);var d=n(5),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p=n(107),m=n(58);u.inherits(_,a);var y=["error","close","destroy","pause","resume"];function g(e,t){e=e||{};var r=t instanceof(i=i||n(12));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(60).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function _(e){if(i=i||n(12),!(this instanceof _))return new _(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?v(e,s,t,!1):E(e,s)):v(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function v(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),E(e,t)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},_.prototype.unshift=function(e){return w(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return f||(f=n(60).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var b=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(C,e):C(e))}function C(e){h("emit readable"),e.emit("readable"),F(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(P,e,t))}function P(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function S(e){h("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):x(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:_;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",_),n.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",u);var d=!1;var f=!1;function p(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==M(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function m(t){h("onerror",t),_(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",g),_()}function g(){h("onfinish"),e.removeListener("close",y),_()}function _(){h("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",y),e.once("finish",g),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=M(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&x(this):r.nextTick(S,this))}return n},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(T,e,t))}(this,e)),this},_.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=I},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";var r=n(22);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(22);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;y.WritableState=m;var a=n(17);a.inherits=n(10);var c={deprecate:n(108)},l=n(57),u=n(23).Buffer,d=global.Uint8Array||function(){};var h,f=n(58);function p(){}function m(e,t){o=o||n(12),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),k(e,t))}(e,n,i,t,o);else{var a=v(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),i?s(_,e,n,a,o):_(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function y(e){if(o=o||n(12),!(h.call(y,this)||this instanceof o))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function g(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,g(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(g(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var n=v(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(b,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(y,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=p),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=f.destroy,y.prototype._undestroy=f.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";var r=n(23).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var r=n(12),i=n(17);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){c(e,t,n)}):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(10),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n}),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(114),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){e.exports=w;var r=n(0),i=n(64),o=n(36),s=(o.Minimatch,n(10)),a=n(1).EventEmitter,c=n(3),l=n(35),u=n(37),d=n(120),h=n(65),f=(h.alphasort,h.alphasorti,h.setopts),p=h.ownProp,m=n(121),y=(n(5),h.childrenIgnored),g=h.isIgnored,_=n(67);function w(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new b(e,t,n)}w.sync=d;var v=w.GlobSync=d.GlobSync;function b(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new v(e,t)}if(!(this instanceof b))return new b(e,t,n);f(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=_(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}o=!1}w.glob=w,w.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new b(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},w.Glob=b,s(b,a),b.prototype._finish=function(){if(l(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},b.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())})})},b.prototype._mark=function(e){return h.mark(this,e)},b.prototype._makeAbs=function(e){return h.makeAbs(this,e)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},b.prototype._process=function(e,t,n,r){if(l(this instanceof b),l("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":u(i)||u(e.join("/"))?(i&&u(i)||(i="/"+i),a=i):a=i;var d=this._makeAbs(a);if(y(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,d,c,t,n,r):this._processReaddir(i,a,d,c,t,n,r)}},b.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,l){return a._processReaddir2(e,t,n,r,i,o,l,s)})},b.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var l=r[0],u=!!this.minimatch.negate,d=l._glob,h=this.dot||"."===d.charAt(0),f=[],p=0;p<s.length;p++){if("."!==(y=s[p]).charAt(0)||h)(u&&!e?!y.match(l):y.match(l))&&f.push(y)}var m=f.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(p=0;p<m;p++){var y=f[p];e&&(y="/"!==e?e+"/"+y:e+y),"/"!==y.charAt(0)||this.nomount||(y=c.join(this.root,y)),this._emitMatch(i,y)}return a()}r.shift();for(p=0;p<m;p++){y=f[p];e&&(y="/"!==e?e+"/"+y:e+y),this._process([y].concat(r),i,o,a)}a()},b.prototype._emitMatch=function(e,t){if(!this.aborted&&!g(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},b.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=m("lstat\0"+e,function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});i&&r.lstat(e,i)}},b.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,n);if(p(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},b.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},b.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},b.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,l){a._processGlobStar2(e,t,n,r,i,o,l,s)})},b.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var d=this.symlinks[n],h=s.length;if(d&&o)return a();for(var f=0;f<h;f++){if("."!==s[f].charAt(0)||this.dot){var p=l.concat(s[f],c);this._process(p,i,!0,a);var m=l.concat(s[f],r);this._process(m,i,!0,a)}}a()},b.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,o){r._processSimple2(e,t,i,o,n)})},b.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},b.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,l=m("stat\0"+n,function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)});c._stat2(e,n,i,o,t)});l&&r.lstat(n,l)},b.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},function(e,t,n){e.exports=u,u.realpath=u,u.sync=d,u.realpathSync=d,u.monkeypatch=function(){r.realpath=u,r.realpathSync=d},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(0),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(116);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,function(r,i){l(r)?c.realpath(e,t,n):n(r,i)})}function d(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:l));if(e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!h(e,t)}));e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=d(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=h,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var i=n(3),o=n(36),s=n(37),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function h(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}}},function(e,t,n){var r=n(66);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(e,t,n){var r=n(34),i=n(69),o=n(6),s=n(122),a=n(5).inherits,c=n(127)("https-proxy-agent");function l(e){if(!(this instanceof l))return new l(e);if("string"==typeof e&&(e=o.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");c("creating new HttpsProxyAgent instance: %o",e),s.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),!this.secureProxy||"ALPNProtocols"in t||(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t,this.defaultPort=443}e.exports=l,a(l,s),l.prototype.callback=function(e,t,n){var o,s=this.proxy;o=this.secureProxy?i.connect(s):r.connect(s);var a=[],l=0;function u(){var e=o.read();e?m(e):o.once("readable",u)}function d(){o.removeListener("data",m),o.removeListener("end",f),o.removeListener("error",p),o.removeListener("close",h),o.removeListener("readable",u)}function h(e){c("onclose had error %o",e)}function f(){c("onend")}function p(e){d(),n(e)}function m(r){a.push(r),l+=r.length;var s=Buffer.concat(a,l),h=s.toString("ascii");if(!~h.indexOf("\r\n\r\n"))return c("have not received end of HTTP headers yet..."),void(o.read?u():o.once("data",m));var f=h.substring(0,h.indexOf("\r\n")),p=+f.split(" ")[1];if(c("got proxy server response: %o",f),200==p){var g=o;a=s=null,t.secureEndpoint&&(c("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=o,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,g=i.connect(t)),d(),n(null,g)}else d(),a=s,e.once("socket",y),n(null,o)}function y(e){if("function"==typeof e.ondata)e.ondata(a,0,a.length);else{if(!(e.listeners("data").length>0))throw new Error("should not happen...");e.emit("data",a)}a=null}o.on("error",p),o.on("close",h),o.on("end",f),o.read?u():o.once("data",m);var g="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",_=Object.assign({},s.headers);s.auth&&(_["Proxy-Authorization"]="Basic "+Buffer.from(s.auth).toString("base64"));var w,v,b=t.host;w=t.port,v=t.secureEndpoint,Boolean(!v&&80===w||v&&443===w)||(b+=":"+t.port),_.Host=b,_.Connection="close",Object.keys(_).forEach(function(e){g+=e+": "+_[e]+"\r\n"}),o.write(g+"\r\n")}},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var l=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;l++;var i=r.formatters[n];if("function"==typeof i){var s=t[l];e=i.call(o,s),t.splice(l,1),l--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(43),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){"use strict";var r=n(6).parse,i={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},o=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=function(e){var t="string"==typeof e?r(e):e||{},n=t.protocol,a=t.host,c=t.port;if("string"!=typeof a||!a||"string"!=typeof n)return"";if(n=n.split(":",1)[0],!function(e,t){var n=s("no_proxy").toLowerCase();return!n||"*"!==n&&n.split(/[,\s]/).every(function(n){if(!n)return!0;var r=n.match(/^(.+):(\d+)$/),i=r?r[1]:n,s=r?parseInt(r[2]):0;return!(!s||s===t)||(/^[.*]/.test(i)?("*"===i.charAt(0)&&(i=i.slice(1)),!o.call(e,i)):e!==i)})}(a=a.replace(/:\d*$/,""),c=parseInt(c)||i[n]||0))return"";var l=s(n+"_proxy")||s("all_proxy");return l&&-1===l.indexOf("://")&&(l=n+"://"+l),l}},function(e,t,n){const r=n(130),i=n(33);e.exports=class{constructor(e,t,n){this._projectRoot=e,this._launcher=new r(e,t,n)}launch(e){return this._launcher.launch(e)}connect(e){return this._launcher.connect(e)}executablePath(){return this._launcher.executablePath()}defaultArgs(e){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new i(this._projectRoot,e)}}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("readline")},function(e,t,n){"use strict";const r=n(76);r.Server=n(138),r.Receiver=n(79),r.Sender=n(81),e.exports=r},function(e,t,n){"use strict";const r=n(1),i=n(26),o=n(25),s=n(13),a=n(34),c=n(69),l=n(6),u=n(27),d=n(135),h=n(78),f=n(79),p=n(81),{BINARY_TYPES:m,EMPTY_BUFFER:y,GUID:g,kStatusCode:_,kWebSocket:w,NOOP:v}=n(14),b=["CONNECTING","OPEN","CLOSING","CLOSED"],k=[8,13],x=3e4;class C extends r{constructor(e,t,n){super(),this.readyState=C.CONNECTING,this.protocol="",this._binaryType=m[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function e(t,n,r,a){const c=Object.assign({protocolVersion:k[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},a,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0});if(!k.includes(c.protocolVersion))throw new RangeError(`Unsupported protocol version: ${c.protocolVersion} `+`(supported versions: ${k.join(", ")})`);var d;"object"==typeof n&&void 0!==n.href?(d=n,t.url=n.href):(d=l.URL?new l.URL(n):l.parse(n),t.url=n);const f="ws+unix:"===d.protocol;if(!(d.host||f&&d.pathname))throw new Error(`Invalid URL: ${t.url}`);const p="wss:"===d.protocol||"https:"===d.protocol;const m=p?443:80;const y=i.randomBytes(16).toString("base64");const _=p?o.get:s.get;const w=d.search?`${d.pathname||"/"}${d.search}`:d.pathname||"/";var v;c.createConnection=p?P:E;c.defaultPort=c.defaultPort||m;c.port=d.port||m;c.host=d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname;c.headers=Object.assign({"Sec-WebSocket-Version":c.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket"},c.headers);c.path=w;c.timeout=c.handshakeTimeout;c.perMessageDeflate&&(v=new u(!0!==c.perMessageDeflate?c.perMessageDeflate:{},!1,c.maxPayload),c.headers["Sec-WebSocket-Extensions"]=h.format({[u.extensionName]:v.offer()}));r&&(c.headers["Sec-WebSocket-Protocol"]=r);c.origin&&(c.protocolVersion<13?c.headers["Sec-WebSocket-Origin"]=c.origin:c.headers.Origin=c.origin);d.auth?c.auth=d.auth:(d.username||d.password)&&(c.auth=`${d.username}:${d.password}`);if(f){const e=w.split(":");c.socketPath=e[0],c.path=e[1]}var b=t._req=_(c);c.timeout&&b.on("timeout",()=>{S(t,b,"Opening handshake has timed out")});b.on("error",e=>{t._req.aborted||(b=t._req=null,t.readyState=C.CLOSING,t.emit("error",e),t.emitClose())});b.on("response",i=>{const o=i.headers.location,s=i.statusCode;if(o&&c.followRedirects&&s>=300&&s<400){if(++t._redirects>c.maxRedirects)return void S(t,b,"Maximum redirects exceeded");b.abort();const i=l.URL?new l.URL(o,n):l.resolve(n,o);e(t,i,r,a)}else t.emit("unexpected-response",b,i)||S(t,b,`Unexpected server response: ${i.statusCode}`)});b.on("upgrade",(e,n,o)=>{if(t.emit("upgrade",e),t.readyState!==C.CONNECTING)return;b=t._req=null;const s=i.createHash("sha1").update(y+g).digest("base64");if(e.headers["sec-websocket-accept"]!==s)return void S(t,n,"Invalid Sec-WebSocket-Accept header");const a=e.headers["sec-websocket-protocol"],l=(r||"").split(/, */);var d;if(!r&&a?d="Server sent a subprotocol but none was requested":r&&!a?d="Server sent no subprotocol":a&&!l.includes(a)&&(d="Server sent an invalid subprotocol"),d)S(t,n,d);else{if(a&&(t.protocol=a),v)try{const r=h.parse(e.headers["sec-websocket-extensions"]);r[u.extensionName]&&(v.accept(r[u.extensionName]),t._extensions[u.extensionName]=v)}catch(e){return void S(t,n,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(n,o,c.maxPayload)}})}(this,e,t,n)):this._isServer=!0}get CONNECTING(){return C.CONNECTING}get CLOSING(){return C.CLOSING}get CLOSED(){return C.CLOSED}get OPEN(){return C.OPEN}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new f(this._binaryType,this._extensions,n);this._sender=new p(e,this._extensions),this._receiver=r,this._socket=e,r[w]=this,e[w]=this,r.on("conclude",T),r.on("drain",F),r.on("error",I),r.on("message",R),r.on("ping",M),r.on("pong",O),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",L),e.on("data",D),e.on("end",A),e.on("error",j),this.readyState=C.OPEN,this.emit("open")}emitClose(){this.readyState=C.CLOSED,this._socket?(this._extensions[u.extensionName]&&this._extensions[u.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==C.CLOSED){if(this.readyState===C.CONNECTING){const e="WebSocket was closed before the connection was established";return S(this,this._req,e)}this.readyState!==C.CLOSING?(this.readyState=C.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._socket.writable&&(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),x)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==C.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${b[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,n)}pong(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==C.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${b[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,n)}send(e,t,n){if("function"==typeof t&&(n=t,t={}),this.readyState!==C.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${b[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString());const r=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this._extensions[u.extensionName]||(r.compress=!1),this._sender.send(e||y,r,n)}terminate(){if(this.readyState!==C.CLOSED){if(this.readyState===C.CONNECTING){const e="WebSocket was closed before the connection was established";return S(this,this._req,e)}this._socket&&(this.readyState=C.CLOSING,this._socket.destroy())}}}function E(e){return e.protocolVersion&&(e.path=e.socketPath),a.connect(e)}function P(e){return e.path=void 0,e.servername=e.servername||e.host,c.connect(e)}function S(e,t,n){e.readyState=C.CLOSING;const r=new Error(n);Error.captureStackTrace(r,S),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function T(e,t){const n=this[w];n._socket.removeListener("data",D),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function F(){this[w]._socket.resume()}function I(e){const t=this[w];t._socket.removeListener("data",D),t.readyState=C.CLOSING,t._closeCode=e[_],t.emit("error",e),t._socket.destroy()}function N(){this[w].emitClose()}function R(e){this[w].emit("message",e)}function M(e){const t=this[w];t.pong(e,!t._isServer,v),t.emit("ping",e)}function O(e){this[w].emit("pong",e)}function L(){const e=this[w];this.removeListener("close",L),this.removeListener("end",A),e.readyState=C.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",D),this[w]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",N),e._receiver.on("finish",N))}function D(e){this[w]._receiver.write(e)||this.pause()}function A(){const e=this[w];e.readyState=C.CLOSING,e._receiver.end(),this.end()}function j(){const e=this[w];this.removeListener("error",j),this.on("error",v),e&&(e.readyState=C.CLOSING,this.destroy())}b.forEach((e,t)=>{C[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(C.prototype,`on${e}`,{get(){const t=this.listeners(e);for(var n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set(t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(e,n[r]);this.addEventListener(e,t)}})}),C.prototype.addEventListener=d.addEventListener,C.prototype.removeEventListener=d.removeEventListener,e.exports=C},function(e,t,n){var r=n(0),i=n(3),o=n(7),s=require,a=process.versions.modules,c=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",l=o.arch(),u=o.platform();function d(e){return s(d.path(e))}function h(e,t){try{var n=r.readdirSync(e).filter(t);return n[0]&&i.join(e,n[0])}catch(e){return null}}function f(e){return e===c+"-napi.node"}function p(e){return"node-napi.node"===e}function m(e){var t=e.split("-");return t[0]===c&&t[1]===a+".node"}function y(e){return/\.node$/.test(e)}e.exports=d,d.path=function(e){e=i.resolve(e||".");try{var t=s(i.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}var n=h(i.join(e,"build/Release"),y);if(n)return n;var r=h(i.join(e,"build/Debug"),y);if(r)return r;var o=h(i.join(e,"prebuilds/"+u+"-"+l),m);if(o)return o;var d=h(i.join(e,"prebuilds/"+u+"-"+l),f);if(d)return d;var g=h(i.join(e,"prebuilds/"+u+"-"+l),p);if(g)return g;throw new Error("No native build was found for runtime="+c+" abi="+a+" platform="+u+" arch="+l)}},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]}e.exports={format:function(e){return Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t={};if(void 0===e||""===e)return t;for(var n,o,s={},a=!1,c=!1,l=!1,u=-1,d=-1,h=0;h<e.length;h++){const p=e.charCodeAt(h);if(void 0===n)if(-1===d&&1===r[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else{if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);const r=e.slice(u,d);44===p?(i(t,r,s),s={}):n=r,u=d=-1}}else if(void 0===o)if(-1===d&&1===r[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),i(s,e.slice(u,d),!0),44===p&&(i(t,n,s),s={},n=void 0),u=d=-1}else{if(61!==p||-1===u||-1!==d)throw new SyntaxError(`Unexpected character at index ${h}`);o=e.slice(u,h),u=d=-1}else if(c){if(1!==r[p])throw new SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:a||(a=!0),c=!1}else if(l)if(1===r[p])-1===u&&(u=h);else if(34===p&&-1!==u)l=!1,d=h;else{if(92!==p)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===p&&61===e.charCodeAt(h-1))l=!0;else if(-1===d&&1===r[p])-1===u&&(u=h);else if(-1===u||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${h}`);if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);var f=e.slice(u,d);a&&(f=f.replace(/\\/g,""),a=!1),i(s,o,f),44===p&&(i(t,n,s),s={},n=void 0),o=void 0,u=d=-1}else-1===d&&(d=h)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===d&&(d=h);const p=e.slice(u,d);return void 0===n?i(t,p,{}):(void 0===o?i(s,p,!0):i(s,o,a?p.replace(/\\/g,""):p),i(t,n,s)),t}}},function(e,t,n){"use strict";const{Writable:r}=n(9),i=n(27),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=n(14),{concat:l,toArrayBuffer:u,unmask:d}=n(38),{isValidStatusCode:h,isValidUTF8:f}=n(80),p=0,m=1,y=2,g=3,_=4,w=5;function v(e,t,n,r){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,v),i[a]=r,i}e.exports=class extends r{constructor(e,t,n){super(),this._binaryType=e||o[0],this[c]=void 0,this._extensions=t||{},this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=p,this._loop=!1}_write(e,t,n){if(8===this._opcode&&this._state==p)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0];e>=n.length?this._buffers.shift().copy(t,t.length-e):(n.copy(t,t.length-e,0,e),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){var t;this._loop=!0;do{switch(this._state){case p:t=this.getInfo();break;case m:t=this.getPayloadLength16();break;case y:t=this.getPayloadLength64();break;case g:this.getMask();break;case _:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,v(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,v(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,v(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,v(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,v(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,v(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,v(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,v(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,v(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=m;else{if(127!==this._payloadLength)return this.haveLength();this._state=y}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,v(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,v(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=g:this._state=_}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=_)}getData(e){var t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=w,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(v(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e="nodebuffer"===this._binaryType?l(n,t):"arraybuffer"===this._binaryType?u(l(n,t)):n,this.emit("message",e)}else{const e=l(n,t);if(!f(e))return this._loop=!1,v(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",e.toString())}}this._state=p}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return v(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return v(RangeError,`invalid status code ${t}`,!0,1002);const n=e.slice(2);if(!f(n))return v(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=p}}},function(e,t,n){"use strict";try{const e=n(136);t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=(()=>!0)}t.isValidStatusCode=(e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999)},function(e,t,n){"use strict";const{randomBytes:r}=n(26),i=n(27),{EMPTY_BUFFER:o}=n(14),{isValidStatusCode:s}=n(80),{mask:a,toBuffer:c}=n(38);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=e.length<1024||t.mask&&t.readOnly;var i=t.mask?6:2,o=e.length;e.length>=65536?(i+=8,o=127):e.length>125&&(i+=2,o=126);const s=Buffer.allocUnsafe(n?e.length+i:i);if(s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),126===o?s.writeUInt16BE(e.length,2):127===o&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),!t.mask)return s[1]=o,n?(e.copy(s,i),[s]):[s,e];const c=r(4);return s[1]=128|o,s[i-4]=c[0],s[i-3]=c[1],s[i-2]=c[2],s[i-1]=c[3],n?(a(e,c,s,i,e.length),[s]):(a(e,c,e,0,e.length),[s,e])}close(e,t,n,r){var i;if(void 0===e)i=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0):((i=Buffer.allocUnsafe(2+Buffer.byteLength(t))).writeUInt16BE(e,0),i.write(t,2))}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,n]):this.doPing(r,t,c.readOnly,n)}doPing(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,n]):this.doPong(r,t,c.readOnly,n)}doPong(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=c(e),o=this._extensions[i.extensionName];var s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=r.length>=o._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(l.frame(r,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(l.frame(e,n),r);const o=this._extensions[i.extensionName];this._deflating=!0,o.compress(e,n.fin,(e,t)=>{this._deflating=!1,n.readOnly=!1,this.sendFrame(l.frame(t,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.write(e[0]),this._socket.write(e[1],t)):this._socket.write(e[0],t)}}e.exports=l},function(e,t,n){const r=n(7),i=n(0),o=n(3),s=n(54),a=n(5),c=n(6),{helper:l,assert:u}=n(4),d=n(24),h=n(68),f=n(71).getProxyForUrl,p="https://storage.googleapis.com",m=["mac","linux","win32","win64"],y={linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"};function g(e,t){return"linux"===e?"chrome-linux":"mac"===e?"chrome-mac":"win32"===e||"win64"===e?parseInt(t,10)>591479?"chrome-win":"chrome-win32":null}function _(e,t,n){return a.format(y[e],t,n,g(e,n))}const w=l.promisify(i.readdir.bind(i)),v=l.promisify(i.mkdir.bind(i)),b=l.promisify(i.unlink.bind(i)),k=l.promisify(i.chmod.bind(i));function x(e){let t=null;const n=new Promise(e=>t=e);return i.access(e,e=>t(!e)),n}function C(e,t,r){const i=c.parse(e);i.method=t;const o=f(e);if(o){const e=c.parse(o);e.secureProxy="https:"===e.protocol,i.agent=new h(e),i.rejectUnauthorized=!1}const s=e=>{e.statusCode>=300&&e.statusCode<400&&e.headers.location?C(e.headers.location,t,r):r(e)},a="https:"===i.protocol?n(25).request(i,s):n(13).request(i,s);return a.end(),a}e.exports=class{constructor(e,t={}){if(this._downloadsFolder=t.path||o.join(e,".local-chromium"),this._downloadHost=t.host||p,this._platform=t.platform||"",!this._platform){const e=r.platform();"darwin"===e?this._platform="mac":"linux"===e?this._platform="linux":"win32"===e&&(this._platform="x64"===r.arch()?"win64":"win32"),u(this._platform,"Unsupported platform: "+r.platform())}u(m.includes(this._platform),"Unsupported platform: "+this._platform)}platform(){return this._platform}canDownload(e){const t=_(this._platform,this._downloadHost,e);let n;const r=new Promise(e=>n=e);return C(t,"HEAD",e=>{n(200===e.statusCode)}).on("error",e=>{console.error(e),n(!1)}),r}download(e,t){return(n=>{const r=function*(){const n=_(this._platform,this._downloadHost,e),r=o.join(this._downloadsFolder,`download-${this._platform}-${e}.zip`),a=this._getFolderPath(e);if(yield x(a))return this.revisionInfo(e);(yield x(this._downloadsFolder))||(yield v(this._downloadsFolder));try{yield function(e,t,n){let r,o,s=0,a=0;const c=new Promise((e,t)=>{r=e,o=t});return C(e,"GET",s=>{if(200!==s.statusCode){const t=new Error(`Download failed: server returned code ${s.statusCode}. URL: ${e}`);return s.resume(),void o(t)}const c=i.createWriteStream(t);c.on("finish",()=>r()),c.on("error",e=>o(e)),s.pipe(c),a=parseInt(s.headers["content-length"],10),n&&s.on("data",l)}).on("error",e=>o(e)),c;function l(e){s+=e.length,n(s,a)}}(n,r,t),yield function(e,t){return new Promise((n,r)=>s(e,{dir:t},e=>{e?r(e):n()}))}(r,a)}finally{(yield x(r))&&(yield b(r))}const c=this.revisionInfo(e);return c&&(yield k(c.executablePath,493)),c}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}localRevisions(){return(e=>{const t=function*(){return(yield x(this._downloadsFolder))?(yield w(this._downloadsFolder)).map(e=>(function(e){const t=o.basename(e).split("-");if(2!==t.length)return null;const[n,r]=t;return m.includes(n)?{platform:n,revision:r}:null})(e)).filter(e=>e&&e.platform===this._platform).map(e=>e.revision):[]}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}remove(e){return(t=>{const n=function*(){const t=this._getFolderPath(e);u(yield x(t),`Failed to remove: revision ${e} is not downloaded`),yield new Promise(e=>d(t,e))}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}revisionInfo(e){const t=this._getFolderPath(e);let n="";if("mac"===this._platform)n=o.join(t,g(this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if("linux"===this._platform)n=o.join(t,g(this._platform,e),"chrome");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);n=o.join(t,g(this._platform,e),"chrome.exe")}const r=_(this._platform,this._downloadHost,e);return{revision:e,executablePath:n,folderPath:t,local:i.existsSync(t),url:r}}_getFolderPath(e){return o.join(this._downloadsFolder,this._platform+"-"+e)}}},function(e,t,n){const{assert:r}=n(4),{Events:i}=n(11),o=n(18)("puppeteer:protocol"),s=n(1);class a extends s{constructor(e,t,n){super(),this._callbacks=new Map,this._connection=e,this._targetType=t,this._sessionId=n}send(e,t={}){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));const n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:t});return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?t.reject(c(t.error,t.method,e)):t.resolve(e.result)}else r(!e.id),this.emit(e.method,e.params)}detach(){return(e=>{const t=function*(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);yield this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_onClosed(){for(const e of this._callbacks.values())e.reject(l(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(i.CDPSession.Disconnected)}}function c(e,t,n){let r=`Protocol error (${t}): ${n.error.message}`;return"data"in n.error&&(r+=` ${n.error.data}`),l(e,r)}function l(e,t){return e.message=t,e}e.exports={Connection:class extends s{constructor(e,t,n=0){super(),this._url=e,this._lastId=0,this._callbacks=new Map,this._delay=n,this._transport=t,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this),this._sessions=new Map,this._closed=!1}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,t={}){const n=this._rawSend({method:e,params:t});return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new Error,method:e})})}_rawSend(e){const t=++this._lastId;return e=JSON.stringify(Object.assign({},e,{id:t})),o("SEND ► "+e),this._transport.send(e),t}_onMessage(e){return(t=>{const n=function*(){this._delay&&(yield new Promise(e=>setTimeout(e,this._delay))),o("◀ RECV "+e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,n=new a(this,t.params.targetInfo.type,e);this._sessions.set(e,n)}else if("Target.detachedFromTarget"===t.method){const e=this._sessions.get(t.params.sessionId);e&&(e._onClosed(),this._sessions.delete(t.params.sessionId))}if(t.sessionId){const e=this._sessions.get(t.sessionId);e&&e._onMessage(t)}else if(t.id){const e=this._callbacks.get(t.id);e&&(this._callbacks.delete(t.id),t.error?e.reject(c(e.error,e.method,t)):e.resolve(t.result))}else this.emit(t.method,t.params)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(const e of this._callbacks.values())e.reject(l(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(const e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(i.Connection.Disconnected)}}dispose(){this._onClose(),this._transport.close()}createSession(e){return(t=>{const n=function*(){const{sessionId:t}=yield this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});return this._sessions.get(t)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}},CDPSession:a}},function(e,t,n){const{helper:r,assert:i}=n(4),{Events:o}=n(11),{TimeoutError:s}=n(28);const a={load:"load",domcontentloaded:"DOMContentLoaded",networkidle0:"networkIdle",networkidle2:"networkAlmostIdle"};e.exports={LifecycleWatcher:class{constructor(e,t,n,s){Array.isArray(n)?n=n.slice():"string"==typeof n&&(n=[n]),this._expectedLifecycle=n.map(e=>{const t=a[e];return i(t,"Unknown value for options.waitUntil: "+e),t}),this._frameManager=e,this._networkManager=e._networkManager,this._frame=t,this._initialLoaderId=t._loaderId,this._timeout=s,this._navigationRequest=null,this._eventListeners=[r.addEventListener(e._client,o.CDPSession.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),r.addEventListener(this._frameManager,o.FrameManager.LifecycleEvent,this._checkLifecycleComplete.bind(this)),r.addEventListener(this._frameManager,o.FrameManager.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),r.addEventListener(this._frameManager,o.FrameManager.FrameDetached,this._onFrameDetached.bind(this)),r.addEventListener(this._networkManager,o.NetworkManager.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(e=>{this._sameDocumentNavigationCompleteCallback=e}),this._lifecyclePromise=new Promise(e=>{this._lifecycleCallback=e}),this._newDocumentNavigationPromise=new Promise(e=>{this._newDocumentNavigationCompleteCallback=e}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(e=>{this._terminationCallback=e}),this._checkLifecycleComplete()}_onRequest(e){e.frame()===this._frame&&e.isNavigationRequest()&&(this._navigationRequest=e)}_onFrameDetached(e){this._frame!==e?this._checkLifecycleComplete():this._terminationCallback.call(null,new Error("Navigating frame was detached"))}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});const e="Navigation Timeout Exceeded: "+this._timeout+"ms exceeded";return new Promise(e=>this._maximumTimer=setTimeout(e,this._timeout)).then(()=>new s(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){(function e(t,n){for(const e of n)if(!t._lifecycleEvents.has(e))return!1;for(const r of t.childFrames())if(!e(r,n))return!1;return!0})(this._frame,this._expectedLifecycle)&&(this._lifecycleCallback(),(this._frame._loaderId!==this._initialLoaderId||this._hasSameDocumentNavigation)&&(this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback()))}dispose(){r.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}}}},function(e,t,n){const r=n(41),i=n(86);t.activate=(e=>{r.workspace.getConfiguration("untillpro");let t=[r.commands.registerCommand("markdown-mermaid-renderer.renderMermaid",function(){i()})];e.subscriptions.concat(t)});t.deactivate=(()=>{})},function(e,t,n){"use strict";(function(t){const r=n(41),i=n(0),o=n(7),s=n(3),a=n(87),c=n(162),l=e=>{console.log(`\n${e}\n`),process.exit(1)},u=e=>{i.existsSync(e)||l(`Configuration file "${e}" doesn't exist`)},d=e=>(function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var s=t[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}("next")})}),h=(e=null,n=null,r="default",o=800,c=600,h=null,f,p,m)=>{let y=r,g=o,_=c,w=e,v=n,b=h,k=f,x=p,C=m;w||l("Please specify input file: -i <input>"),i.existsSync(w)||l(`Input file "${w}" doesn't exist`),v||(v=w+".svg"),/\.(?:svg|png|pdf)$/.test(v)||l('Output file must end with ".svg", ".png" or ".pdf"');const E=s.dirname(v);i.existsSync(E)||l(`Output directory "${E}/" doesn't exist`);let P={theme:y};k&&(u(k),P=Object.assign(P,JSON.parse(i.readFileSync(k,"utf-8"))));let S,T={};return C&&(u(C),T=JSON.parse(i.readFileSync(C,"utf-8"))),x&&(i.existsSync(x)||l(`CSS file "${x}" doesn't exist`),S=i.readFileSync(x,"utf-8")),g=parseInt(g),_=parseInt(_),b=b||"white",d(function*(){const e=yield a.launch(T),n=yield e.newPage();n.setViewport({width:g,height:_}),yield n.goto(`file://${s.join(t,"index.html")}`),yield n.evaluate(`document.body.style.background = '${b}'`);const r=i.readFileSync(w,"utf-8");if(yield n.$eval("#container",function(e,t,n,r){if(e.innerHTML=t,window.mermaid.initialize(n),r){const e=window.document.head||window.document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r)),e.appendChild(t)}window.mermaid.init(void 0,e)},r,P,S),v.endsWith("svg")){const e=yield n.$eval("#container",function(e){return e.innerHTML});i.writeFileSync(v,e)}else if(v.endsWith("png")){const e=yield n.$eval("svg",function(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}});yield n.screenshot({path:v,clip:e,omitBackground:"transparent"===b})}else yield n.pdf({path:v,printBackground:"transparent"!==b});i.unlinkSync(w),e.close()})()},f=e=>{const t=r.window.activeTextEditor,n=t?t.document.uri.fsPath:void 0;return`${s.dirname(n)}/${e}`},p=e=>{const t=e||0,n=r.window.activeTextEditor,i=n?n.document.uri.fsPath:void 0;return`${s.dirname(i)}/${s.parse(i).name}_mrmd_${t}.png`},m=e=>{const t=e||0,n=r.window.activeTextEditor,i=n?n.document.uri.fsPath:void 0;return`${c.dirSync().name}/${s.parse(i).name}_input_${t}.md`};e.exports=(()=>{const e=r.window.activeTextEditor,t=parseInt(e.document.lineCount,10),n=/^```mermaid(?:\s+(.+\.(?:svg|png|pdf)))?\s*$/i,s=/^```\s*$/;let a=!1,c="",l=null,u=null,d=0;for(var y=0;y<t;y++){const t=e.document.lineAt(y);t.text.match(s)&&a&&(a=!1,l=m(d),i.writeFileSync(l,c),h(l,u).then(()=>{r.window.showInformationMessage(`${u} was successfuly generated`)}).catch(e=>{r.window.showErrorMessage(e.message),i.unlink(l)})),a&&(c+=`${t.text}${o.EOL}`);const g=t.text.match(n);g&&(d++,a=!0,c="",u=g[1]&&"string"==typeof g[1]?f(g[1]):p(d))}})}).call(this,"/")},function(e,t,n){(function(t){let r=!0;try{new Function("async function test(){await 1}")}catch(e){r=!1}if(r){const{helper:e}=n(2),t=n(91);for(const n in t)"function"==typeof t[n]&&e.installAsyncStackHooks(t[n])}const i=n(r?72:140),o=n(161),s=o.puppeteer.chromium_revision,a="puppeteer-core"===o.name;e.exports=new i(t,s,a)}).call(this,"/")},function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(42)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,n){const r=n(29),i=n(5);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=n(44);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(42)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,n){"use strict";e.exports=((e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return-1!==r&&(-1===i||r<i)})},function(e,t,n){e.exports={Accessibility:n(45).Accessibility,Browser:n(30).Browser,BrowserContext:n(30).BrowserContext,BrowserFetcher:n(33),CDPSession:n(32).CDPSession,ConsoleMessage:n(31).ConsoleMessage,Coverage:n(52).Coverage,Dialog:n(48).Dialog,ElementHandle:n(16).ElementHandle,ExecutionContext:n(20).ExecutionContext,Frame:n(49).Frame,JSHandle:n(16).JSHandle,Keyboard:n(21).Keyboard,Mouse:n(21).Mouse,Page:n(31).Page,Puppeteer:n(72),Request:n(19).Request,Response:n(19).Response,SecurityDetails:n(19).SecurityDetails,Target:n(46).Target,TimeoutError:n(15).TimeoutError,Touchscreen:n(21).Touchscreen,Tracing:n(51),Worker:n(53).Worker}},function(e,t){e.exports=class{constructor(){this._map=new Map}set(e,t){let n=this._map.get(e);n||(n=new Set,this._map.set(e,n)),n.add(t)}get(e){let t=this._map.get(e);return t||(t=new Set),t}has(e){return this._map.has(e)}hasValue(e,t){const n=this._map.get(e);return!!n&&n.has(t)}get size(){return this._map.size}delete(e,t){const n=this.get(e),r=n.delete(t);return n.size||this._map.delete(e),r}deleteAll(e){this._map.delete(e)}firstValue(e){const t=this._map.get(e);return t?t.values().next().value:null}firstKey(){return this._map.keys().next().value}valuesArray(){const e=[];for(const t of this._map.keys())e.push(...Array.from(this._map.get(t).values()));return e}keysArray(){return Array.from(this._map.keys())}clear(){this._map.clear()}}},function(e,t){e.exports={EmulationManager:class{constructor(e){this._client=e,this._emulatingMobile=!1,this._hasTouch=!1}async emulateViewport(e){const t=e.isMobile||!1,n=e.width,r=e.height,i=e.deviceScaleFactor||1,o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},s=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:t,width:n,height:r,deviceScaleFactor:i,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:s})]);const a=this._emulatingMobile!==t||this._hasTouch!==s;return this._emulatingMobile=t,this._hasTouch=s,a}}}},function(e,t,n){const r=n(0),{helper:i,assert:o}=n(2),{LifecycleWatcher:s}=n(50),{TimeoutError:a}=n(15),c=i.promisify(r.readFile);class l{constructor(e,t,n,r,s,...c){if(i.isString(r))o("raf"===r||"mutation"===r,"Unknown polling option: "+r);else{if(!i.isNumber(r))throw new Error("Unknown polling options: "+r);o(r>0,"Cannot poll with non-positive interval: "+r)}if(this._domWorld=e,this._polling=r,this._timeout=s,this._predicateBody=i.isString(t)?"return ("+t+")":"return ("+t+")(...args)",this._args=c,this._runCount=0,e._waitTasks.add(this),this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),s){const e=new a(`waiting for ${n} failed: timeout ${s}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(e),s)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){const e=++this._runCount;let t=null,n=null;try{t=await(await this._domWorld.executionContext()).evaluateHandle(u,this._predicateBody,this._polling,this._timeout,...this._args)}catch(e){n=e}this._terminated||e!==this._runCount?t&&await t.dispose():n||!await this._domWorld.evaluate(e=>!e,t).catch(e=>!0)?n&&n.message.includes("Execution context was destroyed")||n&&n.message.includes("Cannot find context with specified id")||(n?this._reject(n):this._resolve(t),this._cleanup()):await t.dispose()}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this),this._runningTask=null}}async function u(e,t,n,...r){const i=new Function("...args",e);let o=!1;if(n&&setTimeout(()=>o=!0,n),"raf"===t)return await function(){let e;const t=new Promise(t=>e=t);return function t(){if(o)return void e();const n=i.apply(null,r);n?e(n):requestAnimationFrame(t)}(),t}();if("mutation"===t)return await function(){const e=i.apply(null,r);if(e)return Promise.resolve(e);let t;const n=new Promise(e=>t=e),s=new MutationObserver(e=>{o&&(s.disconnect(),t());const n=i.apply(null,r);n&&(s.disconnect(),t(n))});return s.observe(document,{childList:!0,subtree:!0,attributes:!0}),n}();if("number"==typeof t)return await function(e){let t;const n=new Promise(e=>t=e);return function n(){if(o)return void t();const s=i.apply(null,r);s?t(s):setTimeout(n,e)}(),n}(t)}e.exports={DOMWorld:class{constructor(e,t,n){this._frameManager=e,this._frame=t,this._timeoutSettings=n,this._documentPromise=null,this._contextPromise,this._contextResolveCallback=null,this._setContext(null),this._waitTasks=new Set,this._detached=!1}frame(){return this._frame}_setContext(e){if(e){this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(const e of this._waitTasks)e.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(e=>{this._contextResolveCallback=e})}_detach(){this._detached=!0;for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution Context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...t){return(await this.executionContext()).evaluateHandle(e,...t)}async evaluate(e,...t){return(await this.executionContext()).evaluate(e,...t)}async $(e){const t=await this._document();return await t.$(e)}async _document(){return this._documentPromise?this._documentPromise:(this._documentPromise=this.executionContext().then(async e=>(await e.evaluateHandle("document")).asElement()),this._documentPromise)}async $x(e){const t=await this._document();return await t.$x(e)}async $eval(e,t,...n){return(await this._document()).$eval(e,t,...n)}async $$eval(e,t,...n){const r=await this._document();return await r.$$eval(e,t,...n)}async $$(e){const t=await this._document();return await t.$$(e)}async content(){return await this.evaluate(()=>{let e="";return document.doctype&&(e=(new XMLSerializer).serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}async setContent(e,t={}){const{waitUntil:n=["load"],timeout:r=this._timeoutSettings.navigationTimeout()}=t;await this.evaluate(e=>{document.open(),document.write(e),document.close()},e);const i=new s(this._frameManager,this._frame,n,r),o=await Promise.race([i.timeoutOrTerminationPromise(),i.lifecyclePromise()]);if(i.dispose(),o)throw o}async addScriptTag(e){const{url:t=null,path:n=null,content:r=null,type:i=""}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle(async function(e,t){const n=document.createElement("script");n.src=e,t&&(n.type=t);const r=new Promise((e,t)=>{n.onload=e,n.onerror=t});return document.head.appendChild(n),await r,n},t,i)).asElement()}catch(e){throw new Error(`Loading script from ${t} failed`)}if(null!==n){let e=await c(n,"utf8");e+="//# sourceURL="+n.replace(/\n/g,"");const t=await this.executionContext();return(await t.evaluateHandle(o,e,i)).asElement()}if(null!==r){const e=await this.executionContext();return(await e.evaluateHandle(o,r,i)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");function o(e,t="text/javascript"){const n=document.createElement("script");n.type=t,n.text=e;let r=null;if(n.onerror=(e=>r=e),document.head.appendChild(n),r)throw r;return n}}async addStyleTag(e){const{url:t=null,path:n=null,content:r=null}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle(async function(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e;const n=new Promise((e,n)=>{t.onload=e,t.onerror=n});return document.head.appendChild(t),await n,t},t)).asElement()}catch(e){throw new Error(`Loading style from ${t} failed`)}if(null!==n){let e=await c(n,"utf8");e+="/*# sourceURL="+n.replace(/\n/g,"")+"*/";const t=await this.executionContext();return(await t.evaluateHandle(i,e)).asElement()}if(null!==r){const e=await this.executionContext();return(await e.evaluateHandle(i,r)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");async function i(e){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e));const n=new Promise((e,n)=>{t.onload=e,t.onerror=n});return document.head.appendChild(t),await n,t}}async click(e,t){const n=await this.$(e);o(n,"No node found for selector: "+e),await n.click(t),await n.dispose()}async focus(e){const t=await this.$(e);o(t,"No node found for selector: "+e),await t.focus(),await t.dispose()}async hover(e){const t=await this.$(e);o(t,"No node found for selector: "+e),await t.hover(),await t.dispose()}select(e,...t){for(const e of t)o(i.isString(e),'Values must be strings. Found value "'+e+'" of type "'+typeof e+'"');return this.$eval(e,(e,t)=>{if("select"!==e.nodeName.toLowerCase())throw new Error("Element is not a <select> element.");const n=Array.from(e.options);e.value=void 0;for(const r of n)if(r.selected=t.includes(r.value),r.selected&&!e.multiple)break;return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),n.filter(e=>e.selected).map(e=>e.value)},t)}async tap(e){const t=await this.$(e);o(t,"No node found for selector: "+e),await t.tap(),await t.dispose()}async type(e,t,n){const r=await this.$(e);o(r,"No node found for selector: "+e),await r.type(t,n),await r.dispose()}waitForSelector(e,t){return this._waitForSelectorOrXPath(e,!1,t)}waitForXPath(e,t){return this._waitForSelectorOrXPath(e,!0,t)}waitForFunction(e,t={},...n){const{polling:r="raf",timeout:i=this._timeoutSettings.timeout()}=t;return new l(this,e,"function",r,i,...n).promise}async title(){return this.evaluate(()=>document.title)}async _waitForSelectorOrXPath(e,t,n={}){const{visible:r=!1,hidden:i=!1,timeout:o=this._timeoutSettings.timeout()}=n,s=new l(this,function(e,t,n,r){const i=t?document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:document.querySelector(e);if(!i)return r;if(!n&&!r)return i;const o=i.nodeType===Node.TEXT_NODE?i.parentElement:i,s=window.getComputedStyle(o),a=s&&"hidden"!==s.visibility&&function(){const e=o.getBoundingClientRect();return!!(e.top||e.bottom||e.width||e.height)}();return n===a||r===!a?i:null},`${t?"XPath":"selector"} "${e}"${i?" to be hidden":""}`,r||i?"raf":"mutation",o,e,t,r,i),a=await s.promise;return a.asElement()?a.asElement():(await a.dispose(),null)}}}},function(e,t){e.exports={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"}}},function(e,t){const n=3e4;e.exports={TimeoutSettings:class{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return null!==this._defaultNavigationTimeout?this._defaultNavigationTimeout:null!==this._defaultTimeout?this._defaultTimeout:n}timeout(){return null!==this._defaultTimeout?this._defaultTimeout:n}}}},function(e,t){e.exports={TaskQueue:class{constructor(){this._chain=Promise.resolve()}postTask(e){const t=this._chain.then(e);return this._chain=t.catch(()=>{}),t}}}},function(e,t,n){var r=n(0),i=n(55),o=n(99),s=n(5),a=n(1).EventEmitter,c=n(9).Transform,l=n(9).PassThrough,u=n(9).Writable;function d(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==n&&(n=E),r.fstat(e,function(r,i){if(r)return n(r);h(o.createFromFd(e,{autoClose:!0}),i.size,t,n)})}function h(e,t,n,r){if("function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==r&&(r=E),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var i=Math.min(65558,t),o=new Buffer(i),s=t-o.length;_(e,o,0,i,s,function(a){if(a)return r(a);for(var c=i-22;c>=0;c-=1)if(101010256===o.readUInt32LE(c)){var l=o.slice(c),u=l.readUInt16LE(4);if(0!==u)return r(new Error("multi-disk zip files are not supported: found disk number: "+u));var d=l.readUInt16LE(10),h=l.readUInt32LE(16),p=l.readUInt16LE(20),m=l.length-22;if(p!==m)return r(new Error("invalid comment length. expected: "+m+". found: "+p));var y=x(l,22,l.length,!1);if(65535!==d&&4294967295!==h)return r(null,new f(e,h,t,d,y,n.autoClose,n.lazyEntries));var g=new Buffer(20),w=s+c-g.length;return void _(e,g,0,g.length,w,function(i){if(i)return r(i);if(117853008!==g.readUInt32LE(0))return r(new Error("invalid ZIP64 End of Central Directory Locator signature"));var o=C(g,8),s=new Buffer(56);_(e,s,0,s.length,o,function(i){return i?r(i):101075792!==s.readUInt32LE(0)?r(new Error("invalid ZIP64 end of central directory record signature")):(d=C(s,32),h=C(s,48),r(null,new f(e,h,t,d,y,n.autoClose,n.lazyEntries)))})})}r(new Error("end of central directory record signature not found"))})}function f(e,t,n,r,i,o,s){var c=this;a.call(c),c.reader=e,c.reader.on("error",function(e){m(c,e)}),c.reader.once("close",function(){c.emit("close")}),c.readEntryCursor=t,c.fileSize=n,c.entryCount=r,c.comment=i,c.entriesRead=0,c.autoClose=!!o,c.lazyEntries=!!s,c.isOpen=!0,c.emittedError=!1,c.lazyEntries||c.readEntry()}function p(e,t){e.autoClose&&e.close(),m(e,t)}function m(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function y(){}function g(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function _(e,t,n,r,i,o){if(0===r)return setImmediate(function(){o(null,new Buffer(0))});e.read(t,n,r,i,function(e,t){return e?o(e):t<r?o(new Error("unexpected EOF")):void o()})}function w(e){c.call(this),this.actualByteCount=0,this.expectedByteCount=e}function v(){a.call(this),this.refCount=0}function b(e){l.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}t.open=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});null==t.autoClose&&(t.autoClose=!0);null==t.lazyEntries&&(t.lazyEntries=!1);null==n&&(n=E);r.open(e,"r",function(e,i){if(e)return n(e);d(i,t,function(e,t){e&&r.close(i,E),n(e,t)})})},t.fromFd=d,t.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1);h(o.createFromBuffer(e),e.length,t,n)},t.fromRandomAccessReader=h,t.dosDateTimeToDate=g,t.ZipFile=f,t.Entry=y,t.RandomAccessReader=v,s.inherits(f,a),f.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},f.prototype.readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=new Buffer(46);_(e.reader,t,0,t.length,e.readEntryCursor,function(n){if(n)return p(e,n);if(!e.emittedError){var r=new y,i=t.readUInt32LE(0);if(33639248!==i)return p(e,new Error("invalid central directory file header signature: 0x"+i.toString(16)));r.versionMadeBy=t.readUInt16LE(4),r.versionNeededToExtract=t.readUInt16LE(6),r.generalPurposeBitFlag=t.readUInt16LE(8),r.compressionMethod=t.readUInt16LE(10),r.lastModFileTime=t.readUInt16LE(12),r.lastModFileDate=t.readUInt16LE(14),r.crc32=t.readUInt32LE(16),r.compressedSize=t.readUInt32LE(20),r.uncompressedSize=t.readUInt32LE(24),r.fileNameLength=t.readUInt16LE(28),r.extraFieldLength=t.readUInt16LE(30),r.fileCommentLength=t.readUInt16LE(32),r.internalFileAttributes=t.readUInt16LE(36),r.externalFileAttributes=t.readUInt32LE(38),r.relativeOffsetOfLocalHeader=t.readUInt32LE(42),e.readEntryCursor+=46,t=new Buffer(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),_(e.reader,t,0,t.length,e.readEntryCursor,function(n){if(n)return p(e,n);if(!e.emittedError){var i=2048&r.generalPurposeBitFlag;try{r.fileName=x(t,0,r.fileNameLength,i)}catch(t){return p(e,t)}var o=r.fileNameLength+r.extraFieldLength,s=t.slice(r.fileNameLength,o);r.extraFields=[];for(var a=0;a<s.length;){var c=s.readUInt16LE(a+0),l=s.readUInt16LE(a+2),u=a+4,d=u+l,h=new Buffer(l);s.copy(h,0,u,d),r.extraFields.push({id:c,data:h}),a=d}try{r.fileComment=x(t,o,o+r.fileCommentLength,i)}catch(t){return p(e,t)}if(e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===r.uncompressedSize||4294967295===r.compressedSize||4294967295===r.relativeOffsetOfLocalHeader){var f=null;for(a=0;a<r.extraFields.length;a++){var m=r.extraFields[a];if(1===m.id){f=m.data;break}}if(null==f)return p(e,new Error("expected Zip64 Extended Information Extra Field"));var y=0;if(4294967295===r.uncompressedSize){if(y+8>f.length)return p(e,new Error("Zip64 Extended Information Extra Field does not include Original Size"));r.uncompressedSize=C(f,y),y+=8}if(4294967295===r.compressedSize){if(y+8>f.length)return p(e,new Error("Zip64 Extended Information Extra Field does not include Compressed Size"));r.compressedSize=C(f,y),y+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(y+8>f.length)return p(e,new Error("Zip64 Extended Information Extra Field does not include Relative Header Offset"));r.relativeOffsetOfLocalHeader=C(f,y),y+=8}}if(0===r.compressionMethod&&r.compressedSize!==r.uncompressedSize){var g="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return p(e,new Error(g))}if(-1!==r.fileName.indexOf("\\"))return p(e,new Error("invalid characters in fileName: "+r.fileName));if(/^[a-zA-Z]:/.test(r.fileName)||/^\//.test(r.fileName))return p(e,new Error("absolute path: "+r.fileName));if(-1!==r.fileName.split("/").indexOf(".."))return p(e,new Error("invalid relative path: "+r.fileName));e.emit("entry",r),e.lazyEntries||e.readEntry()}})}})}}else setImmediate(function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")})},f.prototype.openReadStream=function(e,t){var n=this;if(!n.isOpen)return t(new Error("closed"));n.reader.ref();var r=new Buffer(30);_(n.reader,r,0,r.length,e.relativeOffsetOfLocalHeader,function(o){try{if(o)return t(o);var s=r.readUInt32LE(0);if(67324752!==s)return t(new Error("invalid local file header signature: 0x"+s.toString(16)));var a,c=r.readUInt16LE(26),l=r.readUInt16LE(28),u=e.relativeOffsetOfLocalHeader+r.length+c+l;if(0===e.compressionMethod)a=!1;else{if(8!==e.compressionMethod)return t(new Error("unsupported compression method: "+e.compressionMethod));a=!0}var d=u,h=d+e.compressedSize;if(0!==e.compressedSize&&h>n.fileSize)return t(new Error("file data overflows file bounds: "+d+" + "+e.compressedSize+" > "+n.fileSize));var f=n.reader.createReadStream({start:d,end:h}),p=f;if(a){var m=!1,y=i.createInflateRaw();f.on("error",function(e){setImmediate(function(){m||y.emit("error",e)})});var g=new w(e.uncompressedSize);y.on("error",function(e){setImmediate(function(){m||g.emit("error",e)})}),g.destroy=function(){m=!0,y.unpipe(g),f.unpipe(y),f.destroy()},p=f.pipe(y).pipe(g)}t(null,p)}finally{n.reader.unref()}})},y.prototype.getLastModDate=function(){return g(this.lastModFileDate,this.lastModFileTime)},s.inherits(w,c),w.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},w.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},s.inherits(v,a),v.prototype.ref=function(){this.refCount+=1},v.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close(function(t){if(t)return e.emit("error",t);e.emit("close")})}},v.prototype.createReadStream=function(e){var t=e.start,n=e.end;if(t===n){var r=new l;return setImmediate(function(){r.end()}),r}var i=this._readStreamForRange(t,n),o=!1,s=new b(this);i.on("error",function(e){setImmediate(function(){o||s.emit("error",e)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new w(n-t);return s.on("error",function(e){setImmediate(function(){o||a.emit("error",e)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)},v.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},v.prototype.read=function(e,t,n,r,i){var o=this.createReadStream({start:r,end:r+n}),s=new u,a=0;s._write=function(n,r,i){n.copy(e,t+a,0,n.length),a+=n.length,i()},s.on("finish",i),o.on("error",function(e){i(e)}),o.pipe(s)},v.prototype.close=function(e){setImmediate(e)},s.inherits(b,l),b.prototype._flush=function(e){this.unref(),e()},b.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var k="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function x(e,t,n,r){if(r)return e.toString("utf8",t,n);for(var i="",o=t;o<n;o++)i+=k[e[o]];return i}function C(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function E(e){if(e)throw e}},function(e,t,n){var r=n(0),i=n(5),o=n(9),s=o.Readable,a=o.Writable,c=o.PassThrough,l=n(100),u=n(1).EventEmitter;function d(e,t){t=t||{},u.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function h(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function f(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function p(e){u.call(this),this.refCount=0,this.buffer=e}t.createFromBuffer=function(e){return new p(e)},t.createFromFd=function(e,t){return new d(e,t)},t.BufferSlicer=p,t.FdSlicer=d,i.inherits(d,u),d.prototype.read=function(e,t,n,i,o){var s=this;s.pend.go(function(a){r.read(s.fd,e,t,n,i,function(e,t,n){a(),o(e,t,n)})})},d.prototype.write=function(e,t,n,i,o){var s=this;s.pend.go(function(a){r.write(s.fd,e,t,n,i,function(e,t,n){a(),o(e,t,n)})})},d.prototype.createReadStream=function(e){return new h(this,e)},d.prototype.createWriteStream=function(e){return new f(this,e)},d.prototype.ref=function(){this.refCount+=1},d.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&r.close(e.fd,function(t){t?e.emit("error",t):e.emit("close")})}},i.inherits(h,s),h.prototype._read=function(e){var t=this;if(!t.destroyed){var n=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(n=Math.min(n,t.endOffset-t.pos)),n<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go(function(e){if(t.destroyed)return e();var i=new Buffer(n);r.read(t.context.fd,i,0,n,t.pos,function(n,r){n?t.destroy(n):0===r?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=r,t.push(i.slice(0,r))),e()})})}},h.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},i.inherits(f,a),f.prototype._write=function(e,t,n){var i=this;if(!i.destroyed){if(i.pos+e.length>i.endOffset){var o=new Error("maximum file length exceeded");return o.code="ETOOBIG",i.destroy(),void n(o)}i.context.pend.go(function(t){if(i.destroyed)return t();r.write(i.context.fd,e,0,e.length,i.pos,function(e,r){e?(i.destroy(),t(),n(e)):(i.bytesWritten+=r,i.pos+=r,i.emit("progress"),t(),n())})})}},f.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},i.inherits(p,u),p.prototype.read=function(e,t,n,r,i){var o=r+n,s=o-this.buffer.length,a=s>0?s:n;this.buffer.copy(e,t,r,o),setImmediate(function(){i(null,a)})},p.prototype.write=function(e,t,n,r,i){e.copy(this.buffer,r,t,t+n),setImmediate(function(){i(null,n,e)})},p.prototype.createReadStream=function(e){var t=new c(e=e||{});return t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length,t.destroyed=!1,t.write(this.buffer.slice(t.start,t.pos)),t.end(),t.destroy=function(){t.destroyed=!0},t},p.prototype.createWriteStream=function(e){var t=this,n=new a(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,i){if(!n.destroyed){var o=n.pos+e.length;if(o>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroyed=!0,void i(s)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=o,n.emit("progress"),i()}},n.destroy=function(){n.destroyed=!0},n},p.prototype.ref=function(){this.refCount+=1},p.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},function(e,t){function n(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function r(e){e.pending+=1;var t=!1;return function(r){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||r,e.pending-=1,e.waiting.length>0&&e.pending<e.max)i(e,e.waiting.shift());else if(0===e.pending){var o=e.listeners;e.listeners=[],o.forEach(n)}};function n(t){t(e.error)}}function i(e,t){t(r(e))}e.exports=n,n.prototype.go=function(e){this.pending<this.max?i(this,e):this.waiting.push(e)},n.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},n.prototype.hold=function(){return r(this)}},function(e,t,n){var r=n(3),i=n(0),o=parseInt("0777",8);function s(e,t,n,a){"function"==typeof t?(n=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||i;void 0===c&&(c=o&~process.umask()),a||(a=null);var u=n||function(){};e=r.resolve(e),l.mkdir(e,c,function(n){if(!n)return u(null,a=a||e);switch(n.code){case"ENOENT":s(r.dirname(e),t,function(n,r){n?u(n,r):s(e,t,u,r)});break;default:l.stat(e,function(e,t){e||!t.isDirectory()?u(n,a):u(null,a)})}})}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,n,s){n&&"object"==typeof n||(n={mode:n});var a=n.mode,c=n.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=r.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(r.dirname(t),n,s),e(t,n,s);break;default:var l;try{l=c.statSync(t)}catch(e){throw i}if(!l.isDirectory())throw i}}return s}},function(e,t,n){var r=n(103).Writable,i=n(10),o=n(110);if("undefined"==typeof Uint8Array)var s=n(111).Uint8Array;else s=Uint8Array;function a(e,t){if(!(this instanceof a))return new a(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var n=e.encoding,i=!1;n?"u8"!==(n=String(n).toLowerCase())&&"uint8"!==n||(n="uint8array"):i=!0,r.call(this,{objectMode:!0}),this.encoding=n,this.shouldInferEncoding=i,t&&this.on("finish",function(){t(this.getBody())}),this.body=[]}e.exports=a,i(a,r),a.prototype._write=function(e,t,n){this.body.push(e),n()},a.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},a.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"string"==typeof r?t.push(r):Buffer.isBuffer(r)?t.push(r):c(r)?t.push(o(r)):t.push(o(String(r)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Buffer.isBuffer(r)?t.push(r):c(r)?t.push(o(r)):t.push(o(String(r)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,n=0;n<e.length;n++)"string"==typeof e[n]&&(e[n]=o(e[n])),t+=e[n].length;for(var r=new s(t),n=0,i=0;n<e.length;n++)for(var a=e[n],c=0;c<a.length;c++)r[i++]=a[c];return r}(this.body):this.body):[]};Array.isArray;function c(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}},function(e,t,n){var r=n(9);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(56)).Stream=r||t,t.Readable=t,t.Writable=n(59),t.Duplex=n(12),t.Transform=n(61),t.PassThrough=n(109))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=require("buffer")},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(23).Buffer,i=n(5);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){e.exports=n(5).deprecate},function(e,t,n){"use strict";e.exports=o;var r=n(61),i=n(17);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(10),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t){var n=Object.prototype.toString,r="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return o=e,"ArrayBuffer"===n.call(o).slice(8,-1)?function(e,t,n){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===n)n=i;else if((n>>>=0)>i)throw new RangeError("'length' is out of bounds");return r?Buffer.from(e.slice(t,t+n)):new Buffer(new Uint8Array(e.slice(t,t+n)))}(e,t,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return r?Buffer.from(e,t):new Buffer(e,t)}(e,t):r?Buffer.from(e):new Buffer(e);var o}},function(e,t){var n,r,i,o=void 0,s=1e5,a=(n=Object.prototype.toString,r=Object.prototype.hasOwnProperty,{Class:function(e){return n.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return r.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),c=Math.LN2,l=Math.abs,u=Math.floor,d=Math.log,h=Math.min,f=Math.pow,p=Math.round;function m(e){if(y&&i){var t,n=y(e);for(t=0;t<n.length;t+=1)i(e,n[t],{value:e[n[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,n){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return a.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,n.get),a.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,n.set),a.HasProperty(n,"value")&&(e[t]=n.value),e};var y=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)a.HasOwnProperty(e,t)&&n.push(t);return n};function g(e,t){var n=32-t;return e<<n>>n}function _(e,t){var n=32-t;return e<<n>>>n}function w(e){return[255&e]}function v(e){return g(e[0],8)}function b(e){return[255&e]}function k(e){return _(e[0],8)}function x(e){return[(e=p(Number(e)))<0?0:e>255?255:255&e]}function C(e){return[e>>8&255,255&e]}function E(e){return g(e[0]<<8|e[1],16)}function P(e){return[e>>8&255,255&e]}function S(e){return _(e[0]<<8|e[1],16)}function T(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function F(e){return g(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function I(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function N(e){return _(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function R(e,t,n){var r,i,o,s,a,p,m,y=(1<<t-1)-1;function g(e){var t=u(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=f(2,n-1),r=0):e===1/0||e===-1/0?(i=(1<<t)-1,o=0,r=e<0?1:0):0===e?(i=0,o=0,r=1/e==-1/0?1:0):(r=e<0,(e=l(e))>=f(2,1-y)?(i=h(u(d(e)/c),1023),(o=g(e/f(2,i)*f(2,n)))/f(2,n)>=2&&(i+=1,o=1),i>y?(i=(1<<t)-1,o=0):(i+=y,o-=f(2,n))):(i=0,o=g(e/f(2,1-y-n)))),a=[],s=n;s;s-=1)a.push(o%2?1:0),o=u(o/2);for(s=t;s;s-=1)a.push(i%2?1:0),i=u(i/2);for(a.push(r?1:0),a.reverse(),p=a.join(""),m=[];p.length;)m.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return m}function M(e,t,n){var r,i,o,s,a,c,l,u,d=[];for(r=e.length;r;r-=1)for(o=e[r-1],i=8;i;i-=1)d.push(o%2?1:0),o>>=1;return d.reverse(),s=d.join(""),a=(1<<t-1)-1,c=parseInt(s.substring(0,1),2)?-1:1,l=parseInt(s.substring(1,1+t),2),u=parseInt(s.substring(1+t),2),l===(1<<t)-1?0!==u?NaN:c*(1/0):l>0?c*f(2,l-a)*(1+u/f(2,n)):0!==u?c*f(2,-(a-1))*(u/f(2,n)):c<0?-0:0}function O(e){return M(e,11,52)}function L(e){return R(e,11,52)}function D(e){return M(e,8,23)}function A(e){return R(e,8,23)}!function(){var e=function(e){if((e=a.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;m(this)};t.ArrayBuffer=t.ArrayBuffer||e;var n=function(){};function r(t,r,c){var l;return(l=function(t,n,r){var o,c,u,d;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===l)for(o=arguments[0],this.length=o.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)this._setter(u,o._getter(u));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=a.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=a.ToUint32(r),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(c=arguments[0],this.length=a.ToUint32(c.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)d=c[u],this._setter(u,Number(d));else{if(this.length=a.ToInt32(arguments[0]),r<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=l,m(this),function(e){if(i){if(e.length>s)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)n(t)}function n(t){i(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}}(this)}).prototype=new n,l.prototype.BYTES_PER_ELEMENT=t,l.prototype._pack=r,l.prototype._unpack=c,l.BYTES_PER_ELEMENT=t,l.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return o;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)},l.prototype.get=l.prototype._getter,l.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return o;var n,r,i=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]},l.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,r,i,o,s,c,l,u,d,h;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],(i=a.ToUint32(arguments[1]))+n.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+i*this.BYTES_PER_ELEMENT,d=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(h=[],s=0,c=n.byteOffset;s<d;s+=1,c+=1)h[s]=n.buffer._bytes[c];for(s=0,l=u;s<d;s+=1,l+=1)this.buffer._bytes[l]=h[s]}else for(s=0,c=n.byteOffset,l=u;s<d;s+=1,c+=1,l+=1)this.buffer._bytes[l]=n.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(r=arguments[0],o=a.ToUint32(r.length),(i=a.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)c=r[s],this._setter(i+s,Number(c))}},l.prototype.subarray=function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=a.ToInt32(e),t=a.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length);var r=(t=n(t,0,this.length))-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)},l}var c=r(1,w,v),l=r(1,b,k),u=r(1,x,k),d=r(2,C,E),h=r(2,P,S),f=r(4,T,F),p=r(4,I,N),y=r(4,A,D),g=r(8,L,O);t.Int8Array=t.Int8Array||c,t.Uint8Array=t.Uint8Array||l,t.Uint8ClampedArray=t.Uint8ClampedArray||u,t.Int16Array=t.Int16Array||d,t.Uint16Array=t.Uint16Array||h,t.Int32Array=t.Int32Array||f,t.Uint32Array=t.Uint32Array||p,t.Float32Array=t.Float32Array||y,t.Float64Array=t.Float64Array||g}(),function(){function e(e,t){return a.IsCallable(e.get)?e.get(t):e[t]}var n,r=(n=new t.Uint16Array([4660]),18===e(new t.Uint8Array(n.buffer),0)),i=function(e,n,r){if(0===arguments.length)e=new t.ArrayBuffer(0);else if(!(e instanceof t.ArrayBuffer||"ArrayBuffer"===a.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.ArrayBuffer(0),this.byteOffset=a.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=a.ToUint32(r),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");m(this)};function o(n){return function(i,o){if((i=a.ToUint32(i))+n.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var s,c=new t.Uint8Array(this.buffer,i,n.BYTES_PER_ELEMENT),l=[];for(s=0;s<n.BYTES_PER_ELEMENT;s+=1)l.push(e(c,s));return Boolean(o)===Boolean(r)&&l.reverse(),e(new n(new t.Uint8Array(l).buffer),0)}}function s(n){return function(i,o,s){if((i=a.ToUint32(i))+n.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,l=new n([o]),u=new t.Uint8Array(l.buffer),d=[];for(c=0;c<n.BYTES_PER_ELEMENT;c+=1)d.push(e(u,c));Boolean(s)===Boolean(r)&&d.reverse(),new t.Uint8Array(this.buffer,i,n.BYTES_PER_ELEMENT).set(d)}}i.prototype.getUint8=o(t.Uint8Array),i.prototype.getInt8=o(t.Int8Array),i.prototype.getUint16=o(t.Uint16Array),i.prototype.getInt16=o(t.Int16Array),i.prototype.getUint32=o(t.Uint32Array),i.prototype.getInt32=o(t.Int32Array),i.prototype.getFloat32=o(t.Float32Array),i.prototype.getFloat64=o(t.Float64Array),i.prototype.setUint8=s(t.Uint8Array),i.prototype.setInt8=s(t.Int8Array),i.prototype.setUint16=s(t.Uint16Array),i.prototype.setInt16=s(t.Int16Array),i.prototype.setUint32=s(t.Uint32Array),i.prototype.setInt32=s(t.Int32Array),i.prototype.setFloat32=s(t.Float32Array),i.prototype.setFloat64=s(t.Float64Array),t.DataView=t.DataView||i}()},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(113):e.exports=n(115)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(62)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?a(c=e,o,"day")||a(c,i,"hour")||a(c,r,"minute")||a(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(29),i=n(5);(t=e.exports=n(62)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return s.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var i=n(0);(t=new i.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var o=n(34);(t=new o.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t,n){var r=n(3),i="win32"===process.platform,o=n(0),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,u,d=e,h={},f={};function p(){var t=l.exec(e);n=t[0].length,s=t[0],a=t[0],u="",i&&!f[a]&&(o.lstatSync(a),f[a]=!0)}for(p();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(u=s,s+=m[0],a=u+m[1],n=c.lastIndex,!(f[a]||t&&t[a]===a)){var y;if(t&&Object.prototype.hasOwnProperty.call(t,a))y=t[a];else{var g=o.lstatSync(a);if(!g.isSymbolicLink()){f[a]=!0,t&&(t[a]=a);continue}var _=null;if(!i){var w=g.dev.toString(32)+":"+g.ino.toString(32);h.hasOwnProperty(w)&&(_=h[w])}null===_&&(o.statSync(a),_=o.readlinkSync(a)),y=r.resolve(u,_),t&&(t[a]=y),i||(h[w]=_)}e=r.resolve(y,e.slice(n)),p()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,u,d,h,f=e,p={},m={};function y(){var t=l.exec(e);s=t[0].length,u=t[0],d=t[0],h="",i&&!m[d]?o.lstat(d,function(e){if(e)return n(e);m[d]=!0,g()}):process.nextTick(g)}function g(){if(s>=e.length)return t&&(t[f]=e),n(null,e);c.lastIndex=s;var r=c.exec(e);return h=u,u+=r[0],d=h+r[1],s=c.lastIndex,m[d]||t&&t[d]===d?process.nextTick(g):t&&Object.prototype.hasOwnProperty.call(t,d)?v(t[d]):o.lstat(d,_)}function _(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(g);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(p.hasOwnProperty(s))return w(null,p[s],d)}o.stat(d,function(e){if(e)return n(e);o.readlink(d,function(e,t){i||(p[s]=t),w(e,t)})})}function w(e,i,o){if(e)return n(e);var s=r.resolve(h,i);t&&(t[o]=s),v(s)}function v(t){e=r.resolve(t,e.slice(s)),y()}y()}},function(e,t,n){var r=n(118),i=n(119);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var d=c||l;var y=s.body.indexOf(",")>=0;if(!d&&!y)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];var g;if(d)g=s.body.split(/\.\./);else if(1===(g=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var o=r.pre;var s=r.body;var a=r.post;var c=o.split(",");c[c.length-1]+="{"+s+"}";var l=e(a);a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));n.push.apply(n,c);return n}(s.body)).length&&1===(g=e(g[0],!1).map(h)).length){var _=s.post.length?e(s.post,!1):[""];return _.map(function(e){return s.pre+g[0]+e})}var w=s.pre;var _=s.post.length?e(s.post,!1):[""];var v;if(d){var b=u(g[0]),k=u(g[1]),x=Math.max(g[0].length,g[1].length),C=3==g.length?Math.abs(u(g[2])):1,E=p,P=k<b;P&&(C*=-1,E=m);var S=g.some(f);v=[];for(var T=b;E(T,k);T+=C){var F;if(l)"\\"===(F=String.fromCharCode(T))&&(F="");else if(F=String(T),S){var I=x-F.length;if(I>0){var N=new Array(I+1).join("0");F=T<0?"-"+N+F.slice(1):N+F}}v.push(F)}}else v=r(g,function(t){return e(t,!1)});for(var R=0;R<v.length;R++)for(var M=0;M<_.length;M++){var O=w+v[R]+_[M];(!n||d||O)&&o.push(O)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<o&&(o=i,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}e.exports=r,r.range=o},function(e,t,n){e.exports=p,p.GlobSync=m;var r=n(0),i=n(64),o=n(36),s=(o.Minimatch,n(63).Glob,n(5),n(3)),a=n(35),c=n(37),l=n(65),u=(l.alphasort,l.alphasorti,l.setopts),d=l.ownProp,h=l.childrenIgnored,f=l.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}})}l.finish(this)},m.prototype._process=function(e,t,n){a(this instanceof m);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,l=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var u=this._makeAbs(s);h(this,s)||(l[0]===o.GLOBSTAR?this._processGlobStar(r,s,u,l,t,n):this._processReaddir(r,s,u,l,t,n))},m.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,d=this.dot||"."===u.charAt(0),h=[],f=0;f<a.length;f++){if("."!==(y=a[f]).charAt(0)||d)(l&&!e?!y.match(c):y.match(c))&&h.push(y)}var p=h.length;if(0!==p)if(1!==r.length||this.mark||this.stat){r.shift();for(f=0;f<p;f++){var m;y=h[f];m=e?[e,y]:[y],this._process(m.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<p;f++){var y=h[f];e&&(y="/"!==e.slice(-1)?e+"/"+y:e+y),"/"!==y.charAt(0)||this.nomount||(y=s.join(this.root,y)),this._emitMatch(i,y)}}}},m.prototype._emitMatch=function(e,t){if(!f(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=s.length;if(!this.symlinks[n]||!o)for(var d=0;d<u;d++){if("."!==s[d].charAt(0)||this.dot){var h=c.concat(s[d],a);this._process(h,i,!0);var f=c.concat(s[d],r);this._process(f,i,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(e){return l.mark(this,e)},m.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},function(e,t,n){var r=n(66),i=Object.create(null),o=n(67);e.exports=r(function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o(function t(){var n=i[e],r=n.length,o=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,o)})):delete i[e]}})}(e))})},function(e,t,n){"use strict";n(123);const r=n(5).inherits,i=n(124),o=n(1).EventEmitter;function s(e,t){if(!(this instanceof s))return new s(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=s,r(s,o),s.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},s.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let s=!1;const a=this.timeout,c=this.freeSocket;function l(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function u(e){s||(null!=o&&(clearTimeout(o),o=null),l(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=i(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,s=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",l(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;s||(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest?t.addRequest(e,r):t?(t.on("free",function(){c(t,r)}),e.onSocket(t)):l(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`")))},u)}catch(e){Promise.reject(e).catch(u)}},s.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){"use strict";const r=n(6),i=n(25);var o;i.request=(o=i.request,function(e,t){let n;return null==(n="string"==typeof e?r.parse(e):Object.assign({},e)).port&&(n.port=443),n.secureEndpoint=!0,o.call(i,n,t)}),i.get=function(e,t){const n=i.request(e,t);return n.end(),n}},function(e,t,n){"use strict";e.exports=function(){var e=n(125);return function(t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=n&&n.multiArgs,a=void 0;return n&&n.thisArg?a=n.thisArg:n&&(a=n),new e(function(e,n){i.push(function(t){if(t)return n(t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(!1==!!s)return e(i[0]);e(i)});var r,o=t.apply(a,i);(r=o)&&"function"==typeof r.then&&"function"==typeof r.catch&&e(o)})}}}()},function(e,t,n){"use strict";e.exports=function(){var e=void 0;return e=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!e.hasOwnProperty("Promise"))return!1;var t,n=e.Promise;return!(!n.hasOwnProperty("resolve")||!n.hasOwnProperty("reject"))&&(!(!n.hasOwnProperty("all")||!n.hasOwnProperty("race"))&&(t=void 0,!!new e.Promise(function(e){t=e})&&"function"==typeof t))}()?e.Promise:n(126).Promise}()},function(e,t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.6+9869a4bc
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,i=void 0,o=function(e,t){h[n]=e,h[n+1]=t,2===(n+=2)&&(i?i(f):_())},s="undefined"!=typeof window?window:void 0,a=s||{},c=a.MutationObserver||a.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(f,1)}}var h=new Array(1e3);function f(){for(var e=0;e<n;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}n=0}var p,m,y,g,_=void 0;function w(e,t){var n=this,r=new this.constructor(k);void 0===r[b]&&A(r);var i=n._state;if(i){var s=arguments[i-1];o(function(){return L(i,r,s,n._result)})}else M(n,r,e,t);return r}function v(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(k);return F(t,e),t}l?_=function(){return process.nextTick(f)}:c?(m=0,y=new c(f),g=document.createTextNode(""),y.observe(g,{characterData:!0}),_=function(){g.data=m=++m%2}):u?((p=new MessageChannel).port1.onmessage=f,_=function(){return p.port2.postMessage(0)}):_=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(f)}:d()}catch(e){return d()}}():d();var b=Math.random().toString(36).substring(2);function k(){}var x=void 0,C=1,E=2,P={error:null};function S(e){try{return e.then}catch(e){return P.error=e,P}}function T(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===v?function(e,t){t._state===C?N(e,t._result):t._state===E?R(e,t._result):M(t,void 0,function(t){return F(e,t)},function(t){return R(e,t)})}(t,n):r===P?(R(t,P.error),P.error=null):void 0===r?N(t,n):e(r)?function(e,t,n){o(function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?F(e,n):N(e,n))},function(t){r||(r=!0,R(e,t))},e._label);!r&&i&&(r=!0,R(e,i))},e)}(t,n,r):N(t,n)}function F(e,t){var n,r;e===t?R(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?N(e,t):T(e,t,S(t)))}function I(e){e._onerror&&e._onerror(e._result),O(e)}function N(e,t){e._state===x&&(e._result=t,e._state=C,0!==e._subscribers.length&&o(O,e))}function R(e,t){e._state===x&&(e._state=E,e._result=t,o(I,e))}function M(e,t,n,r){var i=e._subscribers,s=i.length;e._onerror=null,i[s]=t,i[s+C]=n,i[s+E]=r,0===s&&e._state&&o(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?L(n,r,i,o):i(o);e._subscribers.length=0}}function L(t,n,r,i){var o=e(r),s=void 0,a=void 0,c=void 0,l=void 0;if(o){if((s=function(e,t){try{return e(t)}catch(e){return P.error=e,P}}(r,i))===P?(l=!0,a=s.error,s.error=null):c=!0,n===s)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else s=i,c=!0;n._state!==x||(o&&c?F(n,s):l?R(n,a):t===C?N(n,s):t===E&&R(n,s))}var D=0;function A(e){e[b]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(k),this.promise[b]||A(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&N(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===x&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===v){var i=S(e);if(i===w&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===q){var o=new n(k);T(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===x&&(this._remaining--,e===E?R(r,n):this._result[t]=n),0===this._remaining&&N(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){return n._settledAt(C,t,e)},function(e){return n._settledAt(E,t,e)})},e}(),q=function(){function t(e){this[b]=D++,this._result=this._state=void 0,this._subscribers=[],k!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){F(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return q.prototype.then=w,q.all=function(e){return new j(this,e).promise},q.race=function(e){var n=this;return t(e)?new n(function(t,r){for(var i=e.length,o=0;o<i;o++)n.resolve(e[o]).then(t,r)}):new n(function(e,t){return t(new TypeError("You must pass an array to race."))})},q.resolve=v,q.reject=function(e){var t=new this(k);return R(t,e),t},q._setScheduler=function(e){i=e},q._setAsap=function(e){o=e},q._asap=o,q.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=q},q.Promise=q,q},e.exports=r()},function(e,t,n){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(128):e.exports=n(129)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(70)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,n){"use strict";var r=n(29),i=n(5);t.init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(n){var r=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),s="  ".concat(o,";1m").concat(r," [0m");n[0]=s+n[0].split("\n").join("\n"+s),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=n(44);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(70)(t);var s=e.exports.formatters;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,n){const r=n(7),i=n(3),o=n(13),s=n(6),a=n(24),c=n(73),l=n(33),{Connection:u}=n(32),{Browser:d}=n(30),h=n(74),f=n(0),{helper:p,assert:m,debugError:y}=n(2),{TimeoutError:g}=n(15),_=n(131),w=n(139),v=p.promisify(f.mkdtemp),b=p.promisify(a),k=i.join(r.tmpdir(),"puppeteer_dev_profile-"),x=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=site-per-process,TranslateUI,BlinkGenPropertyTrees","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--safebrowsing-disable-auto-update","--enable-automation","--password-store=basic","--use-mock-keychain"];e.exports=class{constructor(e,t,n){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=n}async launch(e={}){const{ignoreDefaultArgs:t=!1,args:n=[],dumpio:r=!1,executablePath:i=null,pipe:o=!1,env:s=process.env,handleSIGINT:l=!0,handleSIGTERM:f=!0,handleSIGHUP:m=!0,ignoreHTTPSErrors:x=!1,defaultViewport:C={width:800,height:600},slowMo:E=0,timeout:P=3e4}=e,S=[];t?Array.isArray(t)?S.push(...this.defaultArgs(e).filter(e=>-1===t.indexOf(e))):S.push(...n):S.push(...this.defaultArgs(e));let T=null;S.some(e=>e.startsWith("--remote-debugging-"))||S.push(o?"--remote-debugging-pipe":"--remote-debugging-port=0"),S.some(e=>e.startsWith("--user-data-dir"))||(T=await v(k),S.push(`--user-data-dir=${T}`));let F=i;if(!i){const{missingText:e,executablePath:t}=this._resolveExecutablePath();if(e)throw new Error(e);F=t}const I=S.includes("--remote-debugging-pipe"),N=I?["ignore","ignore","ignore","pipe","pipe"]:["pipe","pipe","pipe"],R=c.spawn(F,S,{detached:"win32"!==process.platform,env:s,stdio:N});r&&(R.stderr.pipe(process.stderr),R.stdout.pipe(process.stdout));let M=!1;const O=new Promise((e,t)=>{R.once("exit",()=>{M=!0,T?b(T).then(()=>e()).catch(e=>console.error(e)):e()})}),L=[p.addEventListener(process,"exit",j)];l&&L.push(p.addEventListener(process,"SIGINT",()=>{j(),process.exit(130)})),f&&L.push(p.addEventListener(process,"SIGTERM",A)),m&&L.push(p.addEventListener(process,"SIGHUP",A));let D=null;try{if(I){const e=new w(R.stdio[3],R.stdio[4]);D=new u("",e,E)}else{const e=await function(e,t,n){return new Promise((r,i)=>{const o=h.createInterface({input:e.stderr});let s="";const a=[p.addEventListener(o,"line",function(e){s+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);t&&(u(),r(t[1]))}),p.addEventListener(o,"close",()=>l()),p.addEventListener(e,"exit",()=>l()),p.addEventListener(e,"error",e=>l(e))],c=t?setTimeout(function(){u(),i(new g(`Timed out after ${t} ms while trying to connect to Chrome! The only Chrome revision guaranteed to work is r${n}`))},t):0;function l(e){u(),i(new Error(["Failed to launch chrome!"+(e?" "+e.message:""),s,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join("\n")))}function u(){c&&clearTimeout(c),p.removeEventListeners(a)}})}(R,P,this._preferredRevision),t=await _.create(e);D=new u(e,t,E)}const e=await d.create(D,[],x,C,R,A);return await e.waitForTarget(e=>"page"===e.type()),e}catch(e){throw j(),e}function A(){return p.removeEventListeners(L),T?j():D&&D.send("Browser.close").catch(e=>{y(e),j()}),O}function j(){if(p.removeEventListeners(L),R.pid&&!R.killed&&!M)try{"win32"===process.platform?c.execSync(`taskkill /pid ${R.pid} /T /F`):process.kill(-R.pid,"SIGKILL")}catch(e){}try{a.sync(T)}catch(e){}}}defaultArgs(e={}){const{devtools:t=!1,headless:n=!t,args:i=[],userDataDir:o=null}=e,s=[...x];return o&&s.push(`--user-data-dir=${o}`),t&&s.push("--auto-open-devtools-for-tabs"),n&&(s.push("--headless","--hide-scrollbars","--mute-audio"),"win32"===r.platform()&&s.push("--disable-gpu")),i.every(e=>e.startsWith("-"))&&s.push("about:blank"),s.push(...i),s}executablePath(){return this._resolveExecutablePath().executablePath}async connect(e){const{browserWSEndpoint:t,browserURL:n,ignoreHTTPSErrors:r=!1,defaultViewport:i={width:800,height:600},transport:a,slowMo:c=0}=e;m(Number(!!t)+Number(!!n)+Number(!!a)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let l=null;if(a)l=new u("",a,c);else if(t){const e=await _.create(t);l=new u(t,e,c)}else if(n){const e=await function(e){let t,n;const r=new Promise((e,r)=>{t=e,n=r}),i=s.resolve(e,"/json/version"),a=Object.assign(s.parse(i),{method:"GET"}),c=o.request(a,e=>{let r="";if(200!==e.statusCode)return e.resume(),void n(new Error("HTTP "+e.statusCode));e.setEncoding("utf8"),e.on("data",e=>r+=e),e.on("end",()=>t(JSON.parse(r).webSocketDebuggerUrl))});return c.on("error",n),c.end(),r.catch(e=>{throw e.message=`Failed to fetch browser webSocket url from ${i}: `+e.message,e})}(n),t=await _.create(e);l=new u(e,t,c)}const{browserContextIds:h}=await l.send("Target.getBrowserContexts");return d.create(l,h,r,i,null,()=>l.send("Browser.close").catch(y))}_resolveExecutablePath(){const e=new l(this._projectRoot);if(!this._isPuppeteerCore){const t=process.env.PUPPETEER_EXECUTABLE_PATH;if(t)return{executablePath:t,missingText:f.existsSync(t)?null:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+t};const n=process.env.PUPPETEER_CHROMIUM_REVISION;if(n){const t=e.revisionInfo(n),r=t.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+t.executablePath;return{executablePath:t.executablePath,missingText:r}}}const t=e.revisionInfo(this._preferredRevision),n=t.local?null:'Chromium revision is not downloaded. Run "npm install" or "yarn install"';return{executablePath:t.executablePath,missingText:n}}}},function(e,t,n){const r=n(75);class i{static create(e){return new Promise((t,n)=>{const o=new r(e,[],{perMessageDeflate:!1});o.addEventListener("open",()=>t(new i(o))),o.addEventListener("error",n)})}constructor(e){this._ws=e,this._ws.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this._ws.addEventListener("close",e=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}send(e){this._ws.send(e)}close(){this._ws.close()}}e.exports=i},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=e||{},this.concurrency=e.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=function(){this.pending--,this._run()}.bind(this)}["push","unshift","splice"].forEach(function(e){r.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this._run(),t}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),r.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var e=this.jobs.shift();this.pending++,e(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var t=this.cbs.pop();process.nextTick(t)}}},r.prototype.onDone=function(e){"function"==typeof e&&(this.cbs.push(e),this._run())},e.exports=r},function(e,t,n){"use strict";(function(t){try{e.exports=n(77)(t)}catch(t){e.exports=n(134)}}).call(this,"/")},function(e,t,n){"use strict";e.exports={mask:(e,t,n,r,i)=>{for(var o=0;o<i;o++)n[r+o]=e[o]^t[3&o]},unmask:(e,t)=>{const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}}},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class o extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class s extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function n(e){t.call(this,new i(e,this))}function r(e,n){t.call(this,new o(e,n,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new s(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=c},function(e,t,n){"use strict";(function(t){try{e.exports=n(77)(t)}catch(t){e.exports=n(137)}}).call(this,"/")},function(e,t,n){"use strict";e.exports=(e=>{for(var t=e.length,n=0;n<t;)if(e[n]<128)n++;else if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}return!0})},function(e,t,n){"use strict";const r=n(1),i=n(26),o=n(13),s=n(27),a=n(78),c=n(76),{GUID:l}=n(14),u=/^[+\/0-9A-Za-z]{22}==$/;function d(e){e.emit("close")}function h(){this.destroy()}function f(e,t,n,r){e.writable&&(n=n||o.STATUS_CODES[t],r=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n)},r),e.write(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",h),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=o.createServer((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(d,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",h);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],c={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!u.test(i)||8!==o&&13!==o||!this.shouldHandle(e))return f(t,400);if(this.options.perMessageDeflate){const n=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const r=a.parse(e.headers["sec-websocket-extensions"]);r[s.extensionName]&&(n.accept(r[s.extensionName]),c[s.extensionName]=n)}catch(e){return f(t,400)}}if(this.options.verifyClient){const s={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(o,s,a,l)=>{if(!o)return f(t,s||401,a,l);this.completeUpgrade(i,c,e,t,n,r)});if(!this.options.verifyClient(s))return f(t,401)}this.completeUpgrade(i,c,e,t,n,r)}completeUpgrade(e,t,n,r,o,u){if(!r.readable||!r.writable)return r.destroy();const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i.createHash("sha1").update(e+l).digest("base64")}`],f=new c(null);var p=n.headers["sec-websocket-protocol"];if(p&&(p=p.trim().split(/ *, */),(p=this.options.handleProtocols?this.options.handleProtocols(p,n):p[0])&&(d.push(`Sec-WebSocket-Protocol: ${p}`),f.protocol=p)),t[s.extensionName]){const e=t[s.extensionName].params,n=a.format({[s.extensionName]:[e]});d.push(`Sec-WebSocket-Extensions: ${n}`),f._extensions=t}this.emit("headers",d,n),r.write(d.concat("\r\n").join("\r\n")),r.removeListener("error",h),f.setSocket(r,o,this.options.maxPayload),this.clients&&(this.clients.add(f),f.on("close",()=>this.clients.delete(f))),u(f)}}},function(e,t,n){const{helper:r}=n(2);e.exports=class{constructor(e,t){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[r.addEventListener(t,"data",e=>this._dispatch(e)),r.addEventListener(t,"close",()=>{this.onclose&&this.onclose.call(null)})],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let t=e.indexOf("\0");if(-1===t)return void(this._pendingMessage+=e.toString());const n=this._pendingMessage+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,n);let r=t+1;for(t=e.indexOf("\0",r);-1!==t;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,r,t)),r=t+1,t=e.indexOf("\0",r);this._pendingMessage=e.toString(void 0,r)}close(){this._pipeWrite=null,r.removeEventListeners(this._eventListeners)}}},function(e,t,n){const r=n(141),i=n(82);e.exports=class{constructor(e,t,n){this._projectRoot=e,this._launcher=new r(e,t,n)}launch(e){return this._launcher.launch(e)}connect(e){return this._launcher.connect(e)}executablePath(){return this._launcher.executablePath()}defaultArgs(e){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new i(this._projectRoot,e)}}},function(e,t,n){const r=n(7),i=n(3),o=n(13),s=n(6),a=n(24),c=n(73),l=n(82),{Connection:u}=n(83),{Browser:d}=n(142),h=n(74),f=n(0),{helper:p,assert:m,debugError:y}=n(4),{TimeoutError:g}=n(28),_=n(159),w=n(160),v=p.promisify(f.mkdtemp),b=p.promisify(a),k=i.join(r.tmpdir(),"puppeteer_dev_profile-"),x=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=site-per-process,TranslateUI,BlinkGenPropertyTrees","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--safebrowsing-disable-auto-update","--enable-automation","--password-store=basic","--use-mock-keychain"];e.exports=class{constructor(e,t,n){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=n}launch(e={}){return(t=>{const n=function*(){const{ignoreDefaultArgs:t=!1,args:n=[],dumpio:r=!1,executablePath:i=null,pipe:o=!1,env:s=process.env,handleSIGINT:l=!0,handleSIGTERM:f=!0,handleSIGHUP:m=!0,ignoreHTTPSErrors:x=!1,defaultViewport:C={width:800,height:600},slowMo:E=0,timeout:P=3e4}=e,S=[];t?Array.isArray(t)?S.push(...this.defaultArgs(e).filter(e=>-1===t.indexOf(e))):S.push(...n):S.push(...this.defaultArgs(e));let T=null;S.some(e=>e.startsWith("--remote-debugging-"))||S.push(o?"--remote-debugging-pipe":"--remote-debugging-port=0"),S.some(e=>e.startsWith("--user-data-dir"))||(T=yield v(k),S.push(`--user-data-dir=${T}`));let F=i;if(!i){const{missingText:e,executablePath:t}=this._resolveExecutablePath();if(e)throw new Error(e);F=t}const I=S.includes("--remote-debugging-pipe"),N=I?["ignore","ignore","ignore","pipe","pipe"]:["pipe","pipe","pipe"],R=c.spawn(F,S,{detached:"win32"!==process.platform,env:s,stdio:N});r&&(R.stderr.pipe(process.stderr),R.stdout.pipe(process.stdout));let M=!1;const O=new Promise((e,t)=>{R.once("exit",()=>{M=!0,T?b(T).then(()=>e()).catch(e=>console.error(e)):e()})}),L=[p.addEventListener(process,"exit",j)];l&&L.push(p.addEventListener(process,"SIGINT",()=>{j(),process.exit(130)})),f&&L.push(p.addEventListener(process,"SIGTERM",A)),m&&L.push(p.addEventListener(process,"SIGHUP",A));let D=null;try{if(I){const e=new w(R.stdio[3],R.stdio[4]);D=new u("",e,E)}else{const e=yield function(e,t,n){return new Promise((r,i)=>{const o=h.createInterface({input:e.stderr});let s="";const a=[p.addEventListener(o,"line",function(e){s+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);t&&(u(),r(t[1]))}),p.addEventListener(o,"close",()=>l()),p.addEventListener(e,"exit",()=>l()),p.addEventListener(e,"error",e=>l(e))],c=t?setTimeout(function(){u(),i(new g(`Timed out after ${t} ms while trying to connect to Chrome! The only Chrome revision guaranteed to work is r${n}`))},t):0;function l(e){u(),i(new Error(["Failed to launch chrome!"+(e?" "+e.message:""),s,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join("\n")))}function u(){c&&clearTimeout(c),p.removeEventListeners(a)}})}(R,P,this._preferredRevision),t=yield _.create(e);D=new u(e,t,E)}const e=yield d.create(D,[],x,C,R,A);return yield e.waitForTarget(e=>"page"===e.type()),e}catch(e){throw j(),e}function A(){return p.removeEventListeners(L),T?j():D&&D.send("Browser.close").catch(e=>{y(e),j()}),O}function j(){if(p.removeEventListeners(L),R.pid&&!R.killed&&!M)try{"win32"===process.platform?c.execSync(`taskkill /pid ${R.pid} /T /F`):process.kill(-R.pid,"SIGKILL")}catch(e){}try{a.sync(T)}catch(e){}}}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}defaultArgs(e={}){const{devtools:t=!1,headless:n=!t,args:i=[],userDataDir:o=null}=e,s=[...x];return o&&s.push(`--user-data-dir=${o}`),t&&s.push("--auto-open-devtools-for-tabs"),n&&(s.push("--headless","--hide-scrollbars","--mute-audio"),"win32"===r.platform()&&s.push("--disable-gpu")),i.every(e=>e.startsWith("-"))&&s.push("about:blank"),s.push(...i),s}executablePath(){return this._resolveExecutablePath().executablePath}connect(e){return(t=>{const n=function*(){const{browserWSEndpoint:t,browserURL:n,ignoreHTTPSErrors:r=!1,defaultViewport:i={width:800,height:600},transport:a,slowMo:c=0}=e;m(Number(!!t)+Number(!!n)+Number(!!a)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let l=null;if(a)l=new u("",a,c);else if(t){const e=yield _.create(t);l=new u(t,e,c)}else if(n){const e=yield function(e){let t,n;const r=new Promise((e,r)=>{t=e,n=r}),i=s.resolve(e,"/json/version"),a=Object.assign(s.parse(i),{method:"GET"}),c=o.request(a,e=>{let r="";if(200!==e.statusCode)return e.resume(),void n(new Error("HTTP "+e.statusCode));e.setEncoding("utf8"),e.on("data",e=>r+=e),e.on("end",()=>t(JSON.parse(r).webSocketDebuggerUrl))});return c.on("error",n),c.end(),r.catch(e=>{throw e.message=`Failed to fetch browser webSocket url from ${i}: `+e.message,e})}(n),t=yield _.create(e);l=new u(e,t,c)}const{browserContextIds:h}=yield l.send("Target.getBrowserContexts");return d.create(l,h,r,i,null,()=>l.send("Browser.close").catch(y))}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_resolveExecutablePath(){const e=new l(this._projectRoot);if(!this._isPuppeteerCore){const t=process.env.PUPPETEER_EXECUTABLE_PATH;if(t)return{executablePath:t,missingText:f.existsSync(t)?null:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+t};const n=process.env.PUPPETEER_CHROMIUM_REVISION;if(n){const t=e.revisionInfo(n),r=t.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+t.executablePath;return{executablePath:t.executablePath,missingText:r}}}const t=e.revisionInfo(this._preferredRevision),n=t.local?null:'Chromium revision is not downloaded. Run "npm install" or "yarn install"';return{executablePath:t.executablePath,missingText:n}}}},function(e,t,n){const{helper:r,assert:i}=n(4),{Target:o}=n(143),s=n(1),{TaskQueue:a}=n(158),{Events:c}=n(11);class l extends s{static create(e,t,n,r,i,o){return(s=>{const a=function*(){const s=new l(e,t,n,r,i,o);return yield e.send("Target.setDiscoverTargets",{discover:!0}),s}.call(this);return new Promise((e,t)=>{return function n(r,i){let o,s;try{s=(o=a[r](i)).value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(s).then(e=>{n("next",e)},e=>{n("throw",e)});e(s)}("next")})})()}constructor(e,t,n,r,i,o){super(),this._ignoreHTTPSErrors=n,this._defaultViewport=r,this._process=i,this._screenshotTaskQueue=new a,this._connection=e,this._closeCallback=o||new Function,this._defaultContext=new u(this._connection,this,null),this._contexts=new Map;for(const e of t)this._contexts.set(e,new u(this._connection,this,e));this._targets=new Map,this._connection.on(c.Connection.Disconnected,()=>this.emit(c.Browser.Disconnected)),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}process(){return this._process}createIncognitoBrowserContext(){return(e=>{const t=function*(){const{browserContextId:e}=yield this._connection.send("Target.createBrowserContext"),t=new u(this._connection,this,e);return this._contexts.set(e,t),t}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}_disposeContext(e){return(t=>{const n=function*(){yield this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_targetCreated(e){return(t=>{const n=function*(){const t=e.targetInfo,{browserContextId:n}=t,r=n&&this._contexts.has(n)?this._contexts.get(n):this._defaultContext,s=new o(t,r,()=>this._connection.createSession(t),this._ignoreHTTPSErrors,this._defaultViewport,this._screenshotTaskQueue);i(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,s),(yield s._initializedPromise)&&(this.emit(c.Browser.TargetCreated,s),r.emit(c.BrowserContext.TargetCreated,s))}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_targetDestroyed(e){return(t=>{const n=function*(){const t=this._targets.get(e.targetId);t._initializedCallback(!1),this._targets.delete(e.targetId),t._closedCallback(),(yield t._initializedPromise)&&(this.emit(c.Browser.TargetDestroyed,t),t.browserContext().emit(c.BrowserContext.TargetDestroyed,t))}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_targetInfoChanged(e){const t=this._targets.get(e.targetInfo.targetId);i(t,"target should exist before targetInfoChanged");const n=t.url(),r=t._isInitialized;t._targetInfoChanged(e.targetInfo),r&&n!==t.url()&&(this.emit(c.Browser.TargetChanged,t),t.browserContext().emit(c.BrowserContext.TargetChanged,t))}wsEndpoint(){return this._connection.url()}newPage(){return(e=>{const t=function*(){return this._defaultContext.newPage()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_createPageInContext(e){return(t=>{const n=function*(){const{targetId:t}=yield this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),n=yield this._targets.get(t);return i(yield n._initializedPromise,"Failed to create target for page"),yield n.page()}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>"browser"===e.type())}waitForTarget(e,t={}){return(n=>{const i=function*(){const{timeout:n=3e4}=t,i=this.targets().find(e);if(i)return i;let o;const s=new Promise(e=>o=e);this.on(c.Browser.TargetCreated,a),this.on(c.Browser.TargetChanged,a);try{return n?yield r.waitWithTimeout(s,"target",n):yield s}finally{this.removeListener(c.Browser.TargetCreated,a),this.removeListener(c.Browser.TargetChanged,a)}function a(t){e(t)&&o(t)}}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}pages(){return(e=>{const t=function*(){return(yield Promise.all(this.browserContexts().map(e=>e.pages()))).reduce((e,t)=>e.concat(t),[])}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}version(){return(e=>{const t=function*(){return(yield this._getVersion()).product}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}userAgent(){return(e=>{const t=function*(){return(yield this._getVersion()).userAgent}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}close(){return(e=>{const t=function*(){yield this._closeCallback.call(null),this.disconnect()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}disconnect(){this._connection.dispose()}_getVersion(){return this._connection.send("Browser.getVersion")}}class u extends s{constructor(e,t,n){super(),this._connection=e,this._browser=t,this._id=n}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t){return this._browser.waitForTarget(t=>t.browserContext()===this&&e(t),t)}pages(){return(e=>{const t=function*(){return(yield Promise.all(this.targets().filter(e=>"page"===e.type()).map(e=>e.page()))).filter(e=>!!e)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}isIncognito(){return!!this._id}overridePermissions(e,t){return(n=>{const r=function*(){const n=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["push","push"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardRead"],["clipboard-write","clipboardWrite"],["payment-handler","paymentHandler"],["midi-sysex","midiSysex"]]);t=t.map(e=>{const t=n.get(e);if(!t)throw new Error("Unknown permission: "+e);return t}),yield this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:t})}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}clearPermissionOverrides(){return(e=>{const t=function*(){yield this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}close(){return(e=>{const t=function*(){i(this._id,"Non-incognito profiles cannot be closed!"),yield this._browser._disposeContext(this._id)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}}e.exports={Browser:l,BrowserContext:u}},function(e,t,n){const{Events:r}=n(11),{Page:i}=n(144);e.exports={Target:class{constructor(e,t,n,i,o,s){this._targetInfo=e,this._browserContext=t,this._targetId=e.targetId,this._sessionFactory=n,this._ignoreHTTPSErrors=i,this._defaultViewport=o,this._screenshotTaskQueue=s,this._pagePromise=null,this._initializedPromise=new Promise(e=>this._initializedCallback=e).then(e=>(t=>{const n=function*(){if(!e)return!1;const t=this.opener();if(!t||!t._pagePromise||"page"!==this.type())return!0;const n=yield t._pagePromise;if(!n.listenerCount(r.Page.Popup))return!0;const i=yield this.page();return n.emit(r.Page.Popup,i),!0}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()),this._isClosedPromise=new Promise(e=>this._closedCallback=e),this._isInitialized="page"!==this._targetInfo.type||""!==this._targetInfo.url,this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}page(){return(e=>{const t=function*(){return"page"!==this._targetInfo.type&&"background_page"!==this._targetInfo.type||this._pagePromise||(this._pagePromise=this._sessionFactory().then(e=>i.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport,this._screenshotTaskQueue))),this._pagePromise}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;return"page"===e||"background_page"===e||"service_worker"===e||"browser"===e?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&("page"!==this._targetInfo.type||""!==this._targetInfo.url))return this._isInitialized=!0,void this._initializedCallback(!0)}}}},function(e,t,n){const r=n(0),i=n(1),o=n(47),{Events:s}=n(11),{Connection:a}=n(83),{NetworkManager:c}=n(145),{Dialog:l}=n(147),{EmulationManager:u}=n(148),{FrameManager:d}=n(149),{Keyboard:h,Mouse:f,Touchscreen:p}=n(151),m=n(153),{helper:y,debugError:g,assert:_}=n(4),{Coverage:w}=n(154),{Worker:v}=n(155),{createJSHandle:b}=n(40),{Accessibility:k}=n(156),{TimeoutSettings:x}=n(157),C=y.promisify(r.writeFile);class E extends i{static create(e,t,n,r,i){return(o=>{const s=function*(){yield e.send("Page.enable");const{frameTree:o}=yield e.send("Page.getFrameTree"),s=new E(e,t,o,n,i);yield Promise.all([e.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),e.send("Page.setLifecycleEventsEnabled",{enabled:!0}),e.send("Network.enable",{}),e.send("Runtime.enable",{}).then(()=>s._frameManager.ensureSecondaryDOMWorld()),e.send("Security.enable",{}),e.send("Performance.enable",{}),e.send("Log.enable",{})]),n&&(yield e.send("Security.setOverrideCertificateErrors",{override:!0}));r&&(yield s.setViewport(r));return s}.call(this);return new Promise((e,t)=>{return function n(r,i){let o,a;try{a=(o=s[r](i)).value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}constructor(e,t,n,r,i){super(),this._closed=!1,this._client=e,this._target=t,this._keyboard=new h(e),this._mouse=new f(e,this._keyboard),this._timeoutSettings=new x,this._touchscreen=new p(e,this._keyboard),this._accessibility=new k(e),this._networkManager=new c(e),this._frameManager=new d(e,n,this,this._networkManager,this._timeoutSettings),this._networkManager.setFrameManager(this._frameManager),this._emulationManager=new u(e),this._tracing=new m(e),this._pageBindings=new Map,this._ignoreHTTPSErrors=r,this._coverage=new w(e),this._javascriptEnabled=!0,this._viewport=null,this._screenshotTaskQueue=i,this._workers=new Map,e.on("Target.attachedToTarget",t=>{if("worker"!==t.targetInfo.type)return void e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(g);const n=a.fromSession(e).session(t.sessionId),r=new v(n,t.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(t.sessionId,r),this.emit(s.Page.WorkerCreated,r)}),e.on("Target.detachedFromTarget",e=>{const t=this._workers.get(e.sessionId);t&&(this.emit(s.Page.WorkerDestroyed,t),this._workers.delete(e.sessionId))}),this._frameManager.on(s.FrameManager.FrameAttached,e=>this.emit(s.Page.FrameAttached,e)),this._frameManager.on(s.FrameManager.FrameDetached,e=>this.emit(s.Page.FrameDetached,e)),this._frameManager.on(s.FrameManager.FrameNavigated,e=>this.emit(s.Page.FrameNavigated,e)),this._networkManager.on(s.NetworkManager.Request,e=>this.emit(s.Page.Request,e)),this._networkManager.on(s.NetworkManager.Response,e=>this.emit(s.Page.Response,e)),this._networkManager.on(s.NetworkManager.RequestFailed,e=>this.emit(s.Page.RequestFailed,e)),this._networkManager.on(s.NetworkManager.RequestFinished,e=>this.emit(s.Page.RequestFinished,e)),e.on("Page.domContentEventFired",e=>this.emit(s.Page.DOMContentLoaded)),e.on("Page.loadEventFired",e=>this.emit(s.Page.Load)),e.on("Runtime.consoleAPICalled",e=>this._onConsoleAPI(e)),e.on("Runtime.bindingCalled",e=>this._onBindingCalled(e)),e.on("Page.javascriptDialogOpening",e=>this._onDialog(e)),e.on("Runtime.exceptionThrown",e=>this._handleException(e.exceptionDetails)),e.on("Security.certificateError",e=>this._onCertificateError(e)),e.on("Inspector.targetCrashed",e=>this._onTargetCrashed()),e.on("Performance.metrics",e=>this._emitMetrics(e)),e.on("Log.entryAdded",e=>this._onLogEntryAdded(e)),this._target._isClosedPromise.then(()=>{this.emit(s.Page.Close),this._closed=!0})}setGeolocation(e){return(t=>{const n=function*(){const{longitude:t,latitude:n,accuracy:r=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(n<-90||n>90)throw new Error(`Invalid latitude "${n}": precondition -90 <= LATITUDE <= 90 failed.`);if(r<0)throw new Error(`Invalid accuracy "${r}": precondition 0 <= ACCURACY failed.`);yield this._client.send("Emulation.setGeolocationOverride",{longitude:t,latitude:n,accuracy:r})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}target(){return this._target}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:t,text:n,args:r,source:i,url:o,lineNumber:a}=e.entry;r&&r.map(e=>y.releaseObject(this._client,e)),"worker"!==i&&this.emit(s.Page.Console,new F(t,n,[],{url:o,lineNumber:a}))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}setRequestInterception(e){return(t=>{const n=function*(){return this._networkManager.setRequestInterception(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setOfflineMode(e){return this._networkManager.setOfflineMode(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}_onCertificateError(e){this._ignoreHTTPSErrors&&this._client.send("Security.handleCertificateError",{eventId:e.eventId,action:"continue"}).catch(g)}$(e){return(t=>{const n=function*(){return this.mainFrame().$(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}evaluateHandle(e,...t){return(n=>{const r=function*(){return(yield this.mainFrame().executionContext()).evaluateHandle(e,...t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}queryObjects(e){return(t=>{const n=function*(){return(yield this.mainFrame().executionContext()).queryObjects(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$eval(e,t,...n){return(r=>{const i=function*(){return this.mainFrame().$eval(e,t,...n)}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$$eval(e,t,...n){return(r=>{const i=function*(){return this.mainFrame().$$eval(e,t,...n)}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$$(e){return(t=>{const n=function*(){return this.mainFrame().$$(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$x(e){return(t=>{const n=function*(){return this.mainFrame().$x(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}cookies(...e){return(t=>{const n=function*(){return(yield this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}deleteCookie(...e){return(t=>{const n=function*(){const t=this.url();for(const n of e){const e=Object.assign({},n);!n.url&&t.startsWith("http")&&(e.url=t),yield this._client.send("Network.deleteCookies",e)}}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setCookie(...e){return(t=>{const n=function*(){const t=this.url(),n=t.startsWith("http"),r=e.map(e=>{const r=Object.assign({},e);return!r.url&&n&&(r.url=t),_("about:blank"!==r.url,`Blank page can not have cookie "${r.name}"`),_(!String.prototype.startsWith.call(r.url||"","data:"),`Data URL page can not have cookie "${r.name}"`),r});yield this.deleteCookie(...r),r.length&&(yield this._client.send("Network.setCookies",{cookies:r}))}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}addScriptTag(e){return(t=>{const n=function*(){return this.mainFrame().addScriptTag(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}addStyleTag(e){return(t=>{const n=function*(){return this.mainFrame().addStyleTag(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}exposeFunction(e,t){return(n=>{const r=function*(){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,t);const n=y.evaluationString(function(e){const t=window[e];window[e]=((...n)=>{const r=window[e];let i=r.callbacks;i||(i=new Map,r.callbacks=i);const o=(r.lastSeq||0)+1;r.lastSeq=o;const s=new Promise((e,t)=>i.set(o,{resolve:e,reject:t}));return t(JSON.stringify({name:e,seq:o,args:n})),s})},e);yield this._client.send("Runtime.addBinding",{name:e}),yield this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:n}),yield Promise.all(this.frames().map(e=>e.evaluate(n).catch(g)))}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}authenticate(e){return(t=>{const n=function*(){return this._networkManager.authenticate(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setExtraHTTPHeaders(e){return(t=>{const n=function*(){return this._networkManager.setExtraHTTPHeaders(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setUserAgent(e){return(t=>{const n=function*(){return this._networkManager.setUserAgent(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}metrics(){return(e=>{const t=function*(){const e=yield this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_emitMetrics(e){this.emit(s.Page.Metrics,{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const t={};for(const n of e||[])P.has(n.name)&&(t[n.name]=n.value);return t}_handleException(e){const t=y.getExceptionMessage(e),n=new Error(t);n.stack="",this.emit(s.Page.PageError,n)}_onConsoleAPI(e){return(t=>{const n=function*(){if(0===e.executionContextId)return;const t=this._frameManager.executionContextById(e.executionContextId),n=e.args.map(e=>b(t,e));this._addConsoleMessage(e.type,n,e.stackTrace)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_onBindingCalled(e){return(t=>{const n=function*(){const{name:t,seq:n,args:r}=JSON.parse(e.payload);let i=null;try{const e=yield this._pageBindings.get(t)(...r);i=y.evaluationString(function(e,t,n){window[e].callbacks.get(t).resolve(n),window[e].callbacks.delete(t)},t,n,e)}catch(e){i=e instanceof Error?y.evaluationString(function(e,t,n,r){const i=new Error(n);i.stack=r,window[e].callbacks.get(t).reject(i),window[e].callbacks.delete(t)},t,n,e.message,e.stack):y.evaluationString(function(e,t,n){window[e].callbacks.get(t).reject(n),window[e].callbacks.delete(t)},t,n,e)}this._client.send("Runtime.evaluate",{expression:i,contextId:e.executionContextId}).catch(g)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_addConsoleMessage(e,t,n){if(!this.listenerCount(s.Page.Console))return void t.forEach(e=>e.dispose());const r=[];for(const e of t){const t=e._remoteObject;t.objectId?r.push(e.toString()):r.push(y.valueFromRemoteObject(t))}const i=n&&n.callFrames.length?{url:n.callFrames[0].url,lineNumber:n.callFrames[0].lineNumber,columnNumber:n.callFrames[0].columnNumber}:{},o=new F(e,r.join(" "),t,i);this.emit(s.Page.Console,o)}_onDialog(e){let t=null;"alert"===e.type?t=l.Type.Alert:"confirm"===e.type?t=l.Type.Confirm:"prompt"===e.type?t=l.Type.Prompt:"beforeunload"===e.type&&(t=l.Type.BeforeUnload),_(t,"Unknown javascript dialog type: "+e.type);const n=new l(this._client,t,e.message,e.defaultPrompt);this.emit(s.Page.Dialog,n)}url(){return this.mainFrame().url()}content(){return(e=>{const t=function*(){return yield this._frameManager.mainFrame().content()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setContent(e,t){return(n=>{const r=function*(){yield this._frameManager.mainFrame().setContent(e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}goto(e,t){return(n=>{const r=function*(){return yield this._frameManager.mainFrame().goto(e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}reload(e){return(t=>{const n=function*(){const[t]=yield Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]);return t}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}waitForNavigation(e={}){return(t=>{const n=function*(){return yield this._frameManager.mainFrame().waitForNavigation(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}waitForRequest(e,t={}){return(n=>{const r=function*(){const{timeout:n=this._timeoutSettings.timeout()}=t;return y.waitForEvent(this._networkManager,s.NetworkManager.Request,t=>y.isString(e)?e===t.url():"function"==typeof e&&!!e(t),n)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}waitForResponse(e,t={}){return(n=>{const r=function*(){const{timeout:n=this._timeoutSettings.timeout()}=t;return y.waitForEvent(this._networkManager,s.NetworkManager.Response,t=>y.isString(e)?e===t.url():"function"==typeof e&&!!e(t),n)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}goBack(e){return(t=>{const n=function*(){return this._go(-1,e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}goForward(e){return(t=>{const n=function*(){return this._go(1,e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_go(e,t){return(n=>{const r=function*(){const n=yield this._client.send("Page.getNavigationHistory"),r=n.entries[n.currentIndex+e];if(!r)return null;const[i]=yield Promise.all([this.waitForNavigation(t),this._client.send("Page.navigateToHistoryEntry",{entryId:r.id})]);return i}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}bringToFront(){return(e=>{const t=function*(){yield this._client.send("Page.bringToFront")}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}emulate(e){return(t=>{const n=function*(){yield Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setJavaScriptEnabled(e){return(t=>{const n=function*(){if(this._javascriptEnabled===e)return;this._javascriptEnabled=e,yield this._client.send("Emulation.setScriptExecutionDisabled",{value:!e})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setBypassCSP(e){return(t=>{const n=function*(){yield this._client.send("Page.setBypassCSP",{enabled:e})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}emulateMedia(e){return(t=>{const n=function*(){_("screen"===e||"print"===e||null===e,"Unsupported media type: "+e),yield this._client.send("Emulation.setEmulatedMedia",{media:e||""})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setViewport(e){return(t=>{const n=function*(){const t=yield this._emulationManager.emulateViewport(e);this._viewport=e,t&&(yield this.reload())}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}viewport(){return this._viewport}evaluate(e,...t){return(n=>{const r=function*(){return this._frameManager.mainFrame().evaluate(e,...t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}evaluateOnNewDocument(e,...t){return(n=>{const r=function*(){const n=y.evaluationString(e,...t);yield this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:n})}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}setCacheEnabled(e=!0){return(t=>{const n=function*(){yield this._client.send("Network.setCacheDisabled",{cacheDisabled:!e})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}screenshot(e={}){return(t=>{const n=function*(){let t=null;if(e.type)_("png"===e.type||"jpeg"===e.type,"Unknown options.type value: "+e.type),t=e.type;else if(e.path){const n=o.getType(e.path);"image/png"===n?t="png":"image/jpeg"===n&&(t="jpeg"),_(t,"Unsupported screenshot mime type: "+n)}t||(t="png");e.quality&&(_("jpeg"===t,"options.quality is unsupported for the "+t+" screenshots"),_("number"==typeof e.quality,"Expected options.quality to be a number but found "+typeof e.quality),_(Number.isInteger(e.quality),"Expected options.quality to be an integer"),_(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality));_(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(_("number"==typeof e.clip.x,"Expected options.clip.x to be a number but found "+typeof e.clip.x),_("number"==typeof e.clip.y,"Expected options.clip.y to be a number but found "+typeof e.clip.y),_("number"==typeof e.clip.width,"Expected options.clip.width to be a number but found "+typeof e.clip.width),_("number"==typeof e.clip.height,"Expected options.clip.height to be a number but found "+typeof e.clip.height),_(0!==e.clip.width,"Expected options.clip.width not to be 0."),_(0!==e.clip.height,"Expected options.clip.width not to be 0."));return this._screenshotTaskQueue.postTask(this._screenshotTask.bind(this,t,e))}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_screenshotTask(e,t){return(n=>{const r=function*(){yield this._client.send("Target.activateTarget",{targetId:this._target._targetId});let n=t.clip?function(e){const t=Math.round(e.x),n=Math.round(e.y),r=Math.round(e.width+e.x-t),i=Math.round(e.height+e.y-n);return{x:t,y:n,width:r,height:i,scale:1}}(t.clip):void 0;if(t.fullPage){const e=yield this._client.send("Page.getLayoutMetrics"),t=Math.ceil(e.contentSize.width),r=Math.ceil(e.contentSize.height);n={x:0,y:0,width:t,height:r,scale:1};const{isMobile:i=!1,deviceScaleFactor:o=1,isLandscape:s=!1}=this._viewport||{},a=s?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};yield this._client.send("Emulation.setDeviceMetricsOverride",{mobile:i,width:t,height:r,deviceScaleFactor:o,screenOrientation:a})}const r=t.omitBackground&&"png"===e;r&&(yield this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}}));const i=yield this._client.send("Page.captureScreenshot",{format:e,quality:t.quality,clip:n});r&&(yield this._client.send("Emulation.setDefaultBackgroundColorOverride"));t.fullPage&&this._viewport&&(yield this.setViewport(this._viewport));const o="base64"===t.encoding?i.data:Buffer.from(i.data,"base64");t.path&&(yield C(t.path,o));return o}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}pdf(e={}){return(t=>{const n=function*(){const{scale:t=1,displayHeaderFooter:n=!1,headerTemplate:r="",footerTemplate:i="",printBackground:o=!1,landscape:s=!1,pageRanges:a="",preferCSSPageSize:c=!1,margin:l={},path:u=null}=e;let d=8.5,h=11;if(e.format){const t=E.PaperFormats[e.format.toLowerCase()];_(t,"Unknown paper format: "+e.format),d=t.width,h=t.height}else d=T(e.width)||d,h=T(e.height)||h;const f=T(l.top)||0,p=T(l.left)||0,m=T(l.bottom)||0,y=T(l.right)||0,g=yield this._client.send("Page.printToPDF",{landscape:s,displayHeaderFooter:n,headerTemplate:r,footerTemplate:i,printBackground:o,scale:t,paperWidth:d,paperHeight:h,marginTop:f,marginBottom:m,marginLeft:p,marginRight:y,pageRanges:a,preferCSSPageSize:c}),w=Buffer.from(g.data,"base64");null!==u&&(yield C(u,w));return w}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}title(){return(e=>{const t=function*(){return this.mainFrame().title()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}close(e={runBeforeUnload:void 0}){return(t=>{const n=function*(){_(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed."),e.runBeforeUnload?yield this._client.send("Page.close"):(yield this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),yield this._target._isClosedPromise)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,t={}){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,n){return this.mainFrame().type(e,t,n)}waitFor(e,t={},...n){return this.mainFrame().waitFor(e,t,...n)}waitForSelector(e,t={}){return this.mainFrame().waitForSelector(e,t)}waitForXPath(e,t={}){return this.mainFrame().waitForXPath(e,t)}waitForFunction(e,t={},...n){return this.mainFrame().waitForFunction(e,t,...n)}}const P=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]);E.PaperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.5,height:23.4},a3:{width:11.7,height:16.5},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const S={px:1,in:96,cm:37.8,mm:3.78};function T(e){if(void 0===e)return;let t;if(y.isNumber(e))t=e;else{if(!y.isString(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const n=e;let r=n.substring(n.length-2).toLowerCase(),i="";S.hasOwnProperty(r)?i=n.substring(0,n.length-2):(r="px",i=n);const o=Number(i);_(!isNaN(o),"Failed to parse parameter value: "+n),t=o*S[r]}}return t/96}class F{constructor(e,t,n,r={}){this._type=e,this._text=t,this._args=n,this._location=r}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._location}}e.exports={Page:E,ConsoleMessage:F}},function(e,t,n){const r=n(1),{helper:i,assert:o,debugError:s}=n(4),{Events:a}=n(11),c=n(146);class l{constructor(e,t,n,r,i,o){this._client=e,this._requestId=i.requestId,this._isNavigationRequest=i.requestId===i.loaderId&&"Document"===i.type,this._interceptionId=n,this._allowInterception=r,this._interceptionHandled=!1,this._response=null,this._failureText=null,this._url=i.request.url,this._resourceType=i.type.toLowerCase(),this._method=i.request.method,this._postData=i.request.postData,this._headers={},this._frame=t,this._redirectChain=o;for(const e of Object.keys(i.request.headers))this._headers[e.toLowerCase()]=i.request.headers[e];this._fromMemoryCache=!1}url(){return this._url}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}continue(e={}){return(t=>{const n=function*(){if(this._url.startsWith("data:"))return;o(this._allowInterception,"Request Interception is not enabled!"),o(!this._interceptionHandled,"Request is already handled!");const{url:t,method:n,postData:r,headers:i}=e;this._interceptionHandled=!0,yield this._client.send("Network.continueInterceptedRequest",{interceptionId:this._interceptionId,url:t,method:n,postData:r,headers:i}).catch(e=>{s(e)})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}respond(e){return(t=>{const n=function*(){if(this._url.startsWith("data:"))return;o(this._allowInterception,"Request Interception is not enabled!"),o(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0;const t=e.body&&i.isString(e.body)?Buffer.from(e.body):e.body||null,n={};if(e.headers)for(const t of Object.keys(e.headers))n[t.toLowerCase()]=e.headers[t];e.contentType&&(n["content-type"]=e.contentType);!t||"content-length"in n||(n["content-length"]=Buffer.byteLength(t));const r=e.status||200,a=m[r]||"";let c=`HTTP/1.1 ${r} ${a}`+"\r\n";for(const e of Object.keys(n))c+=e+": "+n[e]+"\r\n";c+="\r\n";let l=Buffer.from(c,"utf8");t&&(l=Buffer.concat([l,t]));yield this._client.send("Network.continueInterceptedRequest",{interceptionId:this._interceptionId,rawResponse:l.toString("base64")}).catch(e=>{s(e)})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}abort(e="failed"){return(t=>{const n=function*(){if(this._url.startsWith("data:"))return;const t=u[e];o(t,"Unknown error code: "+e),o(this._allowInterception,"Request Interception is not enabled!"),o(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0,yield this._client.send("Network.continueInterceptedRequest",{interceptionId:this._interceptionId,errorReason:t}).catch(e=>{s(e)})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}}const u={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};class d{constructor(e,t,n){this._client=e,this._request=t,this._contentPromise=null,this._bodyLoadedPromise=new Promise(e=>{this._bodyLoadedPromiseFulfill=e}),this._remoteAddress={ip:n.remoteIPAddress,port:n.remotePort},this._status=n.status,this._statusText=n.statusText,this._url=t.url(),this._fromDiskCache=!!n.fromDiskCache,this._fromServiceWorker=!!n.fromServiceWorker,this._headers={};for(const e of Object.keys(n.headers))this._headers[e.toLowerCase()]=n.headers[e];this._securityDetails=n.securityDetails?new p(n.securityDetails):null}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return 0===this._status||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(e=>(t=>{const n=function*(){if(e)throw e;const t=yield this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(t.body,t.base64Encoded?"base64":"utf8")}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})())),this._contentPromise}text(){return(e=>{const t=function*(){return(yield this.buffer()).toString("utf8")}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}json(){return(e=>{const t=function*(){const e=yield this.text();return JSON.parse(e)}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}const h=new Set(["accept","referer","x-devtools-emulate-network-conditions-client-id","cookie","origin","content-type","intervention"]);function f(e){let t=e.url;try{t=decodeURI(e.url)}catch(e){}const n={url:t,method:e.method,postData:e.postData,headers:{}};if(!t.startsWith("data:")){const t=Object.keys(e.headers);t.sort();for(let r of t){const t=e.headers[r];r=r.toLowerCase(),h.has(r)||(n.headers[r]=t)}}return JSON.stringify(n)}class p{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol}subjectName(){return this._subjectName}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}}const m={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",209:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};e.exports={Request:l,Response:d,NetworkManager:class extends r{constructor(e){super(),this._client=e,this._frameManager=null,this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._extraHTTPHeaders={},this._offline=!1,this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._requestHashToRequestIds=new c,this._requestHashToInterceptionIds=new c,this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestIntercepted",this._onRequestIntercepted.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}setFrameManager(e){this._frameManager=e}authenticate(e){return(t=>{const n=function*(){this._credentials=e,yield this._updateProtocolRequestInterception()}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}setExtraHTTPHeaders(e){return(t=>{const n=function*(){this._extraHTTPHeaders={};for(const t of Object.keys(e)){const n=e[t];o(i.isString(n),`Expected value of header "${t}" to be String, but "${typeof n}" is found.`),this._extraHTTPHeaders[t.toLowerCase()]=n}yield this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}setOfflineMode(e){return(t=>{const n=function*(){this._offline!==e&&(this._offline=e,yield this._client.send("Network.emulateNetworkConditions",{offline:this._offline,latency:0,downloadThroughput:-1,uploadThroughput:-1}))}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}setUserAgent(e){return(t=>{const n=function*(){yield this._client.send("Network.setUserAgentOverride",{userAgent:e})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}setRequestInterception(e){return(t=>{const n=function*(){this._userRequestInterceptionEnabled=e,yield this._updateProtocolRequestInterception()}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_updateProtocolRequestInterception(){return(e=>{const t=function*(){const e=this._userRequestInterceptionEnabled||!!this._credentials;if(e===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=e;const t=e?[{urlPattern:"*"}]:[];yield Promise.all([this._client.send("Network.setCacheDisabled",{cacheDisabled:e}),this._client.send("Network.setRequestInterception",{patterns:t})])}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_onRequestWillBeSent(e){if(!this._protocolRequestInterceptionEnabled||e.request.url.startsWith("data:"))this._onRequest(e,null);else{const t=f(e.request),n=this._requestHashToInterceptionIds.firstValue(t);n?(this._onRequest(e,n),this._requestHashToInterceptionIds.delete(t,n)):(this._requestHashToRequestIds.set(t,e.requestId),this._requestIdToRequestWillBeSentEvent.set(e.requestId,e))}}_onRequestIntercepted(e){if(e.authChallenge){let t="Default";this._attemptedAuthentications.has(e.interceptionId)?t="CancelAuth":this._credentials&&(t="ProvideCredentials",this._attemptedAuthentications.add(e.interceptionId));const{username:n,password:r}=this._credentials||{username:void 0,password:void 0};return void this._client.send("Network.continueInterceptedRequest",{interceptionId:e.interceptionId,authChallengeResponse:{response:t,username:n,password:r}}).catch(s)}!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Network.continueInterceptedRequest",{interceptionId:e.interceptionId}).catch(s);const t=f(e.request),n=this._requestHashToRequestIds.firstValue(t);if(n){const r=this._requestIdToRequestWillBeSentEvent.get(n);this._onRequest(r,e.interceptionId),this._requestHashToRequestIds.delete(t,n),this._requestIdToRequestWillBeSentEvent.delete(n)}else this._requestHashToInterceptionIds.set(t,e.interceptionId)}_onRequest(e,t){let n=[];if(e.redirectResponse){const t=this._requestIdToRequest.get(e.requestId);t&&(this._handleRequestRedirect(t,e.redirectResponse),n=t._redirectChain)}const r=e.frameId&&this._frameManager?this._frameManager.frame(e.frameId):null,i=new l(this._client,r,t,this._userRequestInterceptionEnabled,e,n);this._requestIdToRequest.set(e.requestId,i),this.emit(a.NetworkManager.Request,i)}_onRequestServedFromCache(e){const t=this._requestIdToRequest.get(e.requestId);t&&(t._fromMemoryCache=!0)}_handleRequestRedirect(e,t){const n=new d(this._client,e,t);e._response=n,e._redirectChain.push(e),n._bodyLoadedPromiseFulfill.call(null,new Error("Response body is unavailable for redirect responses")),this._requestIdToRequest.delete(e._requestId),this._attemptedAuthentications.delete(e._interceptionId),this.emit(a.NetworkManager.Response,n),this.emit(a.NetworkManager.RequestFinished,e)}_onResponseReceived(e){const t=this._requestIdToRequest.get(e.requestId);if(!t)return;const n=new d(this._client,t,e.response);t._response=n,this.emit(a.NetworkManager.Response,n)}_onLoadingFinished(e){const t=this._requestIdToRequest.get(e.requestId);t&&(t.response()&&t.response()._bodyLoadedPromiseFulfill.call(null),this._requestIdToRequest.delete(t._requestId),this._attemptedAuthentications.delete(t._interceptionId),this.emit(a.NetworkManager.RequestFinished,t))}_onLoadingFailed(e){const t=this._requestIdToRequest.get(e.requestId);if(!t)return;t._failureText=e.errorText;const n=t.response();n&&n._bodyLoadedPromiseFulfill.call(null),this._requestIdToRequest.delete(t._requestId),this._attemptedAuthentications.delete(t._interceptionId),this.emit(a.NetworkManager.RequestFailed,t)}},SecurityDetails:p}},function(e,t){e.exports=class{constructor(){this._map=new Map}set(e,t){let n=this._map.get(e);n||(n=new Set,this._map.set(e,n)),n.add(t)}get(e){let t=this._map.get(e);return t||(t=new Set),t}has(e){return this._map.has(e)}hasValue(e,t){const n=this._map.get(e);return!!n&&n.has(t)}get size(){return this._map.size}delete(e,t){const n=this.get(e),r=n.delete(t);return n.size||this._map.delete(e),r}deleteAll(e){this._map.delete(e)}firstValue(e){const t=this._map.get(e);return t?t.values().next().value:null}firstKey(){return this._map.keys().next().value}valuesArray(){const e=[];for(const t of this._map.keys())e.push(...Array.from(this._map.get(t).values()));return e}keysArray(){return Array.from(this._map.keys())}clear(){this._map.clear()}}},function(e,t,n){const{assert:r}=n(4);class i{constructor(e,t,n,r=""){this._client=e,this._type=t,this._message=n,this._handled=!1,this._defaultValue=r}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}accept(e){return(t=>{const n=function*(){r(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,yield this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}dismiss(){return(e=>{const t=function*(){r(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,yield this._client.send("Page.handleJavaScriptDialog",{accept:!1})}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}}i.Type={Alert:"alert",BeforeUnload:"beforeunload",Confirm:"confirm",Prompt:"prompt"},e.exports={Dialog:i}},function(e,t){e.exports={EmulationManager:class{constructor(e){this._client=e,this._emulatingMobile=!1,this._hasTouch=!1}emulateViewport(e){return(t=>{const n=function*(){const t=e.isMobile||!1,n=e.width,r=e.height,i=e.deviceScaleFactor||1,o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},s=e.hasTouch||!1;yield Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:t,width:n,height:r,deviceScaleFactor:i,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:s})]);const a=this._emulatingMobile!==t||this._hasTouch!==s;return this._emulatingMobile=t,this._hasTouch=s,a}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}}}},function(e,t,n){const r=n(1),{helper:i,assert:o}=n(4),{Events:s}=n(11),{ExecutionContext:a,EVALUATION_SCRIPT_URL:c}=n(39),{LifecycleWatcher:l}=n(84),{DOMWorld:u}=n(150),d="__puppeteer_utility_world__";class h{constructor(e,t,n,r){this._frameManager=e,this._client=t,this._parentFrame=n,this._url="",this._id=r,this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._mainWorld=new u(e,this,e._timeoutSettings),this._secondaryWorld=new u(e,this,e._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}goto(e,t){return(n=>{const r=function*(){return yield this._frameManager.navigateFrame(this,e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}waitForNavigation(e){return(t=>{const n=function*(){return yield this._frameManager.waitForFrameNavigation(this,e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}executionContext(){return this._mainWorld.executionContext()}evaluateHandle(e,...t){return(n=>{const r=function*(){return this._mainWorld.evaluateHandle(e,...t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}evaluate(e,...t){return(n=>{const r=function*(){return this._mainWorld.evaluate(e,...t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$(e){return(t=>{const n=function*(){return this._mainWorld.$(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$x(e){return(t=>{const n=function*(){return this._mainWorld.$x(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}$eval(e,t,...n){return(r=>{const i=function*(){return this._mainWorld.$eval(e,t,...n)}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$$eval(e,t,...n){return(r=>{const i=function*(){return this._mainWorld.$$eval(e,t,...n)}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}$$(e){return(t=>{const n=function*(){return this._mainWorld.$$(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}content(){return(e=>{const t=function*(){return this._secondaryWorld.content()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}setContent(e,t={}){return(n=>{const r=function*(){return this._secondaryWorld.setContent(e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}addScriptTag(e){return(t=>{const n=function*(){return this._mainWorld.addScriptTag(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}addStyleTag(e){return(t=>{const n=function*(){return this._mainWorld.addStyleTag(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}click(e,t){return(n=>{const r=function*(){return this._secondaryWorld.click(e,t)}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}focus(e){return(t=>{const n=function*(){return this._secondaryWorld.focus(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}hover(e){return(t=>{const n=function*(){return this._secondaryWorld.hover(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}select(e,...t){return this._secondaryWorld.select(e,...t)}tap(e){return(t=>{const n=function*(){return this._secondaryWorld.tap(e)}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}type(e,t,n){return(r=>{const i=function*(){return this._mainWorld.type(e,t,n)}.call(this);return new Promise((e,t)=>{return function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}waitFor(e,t={},...n){if(i.isString(e)){const n=e;return n.startsWith("//")?this.waitForXPath(n,t):this.waitForSelector(n,t)}return i.isNumber(e)?new Promise(t=>setTimeout(t,e)):"function"==typeof e?this.waitForFunction(e,t,...n):Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForSelector(e,t){return(n=>{const r=function*(){const n=yield this._secondaryWorld.waitForSelector(e,t);if(!n)return null;const r=yield this._mainWorld.executionContext(),i=yield r._adoptElementHandle(n);return yield n.dispose(),i}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}waitForXPath(e,t){return(n=>{const r=function*(){const n=yield this._secondaryWorld.waitForXPath(e,t);if(!n)return null;const r=yield this._mainWorld.executionContext(),i=yield r._adoptElementHandle(n);return yield n.dispose(),i}.call(this);return new Promise((e,t)=>{return function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}waitForFunction(e,t={},...n){return this._mainWorld.waitForFunction(e,t,...n)}title(){return(e=>{const t=function*(){return this._secondaryWorld.title()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_navigated(e){this._name=e.name,this._navigationURL=e.url,this._url=e.url}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}}function f(e){o(void 0===e.networkIdleTimeout,"ERROR: networkIdleTimeout option is no longer supported."),o(void 0===e.networkIdleInflight,"ERROR: networkIdleInflight option is no longer supported."),o("networkidle"!==e.waitUntil,'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}e.exports={FrameManager:class extends r{constructor(e,t,n,r,i){super(),this._client=e,this._page=n,this._networkManager=r,this._timeoutSettings=i,this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client.on("Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId)),this._client.on("Page.frameNavigated",e=>this._onFrameNavigated(e.frame)),this._client.on("Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url)),this._client.on("Page.frameDetached",e=>this._onFrameDetached(e.frameId)),this._client.on("Page.frameStoppedLoading",e=>this._onFrameStoppedLoading(e.frameId)),this._client.on("Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context)),this._client.on("Runtime.executionContextDestroyed",e=>this._onExecutionContextDestroyed(e.executionContextId)),this._client.on("Runtime.executionContextsCleared",e=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",e=>this._onLifecycleEvent(e)),this._handleFrameTree(t)}navigateFrame(e,t,n={}){return(r=>{const i=function*(){f(n);const{referer:r=this._networkManager.extraHTTPHeaders().referer,waitUntil:i=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=n,s=new l(this,e,i,o);let a=!1,c=yield Promise.race([function(e,t,n,r){return(i=>{const o=function*(){try{const i=yield e.send("Page.navigate",{url:t,referrer:n,frameId:r});return a=!!i.loaderId,i.errorText?new Error(`${i.errorText} at ${t}`):null}catch(e){return e}}.call(this);return new Promise((e,t)=>(function n(r,i){let s,a;try{s=o[r](i),a=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}(this._client,t,r,e._id),s.timeoutOrTerminationPromise()]);if(c||(c=yield Promise.race([s.timeoutOrTerminationPromise(),a?s.newDocumentNavigationPromise():s.sameDocumentNavigationPromise()])),s.dispose(),c)throw c;return s.navigationResponse()}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}waitForFrameNavigation(e,t={}){return(n=>{const r=function*(){f(t);const{waitUntil:n=["load"],timeout:r=this._timeoutSettings.navigationTimeout()}=t,i=new l(this,e,n,r),o=yield Promise.race([i.timeoutOrTerminationPromise(),i.sameDocumentNavigationPromise(),i.newDocumentNavigationPromise()]);if(i.dispose(),o)throw o;return i.navigationResponse()}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}_onLifecycleEvent(e){const t=this._frames.get(e.frameId);t&&(t._onLifecycleEvent(e.loaderId,e.name),this.emit(s.FrameManager.LifecycleEvent,t))}_onFrameStoppedLoading(e){const t=this._frames.get(e);t&&(t._onLoadingStopped(),this.emit(s.FrameManager.LifecycleEvent,t))}_handleFrameTree(e){if(e.frame.parentId&&this._onFrameAttached(e.frame.id,e.frame.parentId),this._onFrameNavigated(e.frame),e.childFrames)for(const t of e.childFrames)this._handleFrameTree(t)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,t){if(this._frames.has(e))return;o(t);const n=this._frames.get(t),r=new h(this,this._client,n,e);this._frames.set(r._id,r),this.emit(s.FrameManager.FrameAttached,r)}_onFrameNavigated(e){const t=!e.parentId;let n=t?this._mainFrame:this._frames.get(e.id);if(o(t||n,"We either navigate top level or have old version of the navigated frame"),n)for(const e of n.childFrames())this._removeFramesRecursively(e);t&&(n?(this._frames.delete(n._id),n._id=e.id):n=new h(this,this._client,null,e.id),this._frames.set(e.id,n),this._mainFrame=n),n._navigated(e),this.emit(s.FrameManager.FrameNavigated,n)}ensureSecondaryDOMWorld(){return(e=>{const t=function*(){yield this._ensureIsolatedWorld(d)}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_ensureIsolatedWorld(e){return(t=>{const n=function*(){this._isolatedWorlds.has(e)||(this._isolatedWorlds.add(e),yield this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${c}`,worldName:e}),yield Promise.all(this.frames().map(t=>this._client.send("Page.createIsolatedWorld",{frameId:t._id,grantUniveralAccess:!0,worldName:e}))))}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_onFrameNavigatedWithinDocument(e,t){const n=this._frames.get(e);n&&(n._navigatedWithinDocument(t),this.emit(s.FrameManager.FrameNavigatedWithinDocument,n),this.emit(s.FrameManager.FrameNavigated,n))}_onFrameDetached(e){const t=this._frames.get(e);t&&this._removeFramesRecursively(t)}_onExecutionContextCreated(e){const t=e.auxData?e.auxData.frameId:null,n=this._frames.get(t)||null;let r=null;n&&(e.auxData&&e.auxData.isDefault?r=n._mainWorld:e.name===d&&(r=n._secondaryWorld)),e.auxData&&"isolated"===e.auxData.type&&this._isolatedWorlds.add(e.name);const i=new a(this._client,e,r);r&&r._setContext(i),this._contextIdToContext.set(e.id,i)}_onExecutionContextDestroyed(e){const t=this._contextIdToContext.get(e);t&&(this._contextIdToContext.delete(e),t._world&&t._world._setContext(null))}_onExecutionContextsCleared(){for(const e of this._contextIdToContext.values())e._world&&e._world._setContext(null);this._contextIdToContext.clear()}executionContextById(e){const t=this._contextIdToContext.get(e);return o(t,"INTERNAL ERROR: missing context with id = "+e),t}_removeFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t);e._detach(),this._frames.delete(e._id),this.emit(s.FrameManager.FrameDetached,e)}},Frame:h}},function(e,t,n){const r=n(0),{helper:i,assert:o}=n(4),{LifecycleWatcher:s}=n(84),{TimeoutError:a}=n(28),c=i.promisify(r.readFile);class l{constructor(e,t,n,r,s,...c){if(i.isString(r))o("raf"===r||"mutation"===r,"Unknown polling option: "+r);else{if(!i.isNumber(r))throw new Error("Unknown polling options: "+r);o(r>0,"Cannot poll with non-positive interval: "+r)}if(this._domWorld=e,this._polling=r,this._timeout=s,this._predicateBody=i.isString(t)?"return ("+t+")":"return ("+t+")(...args)",this._args=c,this._runCount=0,e._waitTasks.add(this),this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),s){const e=new a(`waiting for ${n} failed: timeout ${s}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(e),s)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}rerun(){return(e=>{const t=function*(){const e=++this._runCount;let t=null,n=null;try{t=yield(yield this._domWorld.executionContext()).evaluateHandle(u,this._predicateBody,this._polling,this._timeout,...this._args)}catch(e){n=e}if(this._terminated||e!==this._runCount)return void(t&&(yield t.dispose()));if(!n&&(yield this._domWorld.evaluate(e=>!e,t).catch(e=>!0)))return void(yield t.dispose());if(n&&n.message.includes("Execution context was destroyed"))return;if(n&&n.message.includes("Cannot find context with specified id"))return;n?this._reject(n):this._resolve(t);this._cleanup()}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this),this._runningTask=null}}function u(e,t,n,...r){return(i=>{const o=function*(){const i=new Function("...args",e);let o=!1;n&&setTimeout(()=>o=!0,n);if("raf"===t)return yield function(){let e;const t=new Promise(t=>e=t);return function t(){if(o)return void e();const n=i.apply(null,r);n?e(n):requestAnimationFrame(t)}(),t}();if("mutation"===t)return yield function(){const e=i.apply(null,r);if(e)return Promise.resolve(e);let t;const n=new Promise(e=>t=e),s=new MutationObserver(e=>{o&&(s.disconnect(),t());const n=i.apply(null,r);n&&(s.disconnect(),t(n))});return s.observe(document,{childList:!0,subtree:!0,attributes:!0}),n}();if("number"==typeof t)return yield function(e){let t;const n=new Promise(e=>t=e);return function n(){if(o)return void t();const s=i.apply(null,r);s?t(s):setTimeout(n,e)}(),n}(t)}.call(this);return new Promise((e,t)=>{return function n(r,i){let s,a;try{a=(s=o[r](i)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)}("next")})})()}e.exports={DOMWorld:class{constructor(e,t,n){this._frameManager=e,this._frame=t,this._timeoutSettings=n,this._documentPromise=null,this._contextPromise,this._contextResolveCallback=null,this._setContext(null),this._waitTasks=new Set,this._detached=!1}frame(){return this._frame}_setContext(e){if(e){this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(const e of this._waitTasks)e.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(e=>{this._contextResolveCallback=e})}_detach(){this._detached=!0;for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution Context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}evaluateHandle(e,...t){return(n=>{const r=function*(){return(yield this.executionContext()).evaluateHandle(e,...t)}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}evaluate(e,...t){return(n=>{const r=function*(){return(yield this.executionContext()).evaluate(e,...t)}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}$(e){return(t=>{const n=function*(){const t=yield this._document();return yield t.$(e)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_document(){return(e=>{const t=function*(){return this._documentPromise?this._documentPromise:(this._documentPromise=this.executionContext().then(e=>(t=>{const n=function*(){return(yield e.evaluateHandle("document")).asElement()}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()),this._documentPromise)}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}$x(e){return(t=>{const n=function*(){const t=yield this._document();return yield t.$x(e)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}$eval(e,t,...n){return(r=>{const i=function*(){return(yield this._document()).$eval(e,t,...n)}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}$$eval(e,t,...n){return(r=>{const i=function*(){const r=yield this._document();return yield r.$$eval(e,t,...n)}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}$$(e){return(t=>{const n=function*(){const t=yield this._document();return yield t.$$(e)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}content(){return(e=>{const t=function*(){return yield this.evaluate(()=>{let e="";return document.doctype&&(e=(new XMLSerializer).serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}setContent(e,t={}){return(n=>{const r=function*(){const{waitUntil:n=["load"],timeout:r=this._timeoutSettings.navigationTimeout()}=t;yield this.evaluate(e=>{document.open(),document.write(e),document.close()},e);const i=new s(this._frameManager,this._frame,n,r),o=yield Promise.race([i.timeoutOrTerminationPromise(),i.lifecyclePromise()]);if(i.dispose(),o)throw o}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}addScriptTag(e){return(t=>{const n=function*(){const{url:t=null,path:n=null,content:r=null,type:i=""}=e;if(null!==t)try{const e=yield this.executionContext();return(yield e.evaluateHandle(function(e,t){return(n=>{const r=function*(){const n=document.createElement("script");n.src=e,t&&(n.type=t);const r=new Promise((e,t)=>{n.onload=e,n.onerror=t});return document.head.appendChild(n),yield r,n}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{s=r[i](o),a=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()},t,i)).asElement()}catch(e){throw new Error(`Loading script from ${t} failed`)}if(null!==n){let e=yield c(n,"utf8");e+="//# sourceURL="+n.replace(/\n/g,"");const t=yield this.executionContext();return(yield t.evaluateHandle(o,e,i)).asElement()}if(null!==r){const e=yield this.executionContext();return(yield e.evaluateHandle(o,r,i)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");function o(e,t="text/javascript"){const n=document.createElement("script");n.type=t,n.text=e;let r=null;if(n.onerror=(e=>r=e),document.head.appendChild(n),r)throw r;return n}}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}addStyleTag(e){return(t=>{const n=function*(){const{url:t=null,path:n=null,content:r=null}=e;if(null!==t)try{const e=yield this.executionContext();return(yield e.evaluateHandle(function(e){return(t=>{const n=function*(){const t=document.createElement("link");t.rel="stylesheet",t.href=e;const n=new Promise((e,n)=>{t.onload=e,t.onerror=n});return document.head.appendChild(t),yield n,t}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{s=n[i](o),a=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()},t)).asElement()}catch(e){throw new Error(`Loading style from ${t} failed`)}if(null!==n){let e=yield c(n,"utf8");e+="/*# sourceURL="+n.replace(/\n/g,"")+"*/";const t=yield this.executionContext();return(yield t.evaluateHandle(i,e)).asElement()}if(null!==r){const e=yield this.executionContext();return(yield e.evaluateHandle(i,r)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");function i(e){return(t=>{const n=function*(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e));const n=new Promise((e,n)=>{t.onload=e,t.onerror=n});return document.head.appendChild(t),yield n,t}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{s=n[i](o),a=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}click(e,t){return(n=>{const r=function*(){const n=yield this.$(e);o(n,"No node found for selector: "+e),yield n.click(t),yield n.dispose()}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}focus(e){return(t=>{const n=function*(){const t=yield this.$(e);o(t,"No node found for selector: "+e),yield t.focus(),yield t.dispose()}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}hover(e){return(t=>{const n=function*(){const t=yield this.$(e);o(t,"No node found for selector: "+e),yield t.hover(),yield t.dispose()}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}select(e,...t){for(const e of t)o(i.isString(e),'Values must be strings. Found value "'+e+'" of type "'+typeof e+'"');return this.$eval(e,(e,t)=>{if("select"!==e.nodeName.toLowerCase())throw new Error("Element is not a <select> element.");const n=Array.from(e.options);e.value=void 0;for(const r of n)if(r.selected=t.includes(r.value),r.selected&&!e.multiple)break;return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),n.filter(e=>e.selected).map(e=>e.value)},t)}tap(e){return(t=>{const n=function*(){const t=yield this.$(e);o(t,"No node found for selector: "+e),yield t.tap(),yield t.dispose()}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}type(e,t,n){return(r=>{const i=function*(){const r=yield this.$(e);o(r,"No node found for selector: "+e),yield r.type(t,n),yield r.dispose()}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}waitForSelector(e,t){return this._waitForSelectorOrXPath(e,!1,t)}waitForXPath(e,t){return this._waitForSelectorOrXPath(e,!0,t)}waitForFunction(e,t={},...n){const{polling:r="raf",timeout:i=this._timeoutSettings.timeout()}=t;return new l(this,e,"function",r,i,...n).promise}title(){return(e=>{const t=function*(){return this.evaluate(()=>document.title)}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_waitForSelectorOrXPath(e,t,n={}){return(r=>{const i=function*(){const{visible:r=!1,hidden:i=!1,timeout:o=this._timeoutSettings.timeout()}=n,s=new l(this,function(e,t,n,r){const i=t?document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:document.querySelector(e);if(!i)return r;if(!n&&!r)return i;const o=i.nodeType===Node.TEXT_NODE?i.parentElement:i,s=window.getComputedStyle(o),a=s&&"hidden"!==s.visibility&&function(){const e=o.getBoundingClientRect();return!!(e.top||e.bottom||e.width||e.height)}();return n===a||r===!a?i:null},`${t?"XPath":"selector"} "${e}"${i?" to be hidden":""}`,r||i?"raf":"mutation",o,e,t,r,i),a=yield s.promise;return a.asElement()?a.asElement():(yield a.dispose(),null)}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}}}},function(e,t,n){const{assert:r}=n(4),i=n(152);e.exports={Keyboard:class{constructor(e){this._client=e,this._modifiers=0,this._pressedKeys=new Set}down(e,t={text:void 0}){return(n=>{const r=function*(){const n=this._keyDescriptionForString(e),r=this._pressedKeys.has(n.code);this._pressedKeys.add(n.code),this._modifiers|=this._modifierBit(n.key);const i=void 0===t.text?n.text:t.text;yield this._client.send("Input.dispatchKeyEvent",{type:i?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:n.keyCode,code:n.code,key:n.key,text:i,unmodifiedText:i,autoRepeat:r,location:n.location,isKeypad:3===n.location})}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}_modifierBit(e){return"Alt"===e?1:"Control"===e?2:"Meta"===e?4:"Shift"===e?8:0}_keyDescriptionForString(e){const t=8&this._modifiers,n={key:"",keyCode:0,code:"",text:"",location:0},o=i[e];return r(o,`Unknown key: "${e}"`),o.key&&(n.key=o.key),t&&o.shiftKey&&(n.key=o.shiftKey),o.keyCode&&(n.keyCode=o.keyCode),t&&o.shiftKeyCode&&(n.keyCode=o.shiftKeyCode),o.code&&(n.code=o.code),o.location&&(n.location=o.location),1===n.key.length&&(n.text=n.key),o.text&&(n.text=o.text),t&&o.shiftText&&(n.text=o.shiftText),-9&this._modifiers&&(n.text=""),n}up(e){return(t=>{const n=function*(){const t=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(t.key),this._pressedKeys.delete(t.code),yield this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}sendCharacter(e){return(t=>{const n=function*(){yield this._client.send("Input.insertText",{text:e})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}type(e,t){return(n=>{const r=function*(){let n=0;t&&t.delay&&(n=t.delay);for(const t of e)i[t]?yield this.press(t,{delay:n}):yield this.sendCharacter(t),n&&(yield new Promise(e=>setTimeout(e,n)))}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}press(e,t={}){return(n=>{const r=function*(){const{delay:n=null}=t;yield this.down(e,t),null!==n&&(yield new Promise(e=>setTimeout(e,t.delay))),yield this.up(e)}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}},Mouse:class{constructor(e,t){this._client=e,this._keyboard=t,this._x=0,this._y=0,this._button="none"}move(e,t,n={}){return(r=>{const i=function*(){const{steps:r=1}=n,i=this._x,o=this._y;this._x=e,this._y=t;for(let e=1;e<=r;e++)yield this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:i+(this._x-i)*(e/r),y:o+(this._y-o)*(e/r),modifiers:this._keyboard._modifiers})}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}click(e,t,n={}){return(r=>{const i=function*(){const{delay:r=null}=n;this.move(e,t),this.down(n),null!==r&&(yield new Promise(e=>setTimeout(e,r))),yield this.up(n)}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}down(e={}){return(t=>{const n=function*(){const{button:t="left",clickCount:n=1}=e;this._button=t,yield this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:n})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}up(e={}){return(t=>{const n=function*(){const{button:t="left",clickCount:n=1}=e;this._button="none",yield this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:n})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}},Touchscreen:class{constructor(e,t){this._client=e,this._keyboard=t}tap(e,t){return(n=>{const r=function*(){yield this._client.send("Runtime.evaluate",{expression:"new Promise(x => requestAnimationFrame(() => requestAnimationFrame(x)))",awaitPromise:!0});const n=[{x:Math.round(e),y:Math.round(t)}];yield this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:n,modifiers:this._keyboard._modifiers}),yield this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}}}},function(e,t){e.exports={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"}}},function(e,t,n){const{helper:r,assert:i}=n(4),o=n(0),s=r.promisify(o.open),a=r.promisify(o.write),c=r.promisify(o.close);e.exports=class{constructor(e){this._client=e,this._recording=!1,this._path=""}start(e){return(t=>{const n=function*(){i(!this._recording,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"],{path:n=null,screenshots:r=!1,categories:o=t}=e;r&&o.push("disabled-by-default-devtools.screenshot"),this._path=n,this._recording=!0,yield this._client.send("Tracing.start",{transferMode:"ReturnAsStream",categories:o.join(",")})}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}stop(){return(e=>{const t=function*(){let e;const t=new Promise(t=>e=t);return this._client.once("Tracing.tracingComplete",t=>{this._readStream(t.stream,this._path).then(e)}),yield this._client.send("Tracing.end"),this._recording=!1,t}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}_readStream(e,t){return(n=>{const r=function*(){let n,r=!1;t&&(n=yield s(t,"w"));const i=[];for(;!r;){const o=yield this._client.send("IO.read",{handle:e});r=o.eof,i.push(Buffer.from(o.data)),t&&(yield a(n,o.data))}t&&(yield c(n)),yield this._client.send("IO.close",{handle:e});let o=null;try{o=Buffer.concat(i)}finally{return o}}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}}},function(e,t,n){const{helper:r,debugError:i,assert:o}=n(4),{EVALUATION_SCRIPT_URL:s}=n(39);e.exports={Coverage:class{constructor(e){this._jsCoverage=new a(e),this._cssCoverage=new c(e)}startJSCoverage(e){return(t=>{const n=function*(){return yield this._jsCoverage.start(e)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}stopJSCoverage(){return(e=>{const t=function*(){return yield this._jsCoverage.stop()}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}startCSSCoverage(e){return(t=>{const n=function*(){return yield this._cssCoverage.start(e)}.call(this);return new Promise((e,t)=>(function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}stopCSSCoverage(){return(e=>{const t=function*(){return yield this._cssCoverage.stop()}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}}};class a{constructor(e){this._client=e,this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1}start(e={}){return(t=>{const n=function*(){o(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:n=!1}=e;this._resetOnNavigation=t,this._reportAnonymousScripts=n,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[r.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),r.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],yield Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:!1,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._scriptURLs.clear(),this._scriptSources.clear())}_onScriptParsed(e){return(t=>{const n=function*(){if(e.url===s)return;if(!e.url&&!this._reportAnonymousScripts)return;try{const t=yield this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,t.scriptSource)}catch(e){i(e)}}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}stop(){return(e=>{const t=function*(){o(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;const[e]=yield Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);r.removeEventListeners(this._eventListeners);const t=[];for(const n of e.result){let e=this._scriptURLs.get(n.scriptId);!e&&this._reportAnonymousScripts&&(e="debugger://VM"+n.scriptId);const r=this._scriptSources.get(n.scriptId);if(void 0===r||void 0===e)continue;const i=[];for(const e of n.functions)i.push(...e.ranges);const o=l(i);t.push({url:e,ranges:o,text:r})}return t}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}}class c{constructor(e){this._client=e,this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1}start(e={}){return(t=>{const n=function*(){o(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this._resetOnNavigation=t,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[r.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),r.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],yield Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}_onStyleSheet(e){return(t=>{const n=function*(){const t=e.header;if(!t.sourceURL)return;try{const e=yield this._client.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this._stylesheetURLs.set(t.styleSheetId,t.sourceURL),this._stylesheetSources.set(t.styleSheetId,e.text)}catch(e){i(e)}}.call(this);return new Promise((e,t)=>{return function r(i,o){let s,a;try{a=(s=n[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}stop(){return(e=>{const t=function*(){o(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;const e=yield this._client.send("CSS.stopRuleUsageTracking");yield Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),r.removeEventListeners(this._eventListeners);const t=new Map;for(const n of e.ruleUsage){let e=t.get(n.styleSheetId);e||(e=[],t.set(n.styleSheetId,e)),e.push({startOffset:n.startOffset,endOffset:n.endOffset,count:n.used?1:0})}const n=[];for(const e of this._stylesheetURLs.keys()){const r=this._stylesheetURLs.get(e),i=this._stylesheetSources.get(e),o=l(t.get(e)||[]);n.push({url:r,ranges:o,text:i})}return n}.call(this);return new Promise((e,n)=>{return function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)}("next")})})()}}function l(e){const t=[];for(const n of e)t.push({offset:n.startOffset,type:0,range:n}),t.push({offset:n.endOffset,type:1,range:n});t.sort((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const n=e.range.endOffset-e.range.startOffset,r=t.range.endOffset-t.range.startOffset;return 0===e.type?r-n:n-r});const n=[],r=[];let i=0;for(const e of t){if(n.length&&i<e.offset&&n[n.length-1]>0){const t=r.length?r[r.length-1]:null;t&&t.end===i?t.end=e.offset:r.push({start:i,end:e.offset})}i=e.offset,0===e.type?n.push(e.range.count):n.pop()}return r.filter(e=>e.end-e.start>1)}},function(e,t,n){const r=n(1),{debugError:i}=n(4),{ExecutionContext:o}=n(39),{JSHandle:s}=n(40);e.exports={Worker:class extends r{constructor(e,t,n,r){let a;super(),this._client=e,this._url=t,this._executionContextPromise=new Promise(e=>this._executionContextCallback=e),this._client.once("Runtime.executionContextCreated",t=>(n=>{const r=function*(){a=(t=>new s(n,e,t));const n=new o(e,t.context,null);this._executionContextCallback(n)}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()),this._client.send("Runtime.enable",{}).catch(i),this._client.on("Runtime.consoleAPICalled",e=>n(e.type,e.args.map(a),e.stackTrace)),this._client.on("Runtime.exceptionThrown",e=>r(e.exceptionDetails))}url(){return this._url}executionContext(){return(e=>{const t=function*(){return this._executionContextPromise}.call(this);return new Promise((e,n)=>(function r(i,o){let s,a;try{a=(s=t[i](o)).value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(e=>{r("next",e)},e=>{r("throw",e)});e(a)})("next"))})()}evaluate(e,...t){return(n=>{const r=function*(){return(yield this._executionContextPromise).evaluate(e,...t)}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}evaluateHandle(e,...t){return(n=>{const r=function*(){return(yield this._executionContextPromise).evaluateHandle(e,...t)}.call(this);return new Promise((e,t)=>(function n(i,o){let s,a;try{a=(s=r[i](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}}}},function(e,t){function n(e,t){const r=[];for(const i of e._children)r.push(...n(i,t));if(t&&!t.has(e))return r;const i=e.serialize();return r.length&&(i.children=r),[i]}class r{constructor(e){this._payload=e,this._children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._expanded=!1,this._name=this._payload.name?this._payload.name.value:"",this._role=this._payload.role?this._payload.role.value:"Unknown",this._cachedHasFocusableChild;for(const e of this._payload.properties||[])"editable"===e.name&&(this._richlyEditable="richtext"===e.value.value,this._editable=!0),"focusable"===e.name&&(this._focusable=e.value.value),"expanded"===e.name&&(this._expanded=e.value.value)}_isPlainTextField(){return!this._richlyEditable&&(!!this._editable||("textbox"===this._role||"ComboBox"===this._role||"searchbox"===this._role))}_isTextOnlyObject(){const e=this._role;return"LineBreak"===e||"text"===e||"InlineTextBox"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this._children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}isLeafNode(){if(!this._children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!this._hasFocusableChild()&&(!(!this._focusable||!this._name)||!("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this._role&&(!(!this._focusable&&!this._richlyEditable)||(!!this.isControl()||!e&&(this.isLeafNode()&&!!this._name)))}serialize(){const e=new Map;for(const t of this._payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this._payload.name&&e.set("name",this._payload.name.value),this._payload.value&&e.set("value",this._payload.value.value),this._payload.description&&e.set("description",this._payload.description.value);const t={role:this._role},n=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const r of n)e.has(r)&&(t[r]=e.get(r));const r=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const n of r){if("focused"===n&&"WebArea"===this._role)continue;const r=e.get(n);r&&(t[n]=r)}const i=["checked","pressed"];for(const n of i){if(!e.has(n))continue;const r=e.get(n);t[n]="mixed"===r?"mixed":"true"===r}const o=["level","valuemax","valuemin"];for(const n of o)e.has(n)&&(t[n]=e.get(n));const s=["autocomplete","haspopup","invalid","orientation"];for(const n of s){const r=e.get(n);r&&"false"!==r&&(t[n]=r)}return t}static createTree(e){const t=new Map;for(const n of e)t.set(n.nodeId,new r(n));for(const e of t.values())for(const n of e._payload.childIds||[])e._children.push(t.get(n));return t.values().next().value}}e.exports={Accessibility:class{constructor(e){this._client=e}snapshot(e={}){return(t=>{const i=function*(){const{interestingOnly:t=!0}=e,{nodes:i}=yield this._client.send("Accessibility.getFullAXTree"),o=r.createTree(i);if(!t)return n(o)[0];const s=new Set;return function e(t,n,r){if(n.isInteresting(r)&&t.add(n),!n.isLeafNode()){r=r||n.isControl();for(const i of n._children)e(t,i,r)}}(s,o,!1),n(o,s)[0]}.call(this);return new Promise((e,t)=>(function n(r,o){let s,a;try{a=(s=i[r](o)).value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(a).then(e=>{n("next",e)},e=>{n("throw",e)});e(a)})("next"))})()}}}},function(e,t){const n=3e4;e.exports={TimeoutSettings:class{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return null!==this._defaultNavigationTimeout?this._defaultNavigationTimeout:null!==this._defaultTimeout?this._defaultTimeout:n}timeout(){return null!==this._defaultTimeout?this._defaultTimeout:n}}}},function(e,t){e.exports={TaskQueue:class{constructor(){this._chain=Promise.resolve()}postTask(e){const t=this._chain.then(e);return this._chain=t.catch(()=>{}),t}}}},function(e,t,n){const r=n(75);class i{static create(e){return new Promise((t,n)=>{const o=new r(e,[],{perMessageDeflate:!1});o.addEventListener("open",()=>t(new i(o))),o.addEventListener("error",n)})}constructor(e){this._ws=e,this._ws.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this._ws.addEventListener("close",e=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}send(e){this._ws.send(e)}close(){this._ws.close()}}e.exports=i},function(e,t,n){const{helper:r}=n(4);e.exports=class{constructor(e,t){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[r.addEventListener(t,"data",e=>this._dispatch(e)),r.addEventListener(t,"close",()=>{this.onclose&&this.onclose.call(null)})],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let t=e.indexOf("\0");if(-1===t)return void(this._pendingMessage+=e.toString());const n=this._pendingMessage+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,n);let r=t+1;for(t=e.indexOf("\0",r);-1!==t;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,r,t)),r=t+1,t=e.indexOf("\0",r);this._pendingMessage=e.toString(void 0,r)}close(){this._pipeWrite=null,r.removeEventListeners(this._eventListeners)}}},function(e){e.exports={_from:"puppeteer@^1.13.0",_id:"puppeteer@1.13.0",_inBundle:!1,_integrity:"sha512-LUXgvhjfB/P6IOUDAKxOcbCz9ISwBLL9UpKghYrcBDwrOGx1m60y0iN2M64mdAUbT4+7oZM5DTxOW7equa2fxQ==",_location:"/puppeteer",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"puppeteer@^1.13.0",name:"puppeteer",escapedName:"puppeteer",rawSpec:"^1.13.0",saveSpec:null,fetchSpec:"^1.13.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/puppeteer/-/puppeteer-1.13.0.tgz",_shasum:"187ccf5ed5caf08ed1291b262d033cc364bf88ab",_spec:"puppeteer@^1.13.0",_where:"D:\\REPOS\\3.VSCODE EXTENSION\\md-mermaid-renderer",author:{name:"The Chromium Authors"},browser:{"./lib/BrowserFetcher.js":!1,"./node6/lib/Puppeteer":!1,ws:"./utils/browser/WebSocket",fs:!1,child_process:!1,rimraf:!1,readline:!1},bugs:{url:"https://github.com/GoogleChrome/puppeteer/issues"},bundleDependencies:!1,dependencies:{debug:"^4.1.0","extract-zip":"^1.6.6","https-proxy-agent":"^2.2.1",mime:"^2.0.3",progress:"^2.0.1","proxy-from-env":"^1.0.0",rimraf:"^2.6.1",ws:"^6.1.0"},deprecated:!1,description:"A high-level API to control headless Chrome over the DevTools Protocol",devDependencies:{"@types/debug":"0.0.31","@types/extract-zip":"^1.6.2","@types/mime":"^2.0.0","@types/node":"^8.10.34","@types/rimraf":"^2.0.2","@types/ws":"^6.0.1",commonmark:"^0.28.1","cross-env":"^5.0.5",eslint:"^5.9.0",esprima:"^4.0.0","jpeg-js":"^0.3.4",minimist:"^1.2.0",ncp:"^2.0.0",pixelmatch:"^4.0.2",pngjs:"^3.3.3","text-diff":"^1.0.1",typescript:"3.2.2"},engines:{node:">=6.4.0"},homepage:"https://github.com/GoogleChrome/puppeteer#readme",license:"Apache-2.0",main:"index.js",name:"puppeteer",puppeteer:{chromium_revision:"637110"},repository:{type:"git",url:"git+https://github.com/GoogleChrome/puppeteer.git"},scripts:{"apply-next-version":"node utils/apply_next_version.js",build:"node utils/node6-transform/index.js && node utils/doclint/generate_types",bundle:"npx browserify -r ./index.js:puppeteer -o utils/browser/puppeteer-web.js",coverage:"cross-env COVERAGE=true npm run unit","debug-unit":"node --inspect-brk test/test.js",doc:"node utils/doclint/cli.js",funit:"BROWSER=firefox node test/test.js",install:"node install.js",lint:'([ "$CI" = true ] && eslint --quiet -f codeframe . || eslint .) && npm run tsc && npm run doc',prepublishOnly:"npm run build",test:"npm run lint --silent && npm run coverage && npm run test-doclint && npm run test-node6-transformer && npm run test-types","test-doclint":"node utils/doclint/check_public_api/test/test.js && node utils/doclint/preprocessor/test.js","test-node6-transformer":"node utils/node6-transform/test/test.js","test-types":"node utils/doclint/generate_types && npx -p typescript@2.1 tsc -p utils/doclint/generate_types/test/",tsc:"tsc -p .",unit:"node test/test.js","unit-bundle":"node utils/browser/test.js","unit-node6":"node node6/test/test.js"},version:"1.13.0"}},function(e,t,n){
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
const r=n(0),i=n(3),o=n(26),s=n(163),a=process.binding("constants"),c=s(),l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u=/XXXXXX/,d=3,h=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),f=a.EBADF||a.os.errno.EBADF,p=a.ENOENT||a.os.errno.ENOENT,m=448,y=384,g=[];var _=!1,w=!1;function v(e){var t=[],n=null;try{n=o.randomBytes(e)}catch(t){n=o.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(l[n[r]%l.length]);return t.join("")}function b(e){return void 0===e}function k(e,t){return"function"==typeof e?[t||{},e]:b(e)?[{},t]:[e,t]}function x(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(u,v(6));const t=[e.prefix||"tmp-",process.pid,v(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function C(e,t){var n=k(e,t),i=n[0],o=n[1],s=i.name?1:i.tries||d;return isNaN(s)||s<0?o(new Error("Invalid tries")):i.template&&!i.template.match(u)?o(new Error("Invalid template provided")):void function e(){const t=x(i);r.stat(t,function(n){if(!n)return s-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)})}()}function E(e){var t=k(e)[0],n=t.name?1:t.tries||d;if(isNaN(n)||n<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(u))throw new Error("Invalid template provided");do{const e=x(t);try{r.statSync(e)}catch(t){return e}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function P(e){const t=[e];do{for(var n=t.pop(),o=!1,s=r.readdirSync(n),a=0,c=s.length;a<c;a++){var l=i.join(n,s[a]);r.lstatSync(l).isDirectory()?(o||(o=!0,t.push(n)),t.push(l)):r.unlinkSync(l)}o||r.rmdirSync(n)}while(0!==t.length)}function S(e,t,n){const i=F(function(e){try{0<=e[0]&&r.closeSync(e[0])}catch(e){if(!R(e,-f,"EBADF")&&!N(e))throw e}try{r.unlinkSync(e[1])}catch(e){if(!N(e))throw e}},[t,e]);return n.keep||g.unshift(i),i}function T(e,t){const n=F(t.unsafeCleanup?P:r.rmdirSync.bind(r),e);return t.keep||g.unshift(n),n}function F(e,t){var n=!1;return function r(i){if(!n){const i=g.indexOf(r);i>=0&&g.splice(i,1),n=!0,e(t)}i&&i(null)}}function I(){if(!w||_)for(;g.length;)try{g[0].call(null)}catch(e){}}function N(e){return R(e,-p,"ENOENT")}function R(e,t,n){return e.code==t||e.code==n}const M=process.versions.node.split(".").map(function(e){return parseInt(e,10)});0===M[0]&&(M[1]<9||9===M[1]&&M[2]<5)&&process.addListener("uncaughtException",function(e){throw w=!0,I(),e}),process.addListener("exit",function(e){e&&(w=!0),I()}),e.exports.tmpdir=c,e.exports.dir=function(e,t){var n=k(e,t),i=n[0],o=n[1];C(i,function(e,t){if(e)return o(e);r.mkdir(t,i.mode||m,function(e){if(e)return o(e);o(null,t,T(t,i))})})},e.exports.dirSync=function(e){var t=k(e)[0];const n=E(t);return r.mkdirSync(n,t.mode||m),{name:n,removeCallback:T(n,t)}},e.exports.file=function(e,t){var n=k(e,t),i=n[0],o=n[1];i.postfix=b(i.postfix)?".tmp":i.postfix,C(i,function(e,t){if(e)return o(e);r.open(t,h,i.mode||y,function(e,n){return e?o(e):i.discardDescriptor?r.close(n,function(e){if(e){try{r.unlinkSync(t)}catch(t){N(t)||(e=t)}return o(e)}o(null,t,void 0,S(t,-1,i))}):i.detachDescriptor?o(null,t,n,S(t,-1,i)):void o(null,t,n,S(t,n,i))})})},e.exports.fileSync=function(e){var t=k(e)[0];t.postfix=t.postfix||".tmp";const n=t.discardDescriptor||t.detachDescriptor,i=E(t);var o=r.openSync(i,h,t.mode||y);return t.discardDescriptor&&(r.closeSync(o),o=void 0),{name:i,fd:o,removeCallback:S(i,n?-1:o,t)}},e.exports.tmpName=C,e.exports.tmpNameSync=E,e.exports.setGracefulCleanup=function(){_=!0}},function(e,t,n){"use strict";var r="win32"===process.platform,i=r?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=r?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",i.test(e)&&(e=e.slice(0,-1)),e}}]);
//# sourceMappingURL=extension.js.map